{"version":3,"sources":["webpack:///./src/components/pages/Playlist.vue?42c8","webpack:///./src/components/pages/Playlist.vue?7832","webpack:///./src/components/modals/EditPlaylistModal.vue?4694","webpack:///src/components/modals/EditPlaylistModal.vue","webpack:///./src/components/modals/EditPlaylistModal.vue?2d2c","webpack:///./src/components/modals/EditPlaylistModal.vue?725c","webpack:///./src/components/widgets/ErrorText.vue?6de0","webpack:///src/components/widgets/ErrorText.vue","webpack:///./src/components/widgets/ErrorText.vue?f04f","webpack:///./src/components/widgets/ErrorText.vue","webpack:///src/components/pages/Playlist.vue","webpack:///./src/components/pages/Playlist.vue?2e53","webpack:///./src/components/pages/Playlist.vue?f8fd","webpack:///./src/components/modals/EditPlaylistModal.vue?8389"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","playlists","length","attrs","$t","sortOptions","model","value","callback","$$v","currentSort","expression","key","class","button","loading","addPlaylist","on","showAddModal","_v","_s","_e","_l","playlist","id","for_client","selected","currentPlaylist","getPlaylistPath","name","formatDate","updated_at","errors","playlistsInit","first_preview_file_id","created_at","big","ref","currentEntities","isAddingEntity","isAssetPlaylist","showEditModal","toggleAddEntities","onPreviewChanged","onTaskTypeChanged","goFirstPlaylist","removeEntity","onOrderChange","onAnnotationChanged","onForClientChanged","isCurrentUserManager","addEntitiesText","onSearchChange","isAdditionLoading","addCurrentSelection","addDaily","addDailyPending","isTVShow","addEpisode","addEpisodePending","addMovie","directives","rawName","isShotsLoading","isAssetsLoading","typeAssets","i","asset_type_name","asset","$event","preventDefault","addEntityToPlaylist","preview_file_id","sequenceShots","sequence_name","sequence_id","addSequence","shot","playlisted","undefined","modals","isEditDisplayed","editPlaylist","playlistToEdit","hideEditModal","confirmEditPlaylist","staticRenderFns","active","$emit","runConfirmation","form","$set","forClientOptions","forClient","isEditing","forEntityOptions","isLoading","mixins","components","Combobox","TextField","props","data","for_entity","defaultForEntity","is_for_all","currentEpisode","computed","isAssetEpisode","methods","resetForm","watch","setTimeout","component","alignRight","hidden","text","default","type","String","Boolean","ErrorText","EditPlaylistModal","LightEntityThumbnail","PageSubtitle","PlaylistPlayer","PlusIcon","SearchField","Spinner","XIcon","sortedPlaylists","isDeleteDisplayed","addWeekly","deletePlaylist","playlistLoading","isAddSearchVisible","lastPlaylistsUpdated","lastPlaylistsCreated","slice","playlistPlayer","$refs","tvShowPageTitle","episodeName","shortPageTitle","loadShotsData","loadShots","loadAssetsData","displayedAssets","loadAssets","Promise","resolve","loadPlaylistsData","loadPlaylists","err","setFirstPlaylist","rebuildCurrentEntities","shots","forEach","playlistEntity","tmpEntities","$nextTick","convertEntityToPlaylistFormat","entity","assetMap","entityInfo","shotMap","parent_name","preview_files","preview_file_extension","preview_file_task_id","preview_file_annotations","preview_file_previews","setCurrentPlaylist","loadPlaylist","console","error","currentShots","addEntity","loadEntityPreviewFiles","addToStorePlaylistAndSave","pushEntityToPlaylist","previewFiles","addToPlayerPlaylist","entityList","push","removeEntityPreviewFromPlaylist","clearCurrentPlaylist","resetPlaylist","$options","silent","addEntities","addAllPending","getPending","reverse","entities","changePlaylistPreview","previewFileId","changePlaylistOrder","info","updatePreviewAnnotation","searchQuery","setAssetSearch","displayMoreAssets","setShotSearch","displayMoreShots","runAddPlaylist","production_id","currentProduction","newPlaylist","episode_id","runEditPlaylist","Object","assign","$router","params","playlist_id","playlistsPath","changePlaylistType","taskTypeId","onBodyScroll","maxHeight","position","scrollTop","resetSorting","includes","order","reloadAll","mounted","localStorage","getItem","$route","$store","commit","setItem","socket","events","playlistMap","eventData","refreshPlaylist","build_jobs","build_job_id","status","metaInfo"],"mappings":"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","file":"js/chunk-090a8818.2b53b564.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=c996eb48&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=c996eb48&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"productions page fixed-page\"},[_c('div',{staticClass:\"columns\"},[(_vm.playlists.length > 0)?_c('div',{staticClass:\"playlist-list-column column\"},[_c('div',[_c('combobox',{attrs:{\"label\":_vm.$t('main.sorted_by'),\"options\":_vm.sortOptions,\"thin\":true,\"locale-key-prefix\":\"playlists.fields.\"},model:{value:(_vm.currentSort),callback:function ($$v) {_vm.currentSort=$$v},expression:\"currentSort\"}})],1),(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n          button: true,\n          'is-loading': _vm.loading.addPlaylist\n        },on:{\"click\":_vm.showAddModal}},[_c('plus-icon',{staticClass:\"icon is-small\"}),_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")],1):_vm._e(),(!_vm.loading.playlists)?_c('div',{staticClass:\"playlists\"},_vm._l((_vm.sortedPlaylists),function(playlist){return _c('router-link',{key:playlist.id,class:{\n            'playlist-item': true,\n            'for-client': playlist.for_client || false,\n            selected: playlist.id === _vm.currentPlaylist.id\n          },attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('span',[_vm._v(\" \"+_vm._s(playlist.name)+\" \")]),_c('span',{staticClass:\"playlist-date\",attrs:{\"title\":\"last modified\"}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])])}),1):_c('spinner',{staticClass:\"mt2\"}),(_vm.errors.playlistLoading)?_c('error-text',{attrs:{\"text\":\"$t('playlists.loading_error')\"}}):_vm._e()],1):_vm._e(),(_vm.playlists.length > 0 && !_vm.currentPlaylist.id && !_vm.loading.playlist)?_c('div',{staticClass:\"playlist-column no-selection\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_creation')))]),(!_vm.loading.playlists && !_vm.loading.playlistsInit)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsCreated),function(playlist){return _c('router-link',{key:'recent-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"300px\",\"height\":\"auto\",\"empty-height\":\"150px\"}}),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.created_at'))+\" \"+_vm._s(_vm.formatDate(playlist.created_at))+\" \")])],1)}),1):_c('spinner',{staticClass:\"mt2\"}),_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_modification')))]),(!_vm.loading.playlists)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsUpdated),function(playlist){return _c('router-link',{key:'recent-modified-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"300px\",\"height\":\"auto\",\"empty-height\":\"150px\"}}),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])],1)}),1):_c('spinner',{staticClass:\"mt2\"})],1):(_vm.playlists.length === 0)?_c('div',{staticClass:\"playlist-column no-selection has-text-centered\"},[(!_vm.loading.playlists && !_vm.loading.playlistsInit)?_c('div',[_c('p',{staticClass:\"empty-explaination\"},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.no_playlist'))+\" \")]),(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n            big: true,\n            button: true,\n            'is-loading': _vm.loading.addPlaylist\n          },on:{\"click\":_vm.showAddModal}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")]):_vm._e()]):_c('spinner',{staticClass:\"mt2\"})],1):_c('div',{staticClass:\"playlist-column column\"},[_c('playlist-player',{ref:\"playlist-player\",attrs:{\"playlist\":_vm.currentPlaylist,\"entities\":_vm.currentEntities,\"is-loading\":_vm.loading.playlist,\"is-adding-entity\":_vm.isAddingEntity,\"is-asset-playlist\":_vm.isAssetPlaylist},on:{\"edit-clicked\":_vm.showEditModal,\"show-add-entities\":_vm.toggleAddEntities,\"preview-changed\":_vm.onPreviewChanged,\"task-type-changed\":_vm.onTaskTypeChanged,\"playlist-deleted\":_vm.goFirstPlaylist,\"remove-entity\":_vm.removeEntity,\"order-change\":_vm.onOrderChange,\"annotationchanged\":_vm.onAnnotationChanged,\"for-client-changed\":_vm.onForClientChanged}}),(_vm.isCurrentUserManager && _vm.isAddingEntity && !_vm.loading.playlist)?_c('div',[_c('div',{staticClass:\"addition-header\"},[_c('div',{staticClass:\"flexrow\"},[_c('page-subtitle',{staticClass:\"flexrow-item\",attrs:{\"text\":_vm.addEntitiesText}}),_c('span',{staticClass:\"filler\"}),_c('a',{staticClass:\"close-button\",on:{\"click\":_vm.toggleAddEntities}},[_c('x-icon')],1)],1),_c('div',{staticClass:\"flexrow\"},[_c('search-field',{ref:\"search-field\",staticClass:\"flexrow-item\",attrs:{\"can-save\":false,\"placeholder\":_vm.isAssetPlaylist ? 'chars mode=wfa' : 'ex: seq01 anim=wfa'},on:{\"change\":_vm.onSearchChange}}),(_vm.isAddSearchVisible)?_c('button',{class:{\n                button: true,\n                'flexrow-item': true,\n                'add-sequence': true\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addCurrentSelection}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_selection'))+\" \")]):_vm._e(),_c('span',{staticClass:\"filler\"}),(!_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addDaily\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addDailyPending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.build_daily'))+\" \")]):_vm._e(),(_vm.isTVShow && !_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addEpisode\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addEpisodePending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_episode'))+\" \")]):(!_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addMovie\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addMovie}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_movie'))+\" \")]):_vm._e()],1)])]):_vm._e(),(_vm.isCurrentUserManager && _vm.isAddingEntity)?_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onBodyScroll),expression:\"onBodyScroll\"}],ref:\"List\",staticClass:\"addition-section\"},[(_vm.isShotsLoading || _vm.isAssetsLoading)?_c('spinner',{key:\"entity-loader\",staticClass:\"mt2\"}):_c('div',{ref:\"entityListContent\"},[(_vm.isAssetPlaylist)?_c('div',_vm._l((_vm.displayedAssetsByType),function(typeAssets,i){return _c('div',{key:'asset-type-' + i},[(typeAssets.length > 0)?_c('h2',{staticClass:\"entity-group-title\"},[_vm._v(\" \"+_vm._s(typeAssets[0].asset_type_name)+\" \")]):_vm._e(),_c('div',{staticClass:\"addition-entities\"},_vm._l((typeAssets),function(asset){return _c('div',{key:asset.id,class:{\n                    'addition-shot': true\n                  },on:{\"click\":function($event){$event.preventDefault();return _vm.addEntityToPlaylist(asset)}}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":asset.preview_file_id,\"width\":\"150px\",\"height\":\"100px\"}}),_c('span',{staticClass:\"playlisted-shot-name\"},[_vm._v(_vm._s(asset.name))])],1)}),0)])}),0):_c('div',_vm._l((_vm.displayedShotsBySequence),function(sequenceShots,i){return _c('div',{key:'sequence-' + i},[(sequenceShots.length > 0)?_c('h2',{staticClass:\"entity-group-title\"},[_vm._v(\" \"+_vm._s(sequenceShots[0].sequence_name)+\" \"),(_vm.isCurrentUserManager)?_c('button',{key:'add-sequence-button-' + sequenceShots[0].sequence_id,staticClass:\"button\",on:{\"click\":function($event){return _vm.addSequence(sequenceShots)}}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_sequence'))+\" \")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"addition-entities\"},_vm._l((sequenceShots),function(shot){return _c('div',{key:shot.id,class:{\n                    'addition-shot': true,\n                    playlisted: _vm.currentEntities[shot.id] !== undefined\n                  },on:{\"click\":function($event){$event.preventDefault();return _vm.addEntityToPlaylist(shot)}}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":shot.preview_file_id,\"width\":\"150px\",\"height\":\"100px\"}}),_c('span',{staticClass:\"playlisted-shot-name\"},[_vm._v(_vm._s(shot.name))])],1)}),0)])}),0)])],1):_vm._e()],1)]),_c('edit-playlist-modal',{ref:\"edit-playlist-modal\",attrs:{\"active\":_vm.modals.isEditDisplayed,\"is-loading\":_vm.loading.editPlaylist,\"is-error\":_vm.errors.editPlaylist,\"playlist-to-edit\":_vm.playlistToEdit},on:{\"cancel\":_vm.hideEditModal,\"confirm\":_vm.confirmEditPlaylist}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\",on:{\"click\":function($event){return _vm.$emit('cancel')}}}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box\"},[(_vm.isEditing)?_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlists.edit_title\"))+\" \")]):_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlists.create_title\"))+\" \")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],ref:\"nameField\",attrs:{\"label\":_vm.$t('playlists.fields.name')},on:{\"enter\":_vm.runConfirmation},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('combobox',{attrs:{\"label\":_vm.$t('playlists.fields.for_client'),\"options\":_vm.forClientOptions},model:{value:(_vm.forClient),callback:function ($$v) {_vm.forClient=$$v},expression:\"forClient\"}}),(!_vm.isEditing)?_c('combobox',{attrs:{\"label\":_vm.$t('playlists.fields.for_entity'),\"options\":_vm.forEntityOptions},model:{value:(_vm.form.for_entity),callback:function ($$v) {_vm.$set(_vm.form, \"for_entity\", $$v)},expression:\"form.for_entity\"}}):_vm._e()],1),_c('p',{staticClass:\"has-text-right\"},[_c('a',{class:{\n            button: true,\n            'is-primary': true,\n            'is-loading': _vm.isLoading\n          },on:{\"click\":_vm.runConfirmation}},[_vm._v(\" \"+_vm._s(_vm.$t(\"main.confirmation\"))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"main.cancel\"))+\" \")])]),(_vm.isError)?_c('p',{staticClass:\"error has-text-right info-message\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"assets.edit_fail\"))+\" \")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\" @click=\"$emit('cancel')\" ></div>\n\n  <div class=\"modal-content\">\n    <div class=\"box\">\n      <h1 class=\"title\" v-if=\"isEditing\">\n        {{ $t(\"playlists.edit_title\") }}\n      </h1>\n      <h1 class=\"title\" v-else>\n        {{ $t(\"playlists.create_title\") }}\n      </h1>\n\n      <form v-on:submit.prevent>\n        <text-field\n          ref=\"nameField\"\n          :label=\"$t('playlists.fields.name')\"\n          @enter=\"runConfirmation\"\n          v-model=\"form.name\"\n          v-focus\n        />\n        <combobox\n          :label=\"$t('playlists.fields.for_client')\"\n          :options=\"forClientOptions\"\n          v-model=\"forClient\"\n        />\n        <combobox\n          :label=\"$t('playlists.fields.for_entity')\"\n          :options=\"forEntityOptions\"\n          v-model=\"form.for_entity\"\n          v-if=\"!isEditing\"\n        />\n      </form>\n\n      <p class=\"has-text-right\">\n        <a\n          :class=\"{\n            button: true,\n            'is-primary': true,\n            'is-loading': isLoading\n          }\"\n          @click=\"runConfirmation\">\n          {{ $t(\"main.confirmation\") }}\n        </a>\n        <button\n          @click=\"$emit('cancel')\"\n          class=\"button is-link\">\n          {{ $t(\"main.cancel\") }}\n        </button>\n      </p>\n\n      <p class=\"error has-text-right info-message\" v-if=\"isError\">\n        {{ $t(\"assets.edit_fail\") }}\n      </p>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Combobox from '../widgets/Combobox'\nimport TextField from '../widgets/TextField'\n\nimport { mapGetters } from 'vuex'\nimport { modalMixin } from './base_modal'\n\nexport default {\n  name: 'edit-playlist-modal',\n  mixins: [modalMixin],\n  components: {\n    Combobox,\n    TextField\n  },\n\n  props: [\n    'active',\n    'cancelRoute',\n    'isLoading',\n    'isError',\n    'playlistToEdit'\n  ],\n\n  data () {\n    return {\n      forClient: 'false',\n      forClientOptions: [\n        { label: this.$t('playlists.for_client'), value: 'true' },\n        { label: this.$t('playlists.for_studio'), value: 'false' }\n      ],\n      form: {\n        name: this.playlistToEdit.name,\n        for_entity: this.playlistToEdit.for_entity || this.defaultForEntity,\n        for_client: this.playlistToEdit.for_client,\n        is_for_all: this.currentEpisode && this.currentEpisode.id === 'all'\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode'\n    ]),\n\n    isEditing () {\n      return this.playlistToEdit && this.playlistToEdit.id\n    },\n\n    forEntityOptions () {\n      if (this.currentEpisode &&\n          ['main', 'all'].includes(this.currentEpisode.id)) {\n        return [\n          { label: this.$t('assets.title'), value: 'asset' }\n        ]\n      } else {\n        return [\n          { label: this.$t('assets.title'), value: 'asset' },\n          { label: this.$t('shots.title'), value: 'shot' }\n        ]\n      }\n    },\n\n    defaultForEntity () {\n      const isAssetEpisode =\n        this.currentEpisode && ['all', 'main'].includes(this.currentEpisode.id)\n      return isAssetEpisode ? 'asset' : 'shot'\n    }\n  },\n\n  methods: {\n    runConfirmation () {\n      this.form.for_client = this.forClient === 'true'\n      this.$emit('confirm', this.form)\n    },\n\n    resetForm () {\n      if (this.isEditing) {\n        this.form.name = this.playlistToEdit.name\n        this.form.for_entity = this.playlistToEdit.for_entity\n        this.form.is_for_all = this.currentEpisode && this.currentEpisode.id === 'all'\n      } else {\n        this.form = {\n          name: this.playlistToEdit.name,\n          for_entity: this.defaultForEntity,\n          for_client: 'false',\n          is_for_all: this.currentEpisode && this.currentEpisode.id === 'all'\n        }\n      }\n    }\n  },\n\n  watch: {\n    playlistToEdit () {\n      this.resetForm()\n    },\n\n    active () {\n      if (this.active) {\n        this.forClient = this.playlistToEdit.for_client ? 'true' : 'false'\n        this.resetForm()\n        setTimeout(() => {\n          this.$refs.nameField.focus()\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.is-danger {\n  color: #ff3860;\n  font-style: italic;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPlaylistModal.vue?vue&type=template&id=3edf5707&scoped=true&\"\nimport script from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPlaylistModal.vue?vue&type=style&index=0&id=3edf5707&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3edf5707\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{class:{\n  'error': true,\n  'has-text-right': _vm.alignRight,\n  'is-hidden': _vm.hidden\n}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<p :class=\"{\n  'error': true,\n  'has-text-right': alignRight,\n  'is-hidden': hidden\n}\">\n  {{ text }}\n</p>\n</template>\n\n<script>\nexport default {\n  name: 'error-text',\n  props: {\n    text: {\n      default: '',\n      type: String\n    },\n    hidden: {\n      default: false,\n      type: Boolean\n    },\n    alignRight: {\n      default: false,\n      type: Boolean\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorText.vue?vue&type=template&id=1338c033&\"\nimport script from \"./ErrorText.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"productions page fixed-page\">\n    <div class=\"columns\">\n      <div class=\"playlist-list-column column\" v-if=\"playlists.length > 0\">\n\n        <div>\n          <combobox\n            :label=\"$t('main.sorted_by')\"\n            :options=\"sortOptions\"\n            :thin=\"true\"\n            locale-key-prefix=\"playlists.fields.\"\n            v-model=\"currentSort\"\n          />\n        </div>\n\n        <button\n          :class=\"{\n            button: true,\n            'is-loading': loading.addPlaylist\n          }\"\n          @click=\"showAddModal\"\n          key=\"new-playlist-button\"\n          v-if=\"isCurrentUserManager\"\n        >\n          <plus-icon class=\"icon is-small\" />\n          {{ $t('playlists.new_playlist') }}\n        </button>\n\n        <div\n          class=\"playlists\"\n          v-if=\"!loading.playlists\"\n        >\n          <router-link\n            :key=\"playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            :class=\"{\n              'playlist-item': true,\n              'for-client': playlist.for_client || false,\n              selected: playlist.id === currentPlaylist.id\n            }\"\n            v-for=\"playlist in sortedPlaylists\"\n          >\n            <span>\n              {{ playlist.name }}\n            </span>\n            <span class=\"playlist-date\" title=\"last modified\">\n              {{ $t('playlists.updated_at') }}\n              {{ formatDate(playlist.updated_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner\n          class=\"mt2\"\n          v-else\n        />\n        <error-text\n          text=\"$t('playlists.loading_error')\"\n          v-if=\"errors.playlistLoading\"\n        />\n      </div>\n\n      <div\n        class=\"playlist-column no-selection\"\n        v-if=\"playlists.length > 0 && !currentPlaylist.id && !loading.playlist\"\n      >\n        <h2>{{ $t('playlists.last_creation') }}</h2>\n        <div class=\"flexrow\" v-if=\"!loading.playlists && !loading.playlistsInit\">\n          <router-link\n            class=\"recent-playlist flexrow-item\"\n            :key=\"'recent-playlist-' + playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            v-for=\"playlist in lastPlaylistsCreated\"\n          >\n            <light-entity-thumbnail\n              :preview-file-id=\"playlist.first_preview_file_id\"\n              type=\"previews\"\n              width=\"300px\"\n              height=\"auto\"\n              empty-height=\"150px\"\n            />\n            <h3>{{ playlist.name }}</h3>\n            <span>\n              {{ $t('playlists.created_at') }}\n              {{ formatDate(playlist.created_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner class=\"mt2\" v-else />\n\n        <h2>{{ $t('playlists.last_modification') }}</h2>\n        <div class=\"flexrow\" v-if=\"!loading.playlists\">\n          <router-link\n            class=\"recent-playlist flexrow-item\"\n            :key=\"'recent-modified-playlist-' + playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            v-for=\"playlist in lastPlaylistsUpdated\"\n          >\n            <light-entity-thumbnail\n              :preview-file-id=\"playlist.first_preview_file_id\"\n              type=\"previews\"\n              width=\"300px\"\n              height=\"auto\"\n              empty-height=\"150px\"\n            />\n            <h3>{{ playlist.name }}</h3>\n            <span>\n              {{ $t('playlists.updated_at') }}\n              {{ formatDate(playlist.updated_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner class=\"mt2\" v-else />\n      </div>\n      <div\n        class=\"playlist-column no-selection has-text-centered\"\n        v-else-if=\"playlists.length === 0\"\n      >\n        <div v-if=\"!loading.playlists && !loading.playlistsInit\">\n          <p class=\"empty-explaination\">\n            {{ $t('playlists.no_playlist') }}\n          </p>\n          <button\n            :class=\"{\n              big: true,\n              button: true,\n              'is-loading': loading.addPlaylist\n            }\"\n            @click=\"showAddModal\"\n            key=\"new-playlist-button\"\n            v-if=\"isCurrentUserManager\"\n          >\n            {{ $t('playlists.new_playlist') }}\n          </button>\n        </div>\n        <spinner class=\"mt2\" v-else />\n      </div>\n\n      <div class=\"playlist-column column\" v-else>\n        <playlist-player\n          ref=\"playlist-player\"\n          :playlist=\"currentPlaylist\"\n          :entities=\"currentEntities\"\n          :is-loading=\"loading.playlist\"\n          :is-adding-entity=\"isAddingEntity\"\n          :is-asset-playlist=\"isAssetPlaylist\"\n          @edit-clicked=\"showEditModal\"\n          @show-add-entities=\"toggleAddEntities\"\n          @preview-changed=\"onPreviewChanged\"\n          @task-type-changed=\"onTaskTypeChanged\"\n          @playlist-deleted=\"goFirstPlaylist\"\n          @remove-entity=\"removeEntity\"\n          @order-change=\"onOrderChange\"\n          @annotationchanged=\"onAnnotationChanged\"\n          @for-client-changed=\"onForClientChanged\"\n        />\n\n        <div\n          v-if=\"isCurrentUserManager && isAddingEntity && !loading.playlist\"\n        >\n          <div class=\"addition-header\">\n            <div class=\"flexrow\">\n              <page-subtitle\n                class=\"flexrow-item\"\n                :text=\"addEntitiesText\"\n              />\n              <span class=\"filler\"></span>\n              <a\n                class=\"close-button\"\n                @click=\"toggleAddEntities\"\n              >\n                <x-icon />\n              </a>\n            </div>\n            <div class=\"flexrow\">\n              <search-field\n                class=\"flexrow-item\"\n                ref=\"search-field\"\n                :can-save=\"false\"\n                @change=\"onSearchChange\"\n                :placeholder=\"isAssetPlaylist ? 'chars mode=wfa' : 'ex: seq01 anim=wfa'\"\n              />\n              <button\n                :class=\"{\n                  button: true,\n                  'flexrow-item': true,\n                  'add-sequence': true\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addCurrentSelection\"\n                v-if=\"isAddSearchVisible\"\n              >\n                {{ $t('playlists.add_selection') }}\n              </button>\n              <span class=\"filler\"></span>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addDaily\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addDailyPending\"\n                v-if=\"!isAssetPlaylist\"\n              >\n                {{ $t('playlists.build_daily') }}\n              </button>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addEpisode\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addEpisodePending\"\n                v-if=\"isTVShow && !isAssetPlaylist\"\n              >\n                {{ $t('playlists.add_episode') }}\n              </button>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addMovie\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addMovie\"\n                v-else-if=\"!isAssetPlaylist\"\n              >\n                {{ $t('playlists.add_movie') }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"addition-section\"\n          v-if=\"isCurrentUserManager && isAddingEntity\"\n          v-scroll=\"onBodyScroll\"\n          ref=\"List\"\n        >\n          <spinner\n            class=\"mt2\"\n            key=\"entity-loader\"\n            v-if=\"isShotsLoading || isAssetsLoading\"\n          />\n          <div\n            ref=\"entityListContent\"\n            v-else\n          >\n            <div v-if=\"isAssetPlaylist\">\n              <div\n                :key=\"'asset-type-' + i\"\n                v-for=\"(typeAssets, i) in displayedAssetsByType\"\n              >\n                <h2\n                  class=\"entity-group-title\"\n                  v-if=\"typeAssets.length > 0\"\n                >\n                  {{ typeAssets[0].asset_type_name }}\n                  <!--button\n                    class=\"button\"\n                    @click=\"addAsset(sequenceShots)\"\n                    :key=\"'add-sequence-button-' + sequenceShots[0].sequence_id\"\n                    v-if=\"isCurrentUserManager\"\n                  >\n                    {{ $t('playlists.add_sequence') }}\n                  </button-->\n                </h2>\n                <div\n                 class=\"addition-entities\"\n                >\n                  <div\n                    :class=\"{\n                      'addition-shot': true\n                    }\"\n                    :key=\"asset.id\"\n                    @click.prevent=\"addEntityToPlaylist(asset)\"\n                    v-for=\"asset in typeAssets\"\n                  >\n                      <light-entity-thumbnail\n                        :preview-file-id=\"asset.preview_file_id\"\n                        width=\"150px\"\n                        height=\"100px\"\n                      />\n                    <span class=\"playlisted-shot-name\">{{ asset.name }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div v-else>\n              <div\n                :key=\"'sequence-' + i\"\n                v-for=\"(sequenceShots, i) in displayedShotsBySequence\"\n              >\n                <h2\n                  class=\"entity-group-title\"\n                  v-if=\"sequenceShots.length > 0\"\n                >\n                  {{ sequenceShots[0].sequence_name }}\n                  <button\n                    class=\"button\"\n                    @click=\"addSequence(sequenceShots)\"\n                    :key=\"'add-sequence-button-' + sequenceShots[0].sequence_id\"\n                    v-if=\"isCurrentUserManager\"\n                  >\n                    {{ $t('playlists.add_sequence') }}\n                  </button>\n                </h2>\n                <div\n                 class=\"addition-entities\"\n                >\n                  <div\n                    :class=\"{\n                      'addition-shot': true,\n                      playlisted: currentEntities[shot.id] !== undefined\n                    }\"\n                    :key=\"shot.id\"\n                    @click.prevent=\"addEntityToPlaylist(shot)\"\n                    v-for=\"shot in sequenceShots\"\n                  >\n                      <light-entity-thumbnail\n                        :preview-file-id=\"shot.preview_file_id\"\n                        width=\"150px\"\n                        height=\"100px\"\n                      />\n                    <span class=\"playlisted-shot-name\">{{ shot.name }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <edit-playlist-modal\n      ref=\"edit-playlist-modal\"\n      :active=\"modals.isEditDisplayed\"\n      :is-loading=\"loading.editPlaylist\"\n      :is-error=\"errors.editPlaylist\"\n      :playlist-to-edit=\"playlistToEdit\"\n      @cancel=\"hideEditModal\"\n      @confirm=\"confirmEditPlaylist\"\n    />\n\n  </div>\n</template>\n<script>\nimport firstBy from 'thenby'\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\nimport { PlusIcon, XIcon } from 'vue-feather-icons'\nimport { formatDate } from '../../lib/time'\nimport { getPlaylistPath } from '../../lib/path'\nimport {\n  updateModelFromList,\n  removeModelFromList\n} from '../../lib/models'\n\nimport Combobox from '../widgets/Combobox'\nimport EditPlaylistModal from '../modals/EditPlaylistModal'\nimport ErrorText from '../widgets/ErrorText'\nimport LightEntityThumbnail from '../widgets/LightEntityThumbnail'\nimport PageSubtitle from '../widgets/PageSubtitle'\nimport PlaylistPlayer from './playlists/PlaylistPlayer'\nimport SearchField from '../widgets/SearchField'\nimport Spinner from '../widgets/Spinner'\n\nexport default {\n  name: 'productions',\n\n  components: {\n    Combobox,\n    ErrorText,\n    EditPlaylistModal,\n    LightEntityThumbnail,\n    PageSubtitle,\n    PlaylistPlayer,\n    PlusIcon,\n    SearchField,\n    Spinner,\n    XIcon\n  },\n\n  data () {\n    return {\n      currentPlaylist: { name: '' },\n      currentSort: 'updated_at',\n      sortOptions: [\n        'updated_at',\n        'created_at',\n        'name'\n      ].map(name => ({ label: name, value: name })),\n      currentEntities: {},\n      isAddingEntity: false,\n      sortedPlaylists: [],\n      playlistToEdit: {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      },\n      modals: {\n        isDeleteDisplayed: false,\n        isEditDisplayed: false\n      },\n      loading: {\n        addPlaylist: false,\n        addDaily: false,\n        addEpisode: false,\n        addMovie: false,\n        addSequence: false,\n        addWeekly: false,\n        deletePlaylist: false,\n        editPlaylist: false,\n        playlist: false,\n        playlists: false,\n        playlistsInit: true\n      },\n      errors: {\n        addPlaylist: false,\n        editPlaylist: false,\n        deletePlaylist: false,\n        playlistLoading: false\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetMap',\n      'assetSearchText',\n      'currentEpisode',\n      'currentProduction',\n      'displayedAssets',\n      'displayedAssetsByType',\n      'displayedShots',\n      'displayedShotsBySequence',\n      'isAssetsLoading',\n      'isCurrentUserManager',\n      'isShotsLoading',\n      'isTVShow',\n      'playlistMap',\n      'playlists',\n      'playlistsPath',\n      'shotsByEpisode',\n      'shotSearchText',\n      'shotMap',\n      'taskTypeMap'\n    ]),\n\n    isAdditionLoading () {\n      return (\n        this.loading.addSequence ||\n        this.loading.addWeekly ||\n        this.loading.addDaily ||\n        this.loading.addEpisode\n      )\n    },\n\n    isAssetPlaylist () {\n      return this.currentPlaylist.for_entity === 'asset'\n    },\n\n    isAddSearchVisible () {\n      return (\n        (this.isAssetPlaylist && this.assetSearchText) ||\n        (!this.isAssetPlaylist && this.shotSearchText)\n      )\n    },\n\n    lastPlaylistsUpdated () {\n      return this.playlists\n        .concat()\n        .sort(firstBy('updated_at'))\n        .reverse()\n        .slice(0, 3)\n    },\n\n    lastPlaylistsCreated () {\n      return this.playlists.slice(0, 3)\n    },\n\n    playlistPlayer () {\n      return this.$refs['playlist-player']\n    },\n\n    addEntitiesText () {\n      if (this.isAssetPlaylist) {\n        return this.$t('playlists.add_assets')\n      } else {\n        return this.$t('playlists.add_shots')\n      }\n    },\n\n    tvShowPageTitle () {\n      const productionName =\n        this.currentProduction ? this.currentProduction.name : ''\n      let episodeName = ''\n      if (this.currentEpisode) {\n        episodeName = this.currentEpisode.name\n        if (this.currentEpisode.id === 'all') episodeName = this.$t('main.all')\n        if (this.currentEpisode.id === 'main') episodeName = 'Main Pack'\n      }\n      return `${productionName} - ${episodeName}` +\n             ` | ${this.$t('playlists.title')} - Kitsu`\n    },\n\n    shortPageTitle () {\n      const productionName =\n        this.currentProduction ? this.currentProduction.name : ''\n      return `${productionName} ${this.$t('playlists.title')} - Kitsu`\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addNewBuildJob',\n      'pushEntityToPlaylist',\n      'changePlaylistOrder',\n      'changePlaylistPreview',\n      'changePlaylistType',\n      'displayMoreAssets',\n      'displayMoreShots',\n      'editPlaylist',\n      'getPending',\n      'loadPlaylist',\n      'loadPlaylists',\n      'loadEntityPreviewFiles',\n      'loadShots',\n      'loadAssets',\n      'markBuildJobAsDone',\n      'newPlaylist',\n      'refreshPlaylist',\n      'removeEntityPreviewFromPlaylist',\n      'removeBuildJobFromList',\n      'setAssetSearch',\n      'setCurrentEpisode',\n      'setShotSearch',\n      'updatePreviewAnnotation'\n    ]),\n\n    // Helpers\n\n    formatDate (dateString) {\n      return formatDate(dateString)\n    },\n\n    getPlaylistPath (playlistId, section) {\n      return getPlaylistPath(\n        this.currentProduction.id,\n        this.currentEpisode ? this.currentEpisode.id : null,\n        playlistId,\n        section\n      )\n    },\n\n    // Data loading\n\n    loadShotsData (callback) {\n      if (\n        this.displayedShots.length === 0 ||\n        this.displayedShots[0].project_id !== this.currentProduction.id ||\n        (\n          this.currentEpisode &&\n          this.displayedShots[0].episode_id !== this.currentEpisode.id\n        )\n      ) {\n        if (this.isTVShow &&\n            this.currentEpisode &&\n            (this.currentEpisode.id === 'main' ||\n            this.currentEpisode.id === 'all')) {\n          callback()\n        } else {\n          this.loadShots(callback)\n        }\n      } else {\n        callback()\n      }\n    },\n\n    loadAssetsData (callback) {\n      if (this.isTVShow || this.displayedAssets.length === 0) {\n        return this.loadAssets()\n      } else {\n        return Promise.resolve()\n      }\n    },\n\n    loadPlaylistsData (callback) {\n      const setFirstPlaylist = () => {\n        this.setCurrentPlaylist(() => {\n          if (!this.currentPlaylist || !this.currentPlaylist.id) {\n            this.goFirstPlaylist()\n          }\n        })\n      }\n      if (this.playlists.length === 0) {\n        this.loadPlaylists((err) => {\n          if (err) this.errors.loadPlaylists = true\n          if (!err) setFirstPlaylist()\n          if (callback) callback()\n        })\n      } else {\n        setFirstPlaylist()\n        if (callback) callback()\n      }\n    },\n\n    // Playlist build\n\n    rebuildCurrentEntities () {\n      this.currentEntities = {}\n      const tmpEntities = {}\n      if (this.currentPlaylist && this.currentPlaylist.shots) {\n        this.currentPlaylist.shots.forEach((entity) => {\n          const playlistEntity = this.convertEntityToPlaylistFormat(entity)\n          if (playlistEntity) tmpEntities[playlistEntity.id] = playlistEntity\n        })\n      }\n      this.$nextTick(() => {\n        this.currentEntities = tmpEntities\n      })\n    },\n\n    convertEntityToPlaylistFormat (entityInfo) {\n      let entity\n      if (this.isAssetPlaylist) {\n        entity = this.assetMap[entityInfo.id]\n      } else {\n        entity = this.shotMap[entityInfo.id]\n      }\n      if (entity) {\n        const playlistEntity = {\n          id: entityInfo.id,\n          name: entity.name,\n          parent_name: entity.sequence_name || entity.asset_type_name,\n          preview_files: entityInfo.preview_files,\n          preview_file_id:\n            entityInfo.preview_file_id ||\n            entity.preview_file_id,\n          preview_file_extension:\n            entityInfo.preview_file_extension ||\n            entity.preview_file_extension,\n          preview_file_task_id:\n            entityInfo.task_id ||\n            entityInfo.preview_file_task_id ||\n            entity.preview_file_task_id,\n          preview_file_annotations:\n            entityInfo.preview_file_annotations ||\n            entity.preview_file_annotations,\n          preview_file_previews:\n            entityInfo.preview_file_previews ||\n            entity.preview_file_previews\n        }\n        return playlistEntity\n      } else {\n        return null\n      }\n    },\n\n    setCurrentPlaylist (callback) {\n      const playlistId = this.$route.params.playlist_id\n      const playlist = this.playlistMap[playlistId]\n      if (playlist) {\n        this.loading.playlist = true\n        this.loadPlaylist({\n          playlist,\n          callback: (err, playlist) => {\n            if (err) console.error(err)\n            this.currentPlaylist = playlist\n            this.rebuildCurrentEntities()\n            this.loading.playlist = false\n            if (callback) callback()\n          }\n        })\n      } else {\n        this.currentPlaylist = {\n          name: this.$t('playlists.no_selection')\n        }\n        this.currentShots = {}\n      }\n    },\n\n    addEntity (entity) {\n      return this.loadEntityPreviewFiles(entity)\n        .then(previewFiles => {\n          return this.addToStorePlaylistAndSave(previewFiles, entity)\n        })\n        .then(this.addToPlayerPlaylist)\n        .catch((err) => console.error(err))\n    },\n\n    addToStorePlaylistAndSave (previewFiles, entity) {\n      return this.pushEntityToPlaylist({\n        playlist: this.currentPlaylist,\n        previewFiles: previewFiles,\n        entity: { ...entity }\n      })\n    },\n\n    addToPlayerPlaylist (entity) {\n      const playlistEntity = this.convertEntityToPlaylistFormat(entity)\n      this.currentEntities[playlistEntity.id] = playlistEntity\n      this.playlistPlayer.entityList.push(playlistEntity)\n      this.$nextTick(() => {\n        this.playlistPlayer.scrollToRight()\n      })\n    },\n\n    addEntityToPlaylist (entity) {\n      if (!this.currentEntities[entity.id]) {\n        this.addEntity(entity)\n          .then(this.playlistPlayer.scrollToRight())\n      }\n    },\n\n    removeEntity (entity) {\n      this.removeEntityPreviewFromPlaylist({\n        playlist: this.currentPlaylist,\n        entity,\n        callback: () => {\n          delete this.currentEntities[entity.id]\n        }\n      })\n    },\n\n    clearCurrentPlaylist () {\n      this.currentPlaylist = {}\n      this.currentShots = {}\n    },\n\n    resetPlaylist () {\n      this.clearCurrentPlaylist()\n      this.setCurrentPlaylist()\n    },\n\n    // Addition Helpers\n\n    addCurrentSelection () {\n      this.$options.silent = true\n      const entities =\n        this.isAssetPlaylist ? this.displayedAssets : this.displayedShots\n      this.addEntities([...entities].reverse(), () => {\n        this.$options.silent = false\n      })\n    },\n\n    addSequence (sequenceShots) {\n      if (sequenceShots.length > 0) {\n        const sequenceId = sequenceShots[0].sequence_id\n        const shots = Object.values(this.shotMap)\n          .filter(s => s.sequence_id === sequenceId)\n          .sort(firstBy('name'))\n          .reverse()\n        this.$options.silent = true\n        this.addEntities(shots, () => {\n          this.$options.silent = false\n        })\n      }\n    },\n\n    addAllPending () {\n      this.$options.silent = true\n      this.loading.addWeekly = true\n      this.getPending(false)\n        .then((shots) => {\n          this.addEntities(shots.reverse(), () => {\n            this.loading.addWeekly = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addDailyPending () {\n      this.loading.addDaily = true\n      this.$options.silent = true\n      this.getPending(true)\n        .then((shots) => {\n          this.addEntities(shots.reverse(), () => {\n            this.loading.addDaily = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addEpisodePending () {\n      this.loading.addEpisode = true\n      this.$options.silent = true\n      const shots = [].concat(...this.shotsByEpisode).reverse()\n      this.addEntities(shots, () => {\n        this.loading.addEpisode = false\n        this.$options.silent = false\n      })\n    },\n\n    addMovie () {\n      this.loading.addMovie = true\n      this.$options.silent = true\n      const shots = Object.values(this.shotMap)\n      this.addEntities(shots.reverse(), () => {\n        this.loading.addMovie = false\n        this.$options.silent = false\n      })\n    },\n\n    addEntities (entities, callback) {\n      if (entities && entities.length > 0) {\n        const entity = entities.pop()\n        this.addEntity(entity)\n          .then(() => {\n            this.addEntities(entities, callback)\n          })\n      } else {\n        callback()\n      }\n    },\n\n    // Save data\n\n    onPreviewChanged (entity, previewFileId) {\n      this.changePlaylistPreview({\n        playlist: this.currentPlaylist,\n        entity,\n        previewFileId\n      })\n    },\n\n    onOrderChange (info) {\n      this.changePlaylistOrder({\n        playlist: this.currentPlaylist,\n        info\n      })\n    },\n\n    onAnnotationChanged ({ preview, annotations }) {\n      const taskId = preview.task_id\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\n    },\n\n    // Search\n\n    onSearchChange (searchQuery) {\n      if (searchQuery.length > 1) {\n        if (this.isAssetPlaylist) {\n          this.setAssetSearch(searchQuery)\n          this.displayMoreAssets()\n        } else {\n          this.setShotSearch(searchQuery)\n          this.displayMoreShots()\n        }\n      } else {\n        if (this.isAssetPlaylist) {\n          this.setAssetSearch('')\n        } else {\n          this.setShotSearch('')\n        }\n      }\n    },\n\n    // Playlist list\n\n    onForClientChanged (forClient) {\n      this.editPlaylist({\n        data: {\n          id: this.currentPlaylist.id,\n          for_client: forClient\n        }\n      })\n    },\n\n    runAddPlaylist (form) {\n      const newPlaylist = {\n        name: form.name,\n        production_id: this.currentProduction.id,\n        for_client: form.for_client,\n        for_entity: form.for_entity,\n        is_for_all: form.is_for_all\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        newPlaylist.episode_id = this.currentEpisode.id\n      }\n      this.loading.editPlaylist = true\n      this.errors.editPlaylist = false\n      this.newPlaylist({\n        data: newPlaylist,\n        callback: (err, playlist) => {\n          if (err) this.errors.editPlaylist = true\n          this.$router.push(this.getPlaylistPath(playlist.id))\n          this.loading.editPlaylist = false\n          this.modals.isEditDisplayed = false\n        }\n      })\n    },\n\n    confirmEditPlaylist (form) {\n      if (this.playlistToEdit.id) {\n        form.id = this.currentPlaylist.id\n        this.runEditPlaylist(form)\n      } else {\n        this.runAddPlaylist(form)\n      }\n    },\n\n    runEditPlaylist (form) {\n      this.loading.editPlaylist = true\n      this.errors.editPlaylist = false\n      this.editPlaylist({\n        data: {\n          id: form.id,\n          for_client: form.for_client,\n          for_entity: form.for_entity,\n          name: form.name\n        },\n        callback: (err, playlist) => {\n          if (err) this.errors.editPlaylist = true\n          this.loading.editPlaylist = false\n          this.modals.isEditDisplayed = false\n          Object.assign(this.currentPlaylist, playlist)\n        }\n      })\n    },\n\n    goFirstPlaylist () {\n      if (this.playlists.length > 0) {\n        this.$router.push({\n          name: 'playlist',\n          params: {\n            production_id: this.currentProduction.id,\n            playlist_id: this.playlists[0].id\n          }\n        })\n      } else {\n        this.$router.push(this.playlistsPath)\n      }\n    },\n\n    // Changes\n\n    toggleAddEntities () {\n      if (this.isAddingEntity) {\n        this.resetPlaylist()\n      }\n      this.isAddingEntity = !this.isAddingEntity\n    },\n\n    onTaskTypeChanged (taskTypeId) {\n      this.changePlaylistType({\n        playlist: this.currentPlaylist,\n        taskTypeId,\n        callback: () => {\n          this.rebuildCurrentEntities()\n        }\n      })\n    },\n\n    onBodyScroll (event, position) {\n      const maxHeight =\n        this.$refs.entityListContent.scrollHeight -\n        this.$refs.entityListContent.offsetHeight\n      if (maxHeight < position.scrollTop) {\n        if (this.isAssetPlaylist) {\n          this.displayMoreAssets()\n        } else {\n          this.displayMoreShots()\n        }\n      }\n    },\n\n    resetSorting () {\n      let order = 1\n      if (['created_at', 'updated_at'].includes(this.currentSort)) {\n        order = -1\n      }\n      this.sortedPlaylists = [...this.playlists]\n        .sort(\n          firstBy(this.currentSort, order)\n            .thenBy('name')\n        )\n    },\n\n    // Modals\n\n    showAddModal () {\n      this.playlistToEdit = {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      }\n      this.$refs['edit-playlist-modal'] = true\n      this.modals.isEditDisplayed = true\n    },\n\n    showEditModal () {\n      this.playlistToEdit = this.currentPlaylist\n      this.modals.isEditDisplayed = true\n    },\n\n    hideEditModal () {\n      this.playlistToEdit = {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      }\n      this.modals.isEditDisplayed = false\n    },\n\n    // Loading\n\n    reloadAll () {\n      if (!this.loading.playlists) {\n        this.loading.playlists = true\n        this.loadShotsData(() => {\n          this.loadAssetsData()\n            .then(() => {\n              this.loadPlaylistsData(() => {\n                this.loading.playlists = false\n                this.resetPlaylist()\n                setTimeout(() => {\n                  this.loading.playlistsInit = false\n                }, 300)\n              })\n            })\n        })\n      }\n    }\n  },\n\n  mounted () {\n    // Next tick needed to ensure that current production is properly set.\n    this.$nextTick(() => {\n      this.reloadAll()\n      if (localStorage.getItem('playlist-sort')) {\n        this.currentSort = localStorage.getItem('playlist-sort')\n      }\n      this.resetSorting()\n    })\n  },\n\n  watch: {\n    $route () {\n      this.setCurrentPlaylist()\n    },\n\n    currentPlaylist () {\n      if (this.currentPlaylist.shots) {\n        this.isAddingEntity =\n          Object.keys(this.currentPlaylist.shots).length === 0\n      } else {\n        this.isAddingEntity = true\n      }\n    },\n\n    currentProduction () {\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\n      this.reloadAll()\n    },\n\n    currentEpisode () {\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\n      if (this.currentEpisode) {\n        this.reloadAll()\n      }\n    },\n\n    playlists () {\n      this.resetSorting()\n    },\n\n    currentSort () {\n      localStorage.setItem('playlist-sort', this.currentSort)\n      this.resetSorting()\n    }\n  },\n\n  socket: {\n    events: {\n      'playlist:new' (eventData) {\n        if (!this.playlistMap[eventData.playlist_id]) {\n          this.refreshPlaylist(eventData.playlist_id)\n        }\n      },\n\n      'playlist:update' (eventData) {\n      },\n\n      'playlist:delete' (eventData) {\n        this.$store.commit('DELETE_PLAYLIST_END', {\n          id: eventData.playlist_id\n        })\n      },\n\n      'build-job:new' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs = [{\n            id: eventData.build_job_id,\n            created_at: eventData.created_at,\n            status: 'running',\n            playlist_id: this.currentPlaylist.id\n          }].concat(this.currentPlaylist.build_jobs)\n        }\n      },\n\n      'build-job:update' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          updateModelFromList(this.currentPlaylist.build_jobs, {\n            id: eventData.build_job_id,\n            status: eventData.status\n          })\n        }\n      },\n\n      'build-job:delete' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs =\n            removeModelFromList(this.currentPlaylist.build_jobs, {\n              id: eventData.build_job_id\n            })\n        }\n      }\n    }\n  },\n\n  metaInfo () {\n    if (this.isTVShow) {\n      return { title: this.tvShowPageTitle }\n    } else {\n      return { title: this.shortPageTitle }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .playlist-item {\n    background: $dark-grey-lightmore;\n    box-shadow: 0px 0px 6px #333;\n    border-color: $dark-grey;\n    color: $white-grey;\n\n    &.for-client {\n      background: $purple-grey;\n      border: 1px solid $dark-grey;\n    }\n\n    &.selected {\n      border-right: 3px solid $dark-green;\n    }\n  }\n\n  .playlist-list-column {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n    box-shadow: 0px 0px 6px #333;\n  }\n\n  .playlist-column {\n    button,\n    h2.entity-group-title {\n      color: white;\n    }\n  }\n\n  .playlist-column.no-selection {\n    background: $dark-grey-light;\n\n    h2 {\n      color: white;\n    }\n\n    .recent-playlist {\n      background: $dark-grey-lightmore;\n      border: 2px solid $dark-grey;\n      box-shadow: 0px 0px 6px #333;\n\n      h3 {\n        color: white;\n      }\n    }\n  }\n\n  span.thumbnail-picture {\n    box-shadow: 0px 0px 6px #333;\n  }\n}\n\n.page {\n  display: flex;\n  padding-left: 0;\n  padding-right: 0;\n  padding-bottom: 0;\n}\n\n.page .columns {\n  margin-top: 0px;\n  margin-bottom: 0;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.playlist-list-column {\n  max-width: 300px;\n  background: #F4F5F9;\n  overflow-y: auto;\n  padding: 1em 1em 1em 2em;\n  border-right: 1px solid #DDD;\n  box-shadow: 0px 0px 6px #F0F0F0;\n  z-index: 201;\n}\n\n.playlist-item {\n  display: block;\n  background: white;\n  padding: 0.4em;\n  margin: 0.2em;\n  border: 1px solid $white-grey;\n  box-shadow: 0px 0px 6px #DDD;\n  color: $grey-strong;\n\n  &.for-client {\n    background: $light-purple;\n    border: 1px solid $purple;\n  }\n}\n\n.playlist-item.selected {\n  border-right: 3px solid $light-green;\n}\n\n.playlist-list-column .button {\n  width: 100%;\n}\n\n.addition-entities {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  flex-direction: row;\n  max-width: 100%;\n  padding-left: 1em;\n}\n\n.addition-shot {\n  padding: 0;\n  cursor: pointer;\n  text-align: center;\n  margin: 0;\n  opacity: 0.5;\n  width: 170px;\n  display: flex;\n  flex-direction: column;\n  border: 0px solid transparent;\n\n  a {\n    margin: auto;\n  }\n\n  &:hover {\n    opacity: 0.75\n  }\n\n  &.playlisted {\n    opacity: 1;\n\n    img,\n    span.thumbnail-picture {\n      border: 2px solid $purple;\n    }\n  }\n}\n\nspan.thumbnail-picture {\n  box-shadow: 0px 0px 6px #DDD;\n  margin-bottom: 2px;\n}\n\n.addition-header {\n  padding: 0 1em;\n\n  .subtitle {\n    margin-top: 1em;\n  }\n}\n\n.add-sequence {\n  margin-bottom: 0.4em;\n}\n\n.playlist-column {\n  padding: 0;\n  overflow: hidden;\n  flex: 1;\n}\n\n.playlist-column:last-child {\n  padding-right: 0.7em;\n}\n\n.playlisted-shot-name {\n  padding-right: 20px;\n}\n\n.playlist-date {\n  display: block;\n  color: $grey;\n  font-size: 0.8em;\n}\n\n.entity-group-title {\n  border-bottom: 1px solid $light-grey-light;\n  color: $grey;\n  margin: 1em;\n  padding-bottom: 0.2em;\n  text-transform: uppercase;\n\n  button {\n    color: $grey;\n    padding: 0.3em 0.8em;\n    font-size: 0.7em;\n  }\n}\n\n.addition-header {\n  height: 110px;\n}\n\n.addition-section {\n  overflow-y: auto;\n  height: calc(100% - 420px);\n}\n\nh2 {\n  font-weight: bold;\n  text-transform: uppercase;\n  color: $grey;\n}\n\n.playlist-column.no-selection {\n  padding: 2em;\n  overflow: auto;\n  background: #F4F5F9;\n\n  h2 {\n    font-size: 2em;\n    margin-top: 1.5em;\n    margin-bottom: 0.3em;\n  }\n\n  .recent-playlist {\n    width: 333px;\n    background: white;\n    border: 2px solid $light-grey-light;\n    box-shadow: 0px 0px 6px #DDD;\n    border-radius: 1em;\n    padding: 1em;\n\n    h3 {\n      color: $grey-strong;\n      font-size: 1.2em;\n      font-weight: bold;\n    }\n    span {\n      display: block;\n    }\n  }\n\n  .empty-explaination {\n    margin-top: 4em;\n    font-size: 1.5em;\n  }\n\n  .big {\n    font-size: 1.2em;\n    margin-top: 1em;\n    padding: 0.5em 1em;\n    height: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=c996eb48&scoped=true&\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=c996eb48&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c996eb48\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=3edf5707&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=3edf5707&lang=scss&scoped=true&\""],"sourceRoot":""}