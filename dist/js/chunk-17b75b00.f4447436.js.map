{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./src/components/pages/Task.vue?a228","webpack:///./src/components/pages/Task.vue?ce65","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js","webpack:///./src/components/widgets/PreviewRow.vue?f09a","webpack:///src/components/widgets/PreviewRow.vue","webpack:///./src/components/widgets/PreviewRow.vue?2db5","webpack:///./src/components/widgets/PreviewRow.vue?1b31","webpack:///src/components/pages/Task.vue","webpack:///./src/components/pages/Task.vue?f467","webpack:///./src/components/pages/Task.vue?0cd0","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./src/components/widgets/PreviewRow.vue?8040","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js"],"names":["global","has","DESCRIPTORS","$export","redefine","META","KEY","$fails","shared","setToStringTag","uid","wks","wksExt","wksDefine","enumKeys","isArray","anObject","isObject","toObject","toIObject","toPrimitive","createDesc","_create","gOPNExt","$GOPD","$GOPS","$DP","$keys","gOPD","f","dP","gOPN","$Symbol","Symbol","$JSON","JSON","_stringify","stringify","PROTOTYPE","HIDDEN","TO_PRIMITIVE","isEnum","propertyIsEnumerable","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","Object","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","get","this","value","a","it","key","D","protoDesc","wrap","tag","sym","_k","isSymbol","iterator","$defineProperty","enumerable","$defineProperties","P","keys","i","l","length","$create","undefined","$propertyIsEnumerable","E","call","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","push","$getOwnPropertySymbols","IS_OP","TypeError","arguments","$set","configurable","set","name","G","W","F","es6Symbols","split","j","wellKnownSymbols","store","k","S","keyFor","useSetter","useSimple","create","defineProperty","defineProperties","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","FAILS_ON_PRIMITIVES","replacer","$replacer","args","apply","valueOf","Math","toString","windowNames","window","getWindowNames","e","slice","module","exports","getKeys","gOPS","pIE","getSymbols","symbols","core","LIBRARY","charAt","hiddenKeys","concat","O","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","entityPage","taskEntityPath","_v","_s","currentTask","title","currentTaskType","currentProduction","id","_e","isAssigned","isSubscribed","on","toggleSubscribe","$t","_l","personId","personMap","ref","loading","addComment","errors","user","currentTeam","taskStatusForCurrentUser","attachedFileName","onAddPreviewClicked","selectFile","currentTaskComments","comment","index","isHighlighted","person","pinnedCount","onPinComment","onEditComment","onDeleteComment","saveComment","currentTaskPreviews","isCurrentUserManager","class","button","setPreview","entity","preview_file_id","currentPreviewId","preview","previewPath","isMovie","currentPreview","taskTypeMap","taskEntityPreviews","onAnnotationChanged","currentPreviewDlPath","extension","currentPreviewPath","onAddExtraPreview","showRemoveExtraPreviewModal","modals","addPreview","taskPath","addPreviewFormData","closeAddPreviewModal","addExtraPreview","addExtraPreviewFormData","hideExtraPreviewModal","createExtraPreview","changePreview","changePreviewFormData","editComment","commentToEdit","confirmEditTaskComment","onCancelEditComment","deleteComment","confirmDeleteTaskComment","onCancelDeleteComment","deleteExtraPreview","hideRemoveExtraPreviewModal","confirmDeleteTaskPreview","staticRenderFns","obj","constructor","prototype","selected","label","components","ButtonLink","props","type","default","Boolean","taskId","String","computed","methods","component","AddComment","AddPreviewModal","Comment","ChevronLeftIcon","DeleteModal","DownloadIcon","EditCommentModal","ImageIcon","ModelViewer","PeopleAvatar","PreviewRow","PictureViewer","Spinner","SubscribeButton","TaskTypeName","ValidationTag","VideoPlayer","data","currentExtraPreviewId","getEntityPage","selectedTab","taskLoading","isLoading","isError","deleteTask","otherPreviews","created","clearSelectedTasks","loadTaskData","mounted","handleModalsDisplay","reset","$nextTick","scrollTo","isCommentingAllowed","assignees","find","taskTypeBorder","border","task_type_color","deleteTaskPath","isPreviews","entityId","entity_id","params","production_id","project_id","route","shot_id","asset_id","$route","episode_id","entityList","displayedShots","displayedAssets","previousEntity","nextEntity","isTVShow","entityName","windowTitle","deleteText","previewId","moviePath","some","assigneeId","isPreviewButtonVisible","isDlPreviewFile","task_type_id","team","map","filter","task","loadTaskComments","task_id","callback","err","console","log","loadTask","entity_type_name","loadingFunction","getCurrentTask","taskMap","getCurrentComment","comment_id","getTaskComment","getCurrentTaskComments","getTaskComments","getCurrentTaskPreviews","getTaskPreviews","getCurrentTaskPath","getOriginalPath","getOriginalDlPath","getPreviewPath","taskStatusId","commentText","finalize","commentTaskWithPreview","commentTask","setOtherPreviews","path","indexOf","loadPreviewFileFormData","formData","createPreview","addCommentPreview","commentId","previews","findIndex","addCommentExtraPreview","setTimeout","changeCommentPreview","resetPreview","$router","$store","dispatch","confirmDeleteTask","editTaskComment","checklist","deleteTaskComment","$refs","displayFirst","deleteTaskPreview","onPreviewAdded","commit","revision","unsubscribeFromTask","subscribeToTask","section","currentEpisode","preview_id","updatePreviewAnnotation","pinComment","watch","socket","events","eventData","refreshPreview","metaInfo","IE8_DOM_DEFINE","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED"],"mappings":"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","file":"js/chunk-17b75b00.f4447436.js","sourcesContent":["'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","module.exports = require(\"core-js/library/fn/symbol/iterator\");","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","module.exports = require(\"core-js/library/fn/symbol\");","require('./_wks-define')('asyncIterator');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","require('./_wks-define')('observable');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=012a2e24&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=012a2e24&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page fixed-page\"},[_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"page-header\"},[(_vm.currentTask)?_c('div',{staticClass:\"flexrow header-title\"},[_c('router-link',{staticClass:\"flexrow-item has-text-centered back-link\",attrs:{\"to\":_vm.entityPage}},[_c('chevron-left-icon')],1),_c('div',{staticClass:\"title flexrow-item\"},[_c('router-link',{attrs:{\"to\":_vm.taskEntityPath}},[_vm._v(\"\\n          \"+_vm._s(_vm.currentTask ? _vm.title : 'Loading...')+\"\\n        \")])],1),(_vm.currentTaskType)?_c('task-type-name',{staticClass:\"flexrow-item task-type\",attrs:{\"task-type\":_vm.currentTaskType,\"production-id\":_vm.currentProduction.id}}):_vm._e(),(!_vm.isAssigned)?_c('subscribe-button',{staticClass:\"flexrow-item action-button\",attrs:{\"subscribed\":_vm.isAssigned || _vm.isSubscribed},on:{\"click\":_vm.toggleSubscribe}}):_vm._e()],1):_vm._e(),(_vm.currentTask)?_c('div',{staticClass:\"flexrow task-information\"},[_c('span',{staticClass:\"flexrow-item\"},[_vm._v(_vm._s(_vm.$t('tasks.current_status')))]),(_vm.currentTask)?_c('validation-tag',{staticClass:\"is-medium flexrow-item\",attrs:{\"task\":_vm.currentTask,\"is-static\":true}}):_vm._e(),_c('span',{staticClass:\"flexrow-item\"},[_vm._v(_vm._s(_vm.$t('tasks.fields.assignees'))+\":\")]),_vm._l((_vm.currentTask.assignees),function(personId){return _c('span',{key:personId,staticClass:\"flexrow-item avatar-wrapper\"},[_c('people-avatar',{key:personId,staticClass:\"flexrow-item\",attrs:{\"person\":_vm.personMap[personId],\"size\":30,\"font-size\":16}})],1)})],2):_vm._e()]),_c('div',{ref:\"task-columns\",staticClass:\"task-columns\"},[_c('div',{staticClass:\"task-column comments-column\"},[(_vm.currentTask)?_c('div',[_c('div',[(_vm.isCommentingAllowed)?_c('add-comment',{attrs:{\"is-loading\":_vm.loading.addComment,\"is-error\":_vm.errors.addComment,\"user\":_vm.user,\"team\":_vm.currentTeam,\"task\":_vm.currentTask,\"task-status\":_vm.taskStatusForCurrentUser,\"attached-file-name\":_vm.attachedFileName},on:{\"add-comment\":_vm.addComment,\"add-preview\":_vm.onAddPreviewClicked,\"file-drop\":_vm.selectFile}}):_vm._e(),(_vm.currentTaskComments && _vm.currentTaskComments.length > 0)?_c('div',{staticClass:\"comments\"},_vm._l((_vm.currentTaskComments),function(comment,index){return _c('comment',{key:comment.id,attrs:{\"comment\":comment,\"highlighted\":_vm.isHighlighted(comment),\"current-user\":_vm.user,\"editable\":comment.person && _vm.user.id === comment.person.id,\"is-last\":index === _vm.pinnedCount},on:{\"pin-comment\":_vm.onPinComment,\"edit-comment\":_vm.onEditComment,\"delete-comment\":_vm.onDeleteComment,\"checklist-updated\":_vm.saveComment}})}),1):_c('div',{staticClass:\"no-comment\"},[_c('em',[_vm._v(\"\\n              \"+_vm._s(_vm.$t('tasks.no_comment'))+\"\\n            \")])])],1)]):_c('div',{staticClass:\"has-text-centered\"},[_c('spinner')],1)]),_c('div',{staticClass:\"task-column preview-column\"},[_c('div',{staticClass:\"preview-column-content\"},[_c('div',{staticClass:\"flexrow preview-header\"},[_c('h2',{staticClass:\"subtitle flexrow-item\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('tasks.preview'))+\"\\n          \")]),(_vm.isPreviewButtonVisible)?_c('div',{staticClass:\"set-main-preview flexrow-item flexrow pull-right\"},[(_vm.currentTaskPreviews && _vm.currentTaskPreviews.length > 0 && _vm.isCurrentUserManager)?_c('button',{class:{\n                button: true,\n                'flexrow-item': true,\n                'is-loading': _vm.loading.setPreview\n              },on:{\"click\":_vm.setPreview}},[_c('image-icon',{staticClass:\"icon\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('tasks.set_preview'))+\"\\n              \")])],1):_vm._e(),(_vm.errors.setPreview)?_c('span',{staticClass:\"error flexrow-item\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('tasks.set_preview_error'))+\"\\n            \")]):_vm._e()]):_vm._e(),(_vm.currentTask && _vm.currentTask.entity && _vm.currentTask.entity.preview_file_id === _vm.currentPreviewId)?_c('div',{staticClass:\"set-main-preview flexrow-item pull-right\"},[_c('em',[_vm._v(_vm._s(_vm.$t('tasks.set_preview_done')))])]):_vm._e()]),(_vm.isPreviews)?_c('div',{staticClass:\"preview-list mt2\"},_vm._l((_vm.currentTaskPreviews),function(preview){return _c('preview-row',{key:preview.id,attrs:{\"preview\":preview,\"preview-path\":_vm.previewPath(preview.id),\"taskId\":_vm.currentTask ? _vm.currentTask.id : '',\"selected\":preview.id === _vm.currentPreviewId}})}),1):_c('div',[_c('em',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('tasks.no_preview'))+\"\\n          \")])]),_c('div',{staticClass:\"preview-picture\"},[(_vm.currentTaskPreviews && _vm.currentTaskPreviews.length > 0 && _vm.isMovie)?_c('div',[_c('video-player',{ref:\"preview-movie\",attrs:{\"preview\":_vm.currentPreview,\"task-type-map\":_vm.taskTypeMap,\"entity-preview-files\":_vm.taskEntityPreviews},on:{\"annotationchanged\":_vm.onAnnotationChanged}})],1):(_vm.isDlPreviewFile)?_c('a',{ref:\"preview-file\",staticClass:\"button mt2\",attrs:{\"href\":_vm.currentPreviewDlPath}},[_c('download-icon',{staticClass:\"icon\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('tasks.download_pdf_file', {extension: _vm.extension}))+\"\\n            \")])],1):(_vm.currentTaskPreviews && _vm.currentTaskPreviews.length > 0 && _vm.extension === 'obj')?_c('model-viewer',{attrs:{\"preview-url\":_vm.currentPreviewPath,\"preview-dl-path\":_vm.currentPreviewDlPath}}):(_vm.currentTaskPreviews && _vm.currentTaskPreviews.length > 0 && _vm.extension === 'png')?_c('picture-viewer',{ref:\"preview-picture\",attrs:{\"preview\":_vm.currentPreview},on:{\"annotation-changed\":_vm.onAnnotationChanged,\"add-preview\":_vm.onAddExtraPreview,\"remove-extra-preview\":_vm.showRemoveExtraPreviewModal}}):_vm._e()],1)])])]),_c('add-preview-modal',{ref:\"add-preview-modal\",attrs:{\"active\":_vm.modals.addPreview,\"is-loading\":_vm.loading.addPreview,\"is-error\":_vm.errors.addPreview,\"cancel-route\":_vm.taskPath(),\"form-data\":_vm.addPreviewFormData},on:{\"fileselected\":_vm.selectFile,\"confirm\":_vm.closeAddPreviewModal}}),_c('add-preview-modal',{ref:\"add-extra-preview-modal\",attrs:{\"active\":_vm.modals.addExtraPreview,\"is-loading\":_vm.loading.addExtraPreview,\"is-error\":_vm.errors.addExtraPreview,\"form-data\":_vm.addExtraPreviewFormData,\"extensions\":\".png,.jpg,.jpeg\"},on:{\"cancel\":_vm.hideExtraPreviewModal,\"fileselected\":_vm.selectFile,\"confirm\":_vm.createExtraPreview}}),_c('add-preview-modal',{ref:\"change-preview-modal\",attrs:{\"active\":_vm.modals.changePreview,\"is-loading\":_vm.loading.changePreview,\"is-error\":_vm.errors.changePreview,\"cancel-route\":_vm.taskPath(),\"form-data\":_vm.changePreviewFormData,\"is-editing\":true},on:{\"fileselected\":_vm.selectFile,\"confirm\":_vm.changePreview}}),_c('edit-comment-modal',{attrs:{\"active\":_vm.modals.editComment,\"is-loading\":_vm.loading.editComment,\"is-error\":_vm.errors.editComment,\"comment-to-edit\":_vm.commentToEdit,\"team\":_vm.currentTeam},on:{\"confirm\":_vm.confirmEditTaskComment,\"cancel\":_vm.onCancelEditComment}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.deleteComment,\"is-loading\":_vm.loading.deleteComment,\"is-error\":_vm.errors.deleteComment,\"text\":_vm.$t('tasks.delete_comment'),\"error-text\":_vm.$t('tasks.delete_comment_error')},on:{\"confirm\":_vm.confirmDeleteTaskComment,\"cancel\":_vm.onCancelDeleteComment}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.deleteExtraPreview,\"is-loading\":_vm.loading.deleteExtraPreview,\"is-error\":_vm.errors.deleteExtraPreview,\"text\":_vm.$t('tasks.delete_preview'),\"error-text\":_vm.$t('tasks.delete_preview_error')},on:{\"cancel\":_vm.hideRemoveExtraPreviewModal,\"confirm\":_vm.confirmDeleteTaskPreview}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'preview-row': true,\n  'has-text-center': true,\n  selected: _vm.selected\n}},[_c('button-link',{attrs:{\"text\":_vm.label,\"path\":_vm.previewPath}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'preview-row': true,\n  'has-text-center': true,\n  selected: selected\n}\">\n  <button-link\n    :text=\"label\"\n    :path=\"previewPath\"\n  >\n  </button-link>\n</div>\n</template>\n\n<script>\nimport ButtonLink from './ButtonLink.vue'\n\nexport default {\n  name: 'preview-row',\n  components: {\n    ButtonLink\n  },\n  props: {\n    preview: {\n      type: Object,\n      default: () => {}\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    taskId: {\n      type: String,\n      default: ''\n    },\n\n    previewPath: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  computed: {\n    label () {\n      let label = `v${this.preview.revision}`\n      return label\n    }\n  },\n  methods: {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.preview-row {\n  margin-right: 0.5em;\n}\n\n.preview-row a {\n  border: 3px solid $light-grey;\n}\n\n.preview-row:hover a {\n  border: 3px solid #E1D4F9;\n}\n\n.preview-row.selected a {\n  border: 3px solid #8F91EB;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreviewRow.vue?vue&type=template&id=f16eab4a&scoped=true&\"\nimport script from \"./PreviewRow.vue?vue&type=script&lang=js&\"\nexport * from \"./PreviewRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreviewRow.vue?vue&type=style&index=0&id=f16eab4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f16eab4a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"page fixed-page\">\n  <div style=\"overflow-y: auto;\">\n    <div class=\"page-header\">\n      <div\n        class=\"flexrow header-title\"\n        v-if=\"currentTask\"\n      >\n        <router-link\n          :to=\"entityPage\"\n          class=\"flexrow-item has-text-centered back-link\"\n        >\n          <chevron-left-icon />\n        </router-link>\n        <div class=\"title flexrow-item\">\n          <router-link :to=\"taskEntityPath\">\n            {{ currentTask ? title : 'Loading...'}}\n          </router-link>\n        </div>\n        <task-type-name\n          class=\"flexrow-item task-type\"\n          :task-type=\"currentTaskType\"\n          :production-id=\"currentProduction.id\"\n          v-if=\"currentTaskType\"\n        />\n        <subscribe-button\n          class=\"flexrow-item action-button\"\n          :subscribed=\"isAssigned || isSubscribed\"\n          @click=\"toggleSubscribe\"\n          v-if=\"!isAssigned\"\n        />\n      </div>\n\n      <div\n        class=\"flexrow task-information\"\n        v-if=\"currentTask\"\n      >\n        <span class=\"flexrow-item\">{{ $t('tasks.current_status') }}</span>\n        <validation-tag\n          class=\"is-medium flexrow-item\"\n          :task=\"currentTask\"\n          :is-static=\"true\"\n          v-if=\"currentTask\"\n        />\n        <span class=\"flexrow-item\">{{ $t('tasks.fields.assignees') }}:</span>\n        <span\n          class=\"flexrow-item avatar-wrapper\"\n          :key=\"personId\"\n          v-for=\"personId in currentTask.assignees\"\n        >\n          <people-avatar\n            class=\"flexrow-item\"\n            :key=\"personId\"\n            :person=\"personMap[personId]\"\n            :size=\"30\"\n            :font-size=\"16\"\n          />\n       </span>\n      </div>\n    </div>\n\n    <div class=\"task-columns\" ref=\"task-columns\">\n      <div class=\"task-column comments-column\">\n        <div v-if=\"currentTask\">\n          <div>\n            <add-comment\n              :is-loading=\"loading.addComment\"\n              :is-error=\"errors.addComment\"\n              :user=\"user\"\n              :team=\"currentTeam\"\n              :task=\"currentTask\"\n              :task-status=\"taskStatusForCurrentUser\"\n              :attached-file-name=\"attachedFileName\"\n              @add-comment=\"addComment\"\n              @add-preview=\"onAddPreviewClicked\"\n              @file-drop=\"selectFile\"\n              v-if=\"isCommentingAllowed\"\n            />\n            <div class=\"comments\" v-if=\"currentTaskComments && currentTaskComments.length > 0\">\n              <comment\n                :comment=\"comment\"\n                :highlighted=\"isHighlighted(comment)\"\n                :key=\"comment.id\"\n                :current-user=\"user\"\n                :editable=\"comment.person && user.id === comment.person.id\"\n                :is-last=\"index === pinnedCount\"\n                @pin-comment=\"onPinComment\"\n                @edit-comment=\"onEditComment\"\n                @delete-comment=\"onDeleteComment\"\n                @checklist-updated=\"saveComment\"\n                v-for=\"(comment, index) in currentTaskComments\"\n              />\n            </div>\n            <div class=\"no-comment\" v-else>\n              <em>\n                {{ $t('tasks.no_comment')}}\n              </em>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"has-text-centered\" v-else>\n          <spinner />\n        </div>\n      </div>\n\n      <div class=\"task-column preview-column\">\n        <div class=\"preview-column-content\">\n          <div class=\"flexrow preview-header\">\n            <h2 class=\"subtitle flexrow-item\">\n              {{ $t('tasks.preview') }}\n            </h2>\n            <div\n              class=\"set-main-preview flexrow-item flexrow pull-right\"\n              v-if=\"isPreviewButtonVisible\"\n            >\n              <button\n                :class=\"{\n                  button: true,\n                  'flexrow-item': true,\n                  'is-loading': loading.setPreview\n                }\"\n                @click=\"setPreview\"\n                v-if=\"currentTaskPreviews && currentTaskPreviews.length > 0 && isCurrentUserManager\"\n              >\n                <image-icon class=\"icon\" />\n                <span class=\"text\">\n                  {{ $t('tasks.set_preview') }}\n                </span>\n              </button>\n              <span class=\"error flexrow-item\" v-if=\"errors.setPreview\">\n                {{ $t('tasks.set_preview_error') }}\n              </span>\n            </div>\n            <div\n              class=\"set-main-preview flexrow-item pull-right\"\n              v-if=\"currentTask && currentTask.entity && currentTask.entity.preview_file_id === currentPreviewId\">\n              <em>{{ $t('tasks.set_preview_done') }}</em>\n            </div>\n          </div>\n\n          <div\n            class=\"preview-list mt2\"\n            v-if=\"isPreviews\"\n          >\n            <preview-row\n              :key=\"preview.id\"\n              :preview=\"preview\"\n              :preview-path=\"previewPath(preview.id)\"\n              :taskId=\"currentTask ? currentTask.id : ''\"\n              :selected=\"preview.id === currentPreviewId\"\n              v-for=\"preview in currentTaskPreviews\"\n            />\n          </div>\n          <div v-else>\n            <em>\n              {{ $t('tasks.no_preview')}}\n            </em>\n          </div>\n\n          <div class=\"preview-picture\">\n            <div\n              v-if=\"currentTaskPreviews && currentTaskPreviews.length > 0 && isMovie\"\n            >\n              <video-player\n                :preview=\"currentPreview\"\n                :task-type-map=\"taskTypeMap\"\n                :entity-preview-files=\"taskEntityPreviews\"\n                @annotationchanged=\"onAnnotationChanged\"\n                ref=\"preview-movie\"\n              />\n            </div>\n\n            <a\n              class=\"button mt2\"\n              ref=\"preview-file\"\n              :href=\"currentPreviewDlPath\"\n              v-else-if=\"isDlPreviewFile\"\n            >\n              <download-icon class=\"icon\" />\n              <span class=\"text\">\n                {{ $t('tasks.download_pdf_file', {extension}) }}\n              </span>\n            </a>\n\n            <model-viewer\n              :preview-url=\"currentPreviewPath\"\n              :preview-dl-path=\"currentPreviewDlPath\"\n              v-else-if=\"currentTaskPreviews && currentTaskPreviews.length > 0 && extension === 'obj'\"\n            />\n\n            <picture-viewer\n              :preview=\"currentPreview\"\n              @annotation-changed=\"onAnnotationChanged\"\n              @add-preview=\"onAddExtraPreview\"\n              @remove-extra-preview=\"showRemoveExtraPreviewModal\"\n              ref=\"preview-picture\"\n              v-else-if=\"currentTaskPreviews && currentTaskPreviews.length > 0 && extension === 'png'\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <add-preview-modal\n      ref=\"add-preview-modal\"\n      :active=\"modals.addPreview\"\n      :is-loading=\"loading.addPreview\"\n      :is-error=\"errors.addPreview\"\n      :cancel-route=\"taskPath()\"\n      :form-data=\"addPreviewFormData\"\n      @fileselected=\"selectFile\"\n      @confirm=\"closeAddPreviewModal\"\n    />\n\n    <add-preview-modal\n      ref=\"add-extra-preview-modal\"\n      :active=\"modals.addExtraPreview\"\n      :is-loading=\"loading.addExtraPreview\"\n      :is-error=\"errors.addExtraPreview\"\n      :form-data=\"addExtraPreviewFormData\"\n      extensions=\".png,.jpg,.jpeg\"\n      @cancel=\"hideExtraPreviewModal\"\n      @fileselected=\"selectFile\"\n      @confirm=\"createExtraPreview\"\n    />\n\n    <add-preview-modal\n      ref=\"change-preview-modal\"\n      :active=\"modals.changePreview\"\n      :is-loading=\"loading.changePreview\"\n      :is-error=\"errors.changePreview\"\n      :cancel-route=\"taskPath()\"\n      :form-data=\"changePreviewFormData\"\n      :is-editing=\"true\"\n      @fileselected=\"selectFile\"\n      @confirm=\"changePreview\"\n    />\n\n    <edit-comment-modal\n      :active=\"modals.editComment\"\n      :is-loading=\"loading.editComment\"\n      :is-error=\"errors.editComment\"\n      :comment-to-edit=\"commentToEdit\"\n      :team=\"currentTeam\"\n      @confirm=\"confirmEditTaskComment\"\n      @cancel=\"onCancelEditComment\"\n    />\n\n    <delete-modal\n      :active=\"modals.deleteComment\"\n      :is-loading=\"loading.deleteComment\"\n      :is-error=\"errors.deleteComment\"\n      :text=\"$t('tasks.delete_comment')\"\n      :error-text=\"$t('tasks.delete_comment_error')\"\n      @confirm=\"confirmDeleteTaskComment\"\n      @cancel=\"onCancelDeleteComment\"\n    />\n\n    <delete-modal\n      :active=\"modals.deleteExtraPreview\"\n      :is-loading=\"loading.deleteExtraPreview\"\n      :is-error=\"errors.deleteExtraPreview\"\n      :text=\"$t('tasks.delete_preview')\"\n      :error-text=\"$t('tasks.delete_preview_error')\"\n      @cancel=\"hideRemoveExtraPreviewModal\"\n      @confirm=\"confirmDeleteTaskPreview\"\n    />\n  </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport {\n  ChevronLeftIcon,\n  DownloadIcon,\n  ImageIcon\n} from 'vue-feather-icons'\n\nimport AddComment from '../widgets/AddComment'\nimport AddPreviewModal from '../modals/AddPreviewModal'\nimport Comment from '../widgets/Comment'\nimport DeleteModal from '../modals/DeleteModal'\nimport EditCommentModal from '../modals/EditCommentModal'\nimport ModelViewer from '../previews/ModelViewer'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\nimport PictureViewer from '../previews/PictureViewer'\nimport PreviewRow from '../widgets/PreviewRow'\nimport Spinner from '../widgets/Spinner'\nimport SubscribeButton from '../widgets/SubscribeButton'\nimport TaskTypeName from '../widgets/TaskTypeName'\nimport ValidationTag from '../widgets/ValidationTag'\nimport VideoPlayer from '../previews/VideoPlayer'\n\nexport default {\n  name: 'task',\n  components: {\n    AddComment,\n    AddPreviewModal,\n    Comment,\n    ChevronLeftIcon,\n    DeleteModal,\n    DownloadIcon,\n    EditCommentModal,\n    ImageIcon,\n    ModelViewer,\n    PeopleAvatar,\n    PreviewRow,\n    PictureViewer,\n    Spinner,\n    SubscribeButton,\n    TaskTypeName,\n    ValidationTag,\n    VideoPlayer\n  },\n\n  data () {\n    return {\n      attachedFileName: '',\n      currentPreviewId: null,\n      currentExtraPreviewId: null,\n      entityPage: this.getEntityPage(),\n      selectedTab: 'validation',\n      taskLoading: {\n        isLoading: true,\n        isError: false\n      },\n      modals: {\n        addPreview: false,\n        addExtraPreview: false,\n        deleteExtraPreview: false,\n        changePreview: false,\n        deleteTask: false,\n        deleteComment: false,\n        editComment: false\n      },\n      loading: {\n        addComment: false,\n        addPreview: false,\n        addExtraPreview: false,\n        changePreview: false,\n        setPreview: false,\n        deleteTask: false,\n        deleteComment: false,\n        editComment: false\n      },\n      errors: {\n        addComment: false,\n        addPreview: false,\n        addExtraPreview: false,\n        changePreview: false,\n        setPreview: false,\n        deleteTask: false,\n        deleteComment: false,\n        editComment: false\n      },\n      currentTask: null,\n      currentTaskComments: [],\n      currentTaskPreviews: [],\n      commentToEdit: null,\n      otherPreviews: [],\n      addPreviewFormData: null,\n      addExtraPreviewFormData: null,\n      changePreviewFormData: null,\n      isSubscribed: false,\n      currentPreviewPath: '',\n      currentPreviewDlPath: ''\n    }\n  },\n\n  created () {\n    this.clearSelectedTasks()\n    this.loadTaskData()\n  },\n\n  mounted () {\n    this.handleModalsDisplay()\n    this.reset()\n    this.$nextTick(() => {\n      if (this.$refs['task-columns']) {\n        this.$refs['task-columns'].scrollTop = 100\n        window.scrollTo(0, 0)\n      }\n    })\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'displayedShots',\n      'displayedAssets',\n      'getTaskComments',\n      'getTaskPreviews',\n      'getTaskComment',\n      'isCurrentUserManager',\n      'isSingleEpisode',\n      'isTVShow',\n      'personMap',\n      'productionMap',\n      'route',\n      'taskEntityPreviews',\n      'taskStatus',\n      'taskStatusForCurrentUser',\n      'taskMap',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    isCommentingAllowed () {\n      return this.isCurrentUserManager || this.currentTask.assignees.find(\n        (personId) => personId === this.user.id\n      )\n    },\n\n    taskTypeBorder () {\n      let border = 'transparent'\n      if (this.currentTask) border = this.currentTask.task_type_color\n      return {\n        'border-left': `4px solid ${border}`\n      }\n    },\n\n    deleteTaskPath () {\n      return this.taskPath(this.currentTask, 'task-delete')\n    },\n\n    isPreviews () {\n      return this.currentTaskPreviews && this.currentTaskPreviews.length > 0\n    },\n\n    taskEntityPath () {\n      if (this.currentTask) {\n        const type = this.currentTask.entity_type_name\n        let entityId = ''\n        if (this.currentTask.entity) {\n          entityId = this.currentTask.entity.id\n        } else {\n          entityId = this.currentTask.entity_id\n        }\n\n        let route = {\n          name: type === 'Shot' ? 'shot' : 'asset',\n          params: {\n            production_id: this.currentTask.project_id\n          }\n        }\n\n        if (type === 'Shot') {\n          route.params.shot_id = entityId\n        } else {\n          route.params.asset_id = entityId\n        }\n\n        if (this.$route.params.episode_id) {\n          route.name = `episode-${route.name}`\n          route.params.episode_id = this.$route.params.episode_id\n        }\n\n        return route\n      } else {\n        return {\n          name: 'open-productions'\n        }\n      }\n    },\n\n    entityList () {\n      let entity = this.displayedShots.find((entity) => {\n        return entity.id === this.currentTask.entity_id\n      })\n      if (entity) {\n        return this.displayedShots\n      } else {\n        return this.displayedAssets\n      }\n    },\n\n    previousEntity () {\n      if (this.currentTask) {\n        const taskTypeId = this.currentTask.task_type_id\n        let entityIndex = this.entityList.findIndex((entity) => {\n          return entity.id === this.currentTask.entity_id\n        })\n        let firstTraversal = false\n\n        let previousEntityIndex = entityIndex - 1\n        if (previousEntityIndex < 0) {\n          previousEntityIndex = this.entityList.length - 1\n        }\n\n        let taskId = null\n        while (!taskId) {\n          if (this.entityList[previousEntityIndex]) {\n            const entity = this.entityList[previousEntityIndex]\n            taskId = entity.tasks.find((ctaskId) => {\n              const task = this.taskMap[ctaskId]\n              if (task) {\n                return task.task_type_id === taskTypeId\n              } else {\n                return false\n              }\n            })\n          } else {\n            taskId = this.currentTask.id\n          }\n\n          if (!taskId) {\n            previousEntityIndex--\n            if (previousEntityIndex < 0) {\n              previousEntityIndex = this.entityList.length\n              if (firstTraversal) {\n                return null\n              }\n              firstTraversal = true\n            }\n          }\n        }\n\n        return this.taskPath({ id: taskId })\n      } else {\n        return {\n          name: 'open-productions'\n        }\n      }\n    },\n\n    nextEntity () {\n      if (this.currentTask) {\n        const taskTypeId = this.currentTask.task_type_id\n        let firstTraversal = false\n        let entityIndex = this.entityList.findIndex((entity) => {\n          return entity.id === this.currentTask.entity_id\n        })\n\n        let nextEntityIndex = entityIndex + 1\n        if (nextEntityIndex >= this.entityList.length) {\n          nextEntityIndex = 0\n        }\n\n        let taskId = null\n        while (!taskId) {\n          if (this.entityList[nextEntityIndex]) {\n            const entity = this.entityList[nextEntityIndex]\n            taskId = entity.tasks.find((ctaskId) => {\n              const task = this.taskMap[ctaskId]\n              if (task) {\n                return task.task_type_id === taskTypeId\n              } else {\n                return false\n              }\n            })\n          } else {\n            taskId = this.currentTask.id\n          }\n\n          if (!taskId) {\n            nextEntityIndex++\n            if (nextEntityIndex >= this.entityList.length) {\n              nextEntityIndex = 0\n\n              if (firstTraversal) {\n                return null\n              }\n              firstTraversal = true\n            }\n          }\n        }\n\n        return this.taskPath({ id: taskId })\n      } else {\n        return {\n          name: 'open-productions'\n        }\n      }\n    },\n\n    title () {\n      if (this.currentTask) {\n        const type = this.currentTask.entity_type_name\n        let entityName =\n          this.currentTask.full_entity_name || this.currentTask.entity_name\n        if (this.isTVShow && type === 'Shot') {\n          entityName = entityName\n            .split('/')\n            .splice(1)\n            .join('/')\n        }\n        return `${entityName}`\n      } else {\n        return 'Loading...'\n      }\n    },\n\n    windowTitle () {\n      if (this.currentTask) {\n        const taskTypeName = this.currentTask.task_type_name\n        return `${this.title} / ${taskTypeName}`\n      } else {\n        return 'Loading...'\n      }\n    },\n\n    deleteText () {\n      if (this.currentTask) {\n        const taskType = this.taskTypeMap[this.currentTask.task_type_id]\n        return this.$t('main.delete_text', {\n          name: `${this.currentTask.entity_name} / ${taskType.name}`\n        })\n      } else {\n        return ''\n      }\n    },\n\n    isMovie () {\n      if (this.currentTaskPreviews) {\n        let previewId = this.route.params.preview_id\n        let currentPreview = this.currentTaskPreviews[0]\n        if (previewId) {\n          currentPreview = this.currentTaskPreviews.find((preview) => {\n            return preview.id === previewId\n          })\n        }\n        return currentPreview && currentPreview.extension === 'mp4'\n      } else {\n        return false\n      }\n    },\n\n    extension () {\n      if (this.currentTaskPreviews) {\n        let previewId = this.route.params.preview_id\n        let currentPreview = this.currentTaskPreviews[0]\n        if (previewId) {\n          currentPreview = this.currentTaskPreviews.find((preview) => {\n            return preview.id === previewId\n          })\n        }\n        return currentPreview ? currentPreview.extension : ''\n      } else {\n        return ''\n      }\n    },\n\n    moviePath () {\n      let previewId = this.route.params.preview_id\n      if (!previewId && this.currentTaskPreviews) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      return `/api/movies/originals/preview-files/${previewId}.mp4`\n    },\n\n    isAssigned () {\n      if (this.currentTask) {\n        return this.currentTask.assignees.some((assigneeId) => {\n          return assigneeId === this.user.id\n        })\n      } else {\n        return false\n      }\n    },\n\n    isPreviewButtonVisible () {\n      return (\n        this.currentTask &&\n        this.currentTask.entity &&\n        this.currentTask.entity.preview_file_id !== this.currentPreviewId &&\n        ['png', 'mp4'].includes(this.extension)\n      )\n    },\n\n    isDlPreviewFile () {\n      return this.currentTaskPreviews &&\n        ['pdf', 'ma', 'mb', 'rar', 'zip'].includes(this.extension)\n    },\n\n    currentTaskType () {\n      if (this.currentTask) {\n        return this.taskTypeMap[this.currentTask.task_type_id]\n      } else {\n        return null\n      }\n    },\n\n    currentPreview () {\n      let currentPreview = this.currentTaskPreviews[0]\n      let previewId = this.route.params.preview_id\n      if (previewId) {\n        currentPreview = this.currentTaskPreviews.find((preview) => {\n          return preview.id === previewId\n        })\n      }\n      return currentPreview\n    },\n\n    currentTeam () {\n      return this.currentProduction.team.map(id => this.personMap[id])\n    },\n\n    pinnedCount () {\n      return this.currentTaskComments.filter(c => c.pinned).length\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addCommentPreview',\n      'addCommentExtraPreview',\n      'commentTask',\n      'commentTaskWithPreview',\n      'changeCommentPreview',\n      'clearSelectedTasks',\n      'deleteTask',\n      'deleteTaskPreview',\n      'deleteTaskComment',\n      'editTaskComment',\n      'loadEpisodes',\n      'loadTask',\n      'loadShots',\n      'loadAssets',\n      'loadPreviewFileFormData',\n      'loadTaskComments',\n      'loadTaskSubscribed',\n      'refreshPreview',\n      'pinComment',\n      'subscribeToTask',\n      'setCurrentEpisode',\n      'unsubscribeFromTask',\n      'updatePreviewAnnotation'\n    ]),\n\n    getEntityPage () {\n      if (this.currentTask) {\n        let route = {\n          name: this.$route.params.type,\n          params: { production_id: this.currentTask.project_id }\n        }\n\n        if (route.name === 'asset') {\n          route.params.asset_id = this.currentTask.entity_id\n        } else {\n          route.params.shot_id = this.currentTask.entity_id\n        }\n\n        if (this.isTVShow) {\n          route.name = `episode-${route.name}`\n          route.params.episode_id =\n            this.currentEpisode ? this.currentEpisode.id : this.$route.params.episode_id\n        }\n        return route\n      } else {\n        return {\n          name: 'open-productions'\n        }\n      }\n    },\n\n    loadTaskData () {\n      let task = this.getCurrentTask()\n      if (!task) {\n        this.taskLoading = {\n          isLoading: true,\n          isError: false\n        }\n\n        this.loadTask({\n          taskId: this.route.params.task_id,\n          callback: (err, task) => {\n            if (err) console.log(err)\n\n            let loadingFunction = this.loadAssets\n\n            if (task.entity_type_name === 'Shot') {\n              loadingFunction = (callback) => {\n                this.loadEpisodes(() => {\n                  if (this.isTVShow) {\n                    this.setCurrentEpisode(task.episode.id)\n                  }\n                  this.loadShots(callback)\n                })\n              }\n            }\n            loadingFunction(() => {\n              this.currentTask = task\n              this.loadTaskComments({\n                taskId: task.id,\n                entityId: task.entity_id,\n                callback: (err) => {\n                  if (err) {\n                    this.taskLoading = {\n                      isLoading: false,\n                      isError: true\n                    }\n                  } else {\n                    this.reset()\n                    this.entityPage = this.getEntityPage()\n                    this.taskLoading = {\n                      isLoading: false,\n                      isError: false\n                    }\n                    this.loadTaskSubscribed({\n                      taskId: this.route.params.task_id,\n                      callback: (err, subscribed) => {\n                        if (err) console.log(err)\n                        this.isSubscribed = subscribed\n                      }\n                    })\n                  }\n                }\n              })\n            })\n          }\n        })\n      } else {\n        this.currentTask = task\n        this.loadTaskComments({\n          taskId: this.route.params.task_id,\n          entityId: task.entity_id,\n          callback: (err) => {\n            if (err) {\n            } else {\n              this.currentTaskComments = this.getCurrentTaskComments()\n              this.currentTaskPreviews = this.getCurrentTaskPreviews()\n              this.setOtherPreviews()\n              this.currentPreviewPath = this.getOriginalPath()\n              this.currentPreviewDlPath = this.getOriginalDlPath()\n              this.entityPage = this.getEntityPage()\n              this.setOtherPreviews()\n              this.loadTaskSubscribed({\n                taskId: this.route.params.task_id,\n                callback: (err, subscribed) => {\n                  if (err) console.log(err)\n                  this.isSubscribed = subscribed\n                }\n              })\n            }\n          }\n        })\n      }\n    },\n\n    isHighlighted (comment) {\n      return comment.preview && comment.preview.id === this.currentPreviewId\n    },\n\n    getCurrentTask () {\n      return this.taskMap[this.route.params.task_id]\n    },\n\n    getCurrentComment () {\n      if (this.route.params.comment_id) {\n        return this.getTaskComment(\n          this.route.params.task_id,\n          this.route.params.comment_id\n        )\n      }\n    },\n\n    getCurrentTaskComments () {\n      return this.getTaskComments(this.route.params.task_id)\n    },\n\n    getCurrentTaskPreviews () {\n      return this.getTaskPreviews(this.route.params.task_id)\n    },\n\n    getCurrentTaskPath () {\n      if (this.currentTask) {\n        return `/tasks/${this.currentTask.id}`\n      } else {\n        return ''\n      }\n    },\n\n    getOriginalPath () {\n      let previewId = this.route.params.preview_id\n      if (!previewId &&\n          this.currentTaskPreviews &&\n          this.currentTaskPreviews.length > 0\n      ) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      const extension = this.extension ? this.extension : 'png'\n      return `/api/pictures/originals/preview-files/${previewId}.${extension}`\n    },\n\n    getOriginalDlPath () {\n      let previewId = this.route.params.preview_id\n      if (!previewId &&\n          this.currentTaskPreviews &&\n          this.currentTaskPreviews.length > 0\n      ) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      return `/api/pictures/originals/preview-files/${previewId}/download`\n    },\n\n    getPreviewPath () {\n      let previewId = this.route.params.preview_id\n      if (!previewId &&\n          this.currentTaskPreviews &&\n          this.currentTaskPreviews.length > 0\n      ) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      return `/api/pictures/previews/preview-files/${previewId}.png`\n    },\n\n    addComment (comment, taskStatusId) {\n      const finalize = (err, preview) => {\n        if (err) {\n          this.errors.addComment = true\n        } else {\n          this.$refs['add-preview-modal'].reset()\n          this.reset()\n          if (preview && preview.type === 'PreviewFile') {\n            this.resetPreview(preview)\n          }\n          this.attachedFileName = ''\n        }\n        this.loading.addComment = false\n      }\n      const params = {\n        taskId: this.currentTask.id,\n        taskStatusId: taskStatusId,\n        commentText: comment,\n        comment: comment,\n        callback: finalize\n      }\n      this.loading.addComment = true\n      this.errors.addComment = false\n      if (this.attachedFileName) {\n        this.commentTaskWithPreview(params)\n      } else {\n        this.commentTask(params)\n      }\n    },\n\n    reset () {\n      this.currentTaskComments = this.getCurrentTaskComments()\n      this.currentTaskPreviews = this.getCurrentTaskPreviews()\n      this.setOtherPreviews()\n      this.currentPreviewPath = this.getOriginalPath()\n      this.currentPreviewDlPath = this.getOriginalDlPath()\n      this.currentTask = this.getCurrentTask()\n      let previewId = this.route.params.preview_id\n      if (!previewId &&\n          this.currentTaskPreviews &&\n          this.currentTaskPreviews.length > 0) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      this.currentPreviewId = previewId\n    },\n\n    handleModalsDisplay () {\n      const path = this.$store.state.route.path\n\n      this.modals = {\n        addPreview: false,\n        addExtraPreview: false,\n        deleteExtraPreview: false,\n        changePreview: false,\n        deleteTask: false,\n        deleteComment: false,\n        editComment: false\n      }\n      if (path.indexOf('change-preview') > 0) {\n        this.modals.changePreview = true\n      } else if (\n        path.indexOf('delete') > 0 && path.indexOf('comments') < 0\n      ) {\n        this.modals.deleteTask = true\n      }\n    },\n\n    selectFile (formData) {\n      this.loadPreviewFileFormData(formData)\n      this.attachedFileName = formData.get('file').name\n    },\n\n    createPreview () {\n      this.errors.addPreview = false\n      this.loading.addPreview = true\n      this.addCommentPreview({\n        taskId: this.route.params.task_id,\n        commentId: this.route.params.comment_id,\n        callback: (err, preview) => {\n          this.loading.addPreview = false\n          if (err) {\n            this.errors.addPreview = true\n          } else {\n            this.$refs['add-preview-modal'].reset()\n            this.resetPreview(preview)\n          }\n        }\n      })\n    },\n\n    createExtraPreview () {\n      this.errors.addExtraPreview = false\n      this.loading.addExtraPreview = true\n      const previewId = this.currentPreviewId\n      const comment = this.getCurrentTaskComments().find((comment) => {\n        return comment.previews.findIndex((p) => p.id === previewId) >= 0\n      })\n      this.addCommentExtraPreview({\n        taskId: this.currentTask.id,\n        previewId: this.currentPreview.id,\n        commentId: comment.id,\n        callback: (err, preview) => {\n          this.loading.addExtraPreview = false\n          if (err) {\n            this.errors.addExtraPreview = true\n          } else {\n            this.$refs['add-extra-preview-modal'].reset()\n            if (this.currentPreview) {\n              this.resetPreview(this.currentPreview)\n            } else {\n              this.resetPreview({\n                id: previewId\n              })\n            }\n            setTimeout(() => {\n              this.$refs['preview-picture'].displayLast()\n            }, 0)\n            this.modals.addExtraPreview = false\n          }\n        }\n      })\n    },\n\n    changePreview () {\n      const preview = this.currentTaskComments[0].preview\n      this.errors.changePreview = false\n      this.loading.changePreview = true\n\n      this.changeCommentPreview({\n        preview: preview,\n        taskId: this.currentTask.id,\n        comment: this.currentTaskComments[0],\n        callback: (err, extension) => {\n          this.loading.changePreview = false\n          if (err) {\n            this.errors.changePreview = true\n          } else {\n            this.$refs['change-preview-modal'].reset()\n            this.resetPreview(preview)\n          }\n        }\n      })\n    },\n\n    resetPreview (preview) {\n      this.currentTaskComments = this.getCurrentTaskComments()\n      this.currentTaskPreviews = this.getCurrentTaskPreviews()\n      this.setOtherPreviews()\n      this.currentPreviewPath = this.getOriginalPath()\n      this.currentPreviewDlPath = this.getOriginalDlPath()\n      if (preview) this.$router.push(this.previewPath(preview.id))\n    },\n\n    setPreview () {\n      this.loading.setPreview = true\n      this.errors.setPreview = false\n      this.$store.dispatch('setPreview', {\n        taskId: this.currentTask.id,\n        entityId: this.currentTask.entity.id,\n        previewId: this.currentPreviewId,\n        callback: (err) => {\n          if (err) {\n            this.errors.setPreview = true\n          }\n          this.loading.setPreview = false\n        }\n      })\n    },\n\n    setOtherPreviews () {\n      if (this.currentTaskPreviews) {\n        this.otherPreviews = this.currentTaskPreviews.filter((p) => {\n          return (\n            p.id !== this.currentPreviewId &&\n            p.extension === 'mp4'\n          )\n        })\n      } else {\n        this.otherPreviews = []\n      }\n      return this.otherPreviews\n    },\n\n    confirmDeleteTask () {\n      this.loading.deleteTask = true\n      this.errors.deleteTask = false\n\n      this.deleteTask({\n        task: this.currentTask,\n        callback: (err) => {\n          this.loading.deleteTask = false\n          if (err) {\n            this.errors.deleteTask = true\n          } else {\n            this.$router.push(this.entityPage)\n          }\n        }\n      })\n    },\n\n    confirmEditTaskComment (comment) {\n      this.loading.editComment = true\n      this.errors.editComment = false\n      this.editTaskComment({\n        taskId: this.currentTask.id,\n        comment,\n        callback: (err) => {\n          this.loading.editComment = false\n          if (err) {\n            this.errors.editComment = true\n          } else {\n            this.modals.editComment = false\n          }\n        }\n      })\n    },\n\n    saveComment (comment, checklist) {\n      this.editTaskComment({\n        taskId: this.currentTask.id,\n        comment,\n        checklist\n      })\n    },\n\n    confirmDeleteTaskComment () {\n      this.loading.deleteComment = true\n      this.errors.deleteComment = false\n      const commentId = this.commentToEdit.id\n\n      this.deleteTaskComment({\n        taskId: this.currentTask.id,\n        commentId,\n        callback: (err) => {\n          this.loading.deleteComment = false\n          if (err) {\n            this.errors.deleteComment = true\n          } else {\n            this.reset()\n            if (this.currentTaskPreviews &&\n                this.currentTaskPreviews.length > 0) {\n              this.resetPreview(this.currentTaskPreviews[0])\n            }\n            this.modals.deleteComment = false\n          }\n        }\n      })\n    },\n\n    confirmDeleteTaskPreview () {\n      this.loading.deleteExtraPreview = true\n      this.errors.deleteExtraPreview = false\n      const previewId = this.currentPreviewId\n      const comment = this.getCurrentTaskComments().find((comment) => {\n        return comment.previews.findIndex((p) => p.id === previewId) >= 0\n      })\n\n      this.$refs['preview-picture'].displayFirst()\n      this.deleteTaskPreview({\n        taskId: this.currentTask.id,\n        commentId: comment.id,\n        previewId: this.currentExtraPreviewId\n      })\n        .then(() => {\n          this.loading.deleteExtraPreview = false\n          this.resetPreview(this.currentPreview)\n          this.hideRemoveExtraPreviewModal()\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.deleteExtraPreview = false\n          this.errors.deleteExtraPreview = true\n        })\n    },\n\n    onPreviewAdded (eventData) {\n      const taskId = eventData.task_id\n      const commentId = eventData.comment_id\n      const previewId = eventData.preview_file_id\n      const revision = eventData.revision\n      const extension = eventData.extension\n      const comment = this.$store.getters.getTaskComment(taskId, commentId)\n\n      if (\n        comment &&\n        (\n          comment.previews.length === 0 ||\n          comment.previews[0].id !== previewId\n        ) &&\n        taskId === this.currentTask.id\n      ) {\n        this.$store.commit('ADD_PREVIEW_END', {\n          preview: {\n            id: previewId,\n            revision,\n            extension: extension\n          },\n          taskId,\n          commentId,\n          comment\n        })\n        if (this.currentPreviewId) {\n          this.resetPreview({ id: this.currentPreviewId })\n        } else {\n          this.resetPreview({ id: previewId })\n        }\n      }\n    },\n\n    toggleSubscribe () {\n      if (this.currentTask && !this.isAssigned) {\n        if (this.isSubscribed) {\n          this.unsubscribeFromTask(this.currentTask.id)\n          this.isSubscribed = false\n        } else {\n          this.subscribeToTask(this.currentTask.id)\n          this.isSubscribed = true\n        }\n      }\n    },\n\n    taskPath (task, section = 'task') {\n      if (!task) {\n        task = this.currentTask\n      } else {\n        task.project_id = this.currentTask.project_id\n        task.episode_id = this.currentTask.episode_id\n      }\n\n      let route = { name: 'open-productions' }\n      if (task) {\n        route = {\n          name: section,\n          params: {\n            production_id: task.project_id,\n            task_id: task.id\n          }\n        }\n\n        if (this.isTVShow && this.currentEpisode) {\n          route.name = `episode-${section}`\n          route.params.episode_id = task.episode_id || this.currentEpisode.id\n        }\n      }\n      return route\n    },\n\n    previewPath (previewId) {\n      const route = this.taskPath(this.currentTask, 'task-preview')\n\n      if (route.params) {\n        route.params.preview_id = previewId\n      }\n      return route\n    },\n\n    onAnnotationChanged ({ preview, annotations }) {\n      const taskId = this.currentTask.id\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\n    },\n\n    onAddExtraPreview () {\n      this.modals.addExtraPreview = true\n    },\n\n    hideExtraPreviewModal () {\n      this.modals.addExtraPreview = false\n    },\n\n    showRemoveExtraPreviewModal (preview) {\n      this.currentExtraPreviewId = preview.id\n      this.modals.deleteExtraPreview = true\n    },\n\n    hideRemoveExtraPreviewModal () {\n      this.modals.deleteExtraPreview = false\n    },\n\n    onAddPreviewClicked () {\n      this.modals.addPreview = true\n    },\n\n    closeAddPreviewModal () {\n      this.modals.addPreview = false\n    },\n\n    onPinComment (comment) {\n      this.pinComment(comment)\n    },\n\n    onEditComment (comment) {\n      this.commentToEdit = comment\n      this.modals.editComment = true\n    },\n\n    onDeleteComment (comment) {\n      this.commentToEdit = comment\n      this.modals.deleteComment = true\n    },\n\n    onCancelEditComment (comment) {\n      this.modals.editComment = false\n    },\n\n    onCancelDeleteComment (comment) {\n      this.modals.deleteComment = false\n    }\n  },\n\n  watch: {\n    currentPreviewId () {\n      this.setOtherPreviews()\n    },\n\n    $route () {\n      this.handleModalsDisplay()\n      if (this.$route.params.task_id !== this.currentTask.id) {\n        this.loadTaskData()\n      }\n      let previewId = this.route.params.preview_id\n      if (\n        !previewId &&\n        this.currentTaskPreviews &&\n        this.currentTaskPreviews.length > 0\n      ) {\n        previewId = this.currentTaskPreviews[0].id\n      }\n      this.currentPreviewId = previewId\n      this.currentPreviewPath = this.getOriginalPath()\n      this.currentPreviewDlPath = this.getOriginalDlPath()\n    }\n  },\n\n  socket: {\n    events: {\n      'preview-file:add-file' (eventData) {\n        this.onPreviewAdded(eventData)\n      },\n\n      'preview_file:update' (eventData) {\n        const preview = this.currentTaskPreviews.filter((preview) => {\n          return preview.id === eventData.preview_file_id\n        })\n        if (preview) {\n          this.refreshPreview({\n            taskId: this.currentTask.id,\n            previewId: eventData.preview_file_id\n          }).then(() => {\n            if (this.$refs['preview-movie']) {\n              if (!this.$refs['preview-movie'].isDrawing) {\n                this.$refs['preview-movie'].reloadAnnotations()\n              }\n            } else if (this.$refs['preview-picture']) {\n              if (!this.$refs['preview-picture'].isDrawing) {\n                this.$refs['preview-picture'].reset()\n              }\n            }\n          })\n        }\n      }\n    }\n  },\n\n  metaInfo () {\n    let title = 'Loading task... - Kitsu'\n    if (this.currentTask) {\n      const taskTypeName = this.taskTypeMap[this.currentTask.task_type_id].name\n      title = `${this.title} / ${taskTypeName} - Kitsu`\n    }\n    return { title }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .page {\n  background: $dark-grey-light;\n  padding-bottom: 1em;\n}\n\n.dark .page-header,\n.dark .add-comment,\n.dark .comment,\n.dark .no-comment,\n.dark .preview-column-content,\n.dark .column {\n  background: #46494F;\n  border-color: $dark-grey;\n  box-shadow: 0px 0px 6px #333;\n}\n\nh2.subtitle {\n  margin: 0;\n  padding: 0;\n}\n\n.page {\n  background: #F9F9F9;\n  padding: 0;\n}\n\n.page-header {\n  padding: 1em;\n  margin-top: 1em;\n  background: white;\n  box-shadow: 0px 0px 6px #E0E0E0;\n  margin: 80px 1em 1em 1em;\n}\n\n.navigation-buttons {\n  font-size: 1em;\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n}\n\n.navigation-buttons .arrow {\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n.navigation-buttons a {\n  color: $grey;\n}\n\n.task-information {\n  margin-top: 1em;\n}\n\n.selected {\n  border: 0;\n}\n\n.source {\n  color: #AAA;\n  font-size: 0.8em;\n}\n\nvideo {\n  width: 100%;\n}\n\n.validation-buttons button {\n  width: 100%;\n  margin-bottom: 0.3em;\n  border-width: 2px;\n  font-weight: bold;\n}\n\n.preview-row {\n  margin-bottom: 0.5em;\n}\n\n.add-comment {\n  margin-bottom: 1em;\n  padding: 1em;\n  box-shadow: 0px 0px 6px #E0E0E0;\n}\n\n.no-comment {\n  background: white;\n  box-shadow: 0px 0px 6px #E0E0E0;\n  padding: 1em;\n  border-radius: 5px;\n}\n\n.comment {\n  box-shadow: 0px 0px 6px #E0E0E0;\n  margin-top: 0.3em;\n}\n\n.task-columns {\n  display: flex;\n  flex-direction: row;\n}\n\n.task-column {\n  width: 50%;\n  padding: 1em;\n}\n\n.preview-column-content {\n  background: white;\n  box-shadow: 0px 0px 6px #E0E0E0;\n  padding: 1em;\n  border-radius: 5px;\n  overflow-x: hidden;\n}\n\n.preview-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.page-header .tag {\n  border-radius: 0;\n  font-weight: bold;\n  color: $grey-strong;\n}\n\n.assignees {\n  display: flex;\n}\n\n.assignees span {\n  margin-right: 0.2em;\n}\n\n.preview-picture {\n  text-align: center;\n}\n\n.preview-picture img {\n  max-height: 700px;\n}\n\n.avatar-wrapper {\n  margin-right: 0.5em;\n}\n\n.entity-thumbnail {\n  width: 50px;\n  margin-right: 0.3em;\n}\n\n.title {\n  margin: 0;\n  flex: 1;\n}\n\n.pull-right {\n  margin-left: auto;\n}\n\n.title a {\n  color: inherit;\n}\n\n.set-main-preview {\n  height: 30px;\n}\n\n.back-link {\n  padding-top: 6px;\n}\n\n@media screen and (max-width: 768px) {\n  .action-button {\n    display: none;\n  }\n\n  .title {\n    font-size: 1.3em;\n    line-height: 1.5em;\n  }\n\n  .header-title {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .header-title .flexrow-item {\n    margin-bottom: 0.5em;\n  }\n\n  .task-columns {\n    flex-direction: column-reverse;\n  }\n\n  .task-column {\n    width: 100%;\n    overflow-y: initial;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=012a2e24&scoped=true&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&id=012a2e24&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"012a2e24\",\n  null\n  \n)\n\nexport default component.exports","exports.f = Object.getOwnPropertySymbols;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=style&index=0&id=f16eab4a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=style&index=0&id=f16eab4a&lang=scss&scoped=true&\"","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n"],"sourceRoot":""}