{"version":3,"sources":["webpack:///./src/components/modals/ChangeAvatarModal.vue?ba3d","webpack:///src/components/modals/ChangeAvatarModal.vue","webpack:///./src/components/modals/ChangeAvatarModal.vue?d552","webpack:///./src/components/modals/ChangeAvatarModal.vue?dd56","webpack:///./src/components/pages/Settings.vue?57a6","webpack:///src/components/pages/Settings.vue","webpack:///./src/components/pages/Settings.vue?8935","webpack:///./src/components/pages/Settings.vue?1ad2","webpack:///./src/components/widgets/ComboboxBoolean.vue?7fb6","webpack:///src/components/widgets/ComboboxBoolean.vue","webpack:///./src/components/widgets/ComboboxBoolean.vue?718a","webpack:///./src/components/widgets/ComboboxBoolean.vue","webpack:///./src/components/modals/ChangeAvatarModal.vue?d747","webpack:///./src/components/pages/Settings.vue?c3ca"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","modal","is-active","active","staticClass","_v","_s","title","$t","ref","attrs","accept","on","fileselected","onFileSelected","_e","error-text","is-loading","isLoading","is-disabled","formData","confirm","onConfirmClicked","cancel","$event","$emit","staticRenderFns","ChangeAvatarModalvue_type_script_lang_js_","name","mixins","base_modal","components","FileUpload","ModalFooter","props","data","computed","Object","objectSpread","vuex_esm","methods","watch","$refs","uploadAvatarField","reset","modals_ChangeAvatarModalvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","organisation","src","organisationLogoPath","click","showAvatarModal","label","enter","saveSettings","model","value","form","callback","$$v","$set","expression","type","button","save-button","is-medium","loading","save","error","is-hidden","errors","modals","avatar","saveAvatar","is-error","uploadAvatarFile","hideAvatarModal","Settingsvue_type_script_lang_js_","ChangeAvatarModal","ComboboxBoolean","TextField","organisationLogoKey","Date","getUTCDate","hours_by_day","original_file_name","chat_token_slack","mounted","assign","toISOString","concat","id","_this","saveOrganisation","then","catch","err","console","_this2","uploadOrganisationLogo","setTimeout","metaInfo","pages_Settingsvue_type_script_lang_js_","disabled","options","booleanOptions","input","emitValue","emitEnter","ComboboxBooleanvue_type_script_lang_js_","Combobox","default","String","Array","Boolean","widgets_ComboboxBooleanvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChangeAvatarModal_vue_vue_type_style_index_0_id_d5870568_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChangeAvatarModal_vue_vue_type_style_index_0_id_d5870568_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Settings_vue_vue_type_style_index_0_id_0e361e36_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Settings_vue_vue_type_style_index_0_id_0e361e36_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-e7d006e0.4424e981.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")]),_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"main.csv.select_file\"))+\"\\n      \")]),_c('file-upload',{ref:\"uploadAvatarField\",attrs:{\"accept\":\".png,.jpg,.jpeg\"},on:{\"fileselected\":_vm.onFileSelected}}),(_vm.isError)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"profile.avatar.error_upload\"))+\"\\n      \")]):_vm._e(),_c('modal-footer',{attrs:{\"error-text\":_vm.$t('productions.metadata.error'),\"is-loading\":_vm.isLoading,\"is-disabled\":!_vm.formData},on:{\"confirm\":_vm.onConfirmClicked,\"cancel\":function($event){return _vm.$emit('cancel')}}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-content\">\n\n    <div class=\"box content\">\n      <h1 class=\"title\">\n        {{ title }}\n      </h1>\n\n      <p>\n        {{ $t(\"main.csv.select_file\") }}\n      </p>\n\n      <file-upload\n        ref=\"uploadAvatarField\"\n        @fileselected=\"onFileSelected\"\n        accept=\".png,.jpg,.jpeg\"\n      />\n\n      <p class=\"error\" v-if=\"isError\">\n        {{ $t(\"profile.avatar.error_upload\") }}\n      </p>\n\n      <modal-footer\n        :error-text=\"$t('productions.metadata.error')\"\n        :is-loading=\"isLoading\"\n        :is-disabled=\"!formData\"\n        @confirm=\"onConfirmClicked\"\n        @cancel=\"$emit('cancel')\"\n      />\n\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { modalMixin } from './base_modal'\nimport FileUpload from '../widgets/FileUpload.vue'\nimport ModalFooter from './ModalFooter.vue'\n\nexport default {\n  name: 'change-avatar-modal',\n  mixins: [modalMixin],\n\n  components: {\n    FileUpload,\n    ModalFooter\n  },\n\n  props: [\n    'active',\n    'cancelRoute',\n    'isLoading',\n    'isError',\n    'title'\n  ],\n\n  data () {\n    return {\n      formData: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n    ])\n  },\n\n  methods: {\n\n    ...mapActions([\n    ]),\n\n    onFileSelected (formData) {\n      this.formData = formData\n      this.$emit('fileselected', formData)\n    },\n\n    onConfirmClicked () {\n      this.$emit('confirm', this.formData)\n    }\n  },\n  watch: {\n    active () {\n      this.formData = null\n      this.$refs.uploadAvatarField.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n\n.error {\n  margin-top: 1em;\n}\n\n.description {\n  margin-bottom: 1em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeAvatarModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeAvatarModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeAvatarModal.vue?vue&type=template&id=d5870568&scoped=true&\"\nimport script from \"./ChangeAvatarModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeAvatarModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeAvatarModal.vue?vue&type=style&index=0&id=d5870568&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5870568\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings page\"},[_c('div',{staticClass:\"settings-content\"},[_c('div',{staticClass:\"settings-body\"},[_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.title'))+\"\\n      \")]),_c('p',[_c('strong',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.logo'))+\"\\n      \")])]),(_vm.organisation.has_avatar)?_c('div',{staticClass:\"logo-wrapper\"},[_c('img',{attrs:{\"src\":_vm.organisationLogoPath}})]):_c('p',{staticClass:\"no-logo\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.no_logo'))+\"\\n      \")]),_c('p',[_c('button',{staticClass:\"button set-logo-button\",on:{\"click\":_vm.showAvatarModal}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('settings.set_logo'))+\"\\n        \")])]),_c('text-field',{staticClass:\"mt2\",attrs:{\"label\":_vm.$t('settings.fields.name')},on:{\"enter\":function($event){return _vm.saveSettings()}},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('text-field',{attrs:{\"label\":_vm.$t('settings.fields.hours_by_day'),\"type\":\"number\"},on:{\"enter\":function($event){return _vm.saveSettings()}},model:{value:(_vm.form.hours_by_day),callback:function ($$v) {_vm.$set(_vm.form, \"hours_by_day\", $$v)},expression:\"form.hours_by_day\"}}),_c('combobox-boolean',{attrs:{\"label\":_vm.$t('settings.fields.use_original_name')},on:{\"enter\":function($event){return _vm.saveSettings()}},model:{value:(_vm.form.use_original_file_name),callback:function ($$v) {_vm.$set(_vm.form, \"use_original_file_name\", $$v)},expression:\"form.use_original_file_name\"}}),_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.integrations'))+\"\\n      \")]),_c('text-field',{attrs:{\"label\":_vm.$t('settings.fields.slack_token')},on:{\"enter\":function($event){return _vm.saveSettings()}},model:{value:(_vm.form.chat_token_slack),callback:function ($$v) {_vm.$set(_vm.form, \"chat_token_slack\", $$v)},expression:\"form.chat_token_slack\"}}),_c('button',{class:{\n          button: true,\n          'save-button': true,\n          'is-medium': true,\n          'is-loading': _vm.loading.save\n        },on:{\"click\":function($event){return _vm.saveSettings()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.save.button'))+\"\\n      \")]),_c('p',{class:{\n          error: true,\n          'is-hidden': !_vm.errors.save\n        }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('settings.save.error'))+\"\\n      \")])],1)]),_c('change-avatar-modal',{attrs:{\"active\":_vm.modals.avatar,\"is-loading\":_vm.loading.saveAvatar,\"is-error\":_vm.errors.saveAvatar,\"title\":_vm.$t('settings.change_logo')},on:{\"confirm\":_vm.uploadAvatarFile,\"cancel\":_vm.hideAvatarModal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"settings page\">\n    <div class=\"settings-content\">\n\n      <div class=\"settings-body\">\n        <h2>\n          {{ $t('settings.title') }}\n        </h2>\n        <p>\n        <strong>\n          {{ $t('settings.logo') }}\n        </strong>\n        </p>\n        <div class=\"logo-wrapper\" v-if=\"organisation.has_avatar\">\n          <img :src=\"organisationLogoPath\" />\n        </div>\n        <p class=\"no-logo\" v-else>\n          {{ $t('settings.no_logo') }}\n        </p>\n        <p>\n          <button class=\"button set-logo-button\" @click=\"showAvatarModal\">\n            {{ $t('settings.set_logo') }}\n          </button>\n        </p>\n        <text-field\n          class=\"mt2\"\n          :label=\"$t('settings.fields.name')\"\n          @enter=\"saveSettings()\"\n          v-model=\"form.name\"\n        />\n        <text-field\n          :label=\"$t('settings.fields.hours_by_day')\"\n          type=\"number\"\n          @enter=\"saveSettings()\"\n          v-model=\"form.hours_by_day\"\n        />\n        <combobox-boolean\n          :label=\"$t('settings.fields.use_original_name')\"\n          @enter=\"saveSettings()\"\n          v-model=\"form.use_original_file_name\"\n        />\n        <h2>\n          {{ $t('settings.integrations') }}\n        </h2>\n        <text-field\n          :label=\"$t('settings.fields.slack_token')\"\n          @enter=\"saveSettings()\"\n          v-model=\"form.chat_token_slack\"\n        />\n\n        <button\n          :class=\"{\n            button: true,\n            'save-button': true,\n            'is-medium': true,\n            'is-loading': loading.save\n          }\"\n          @click=\"saveSettings()\"\n        >\n          {{ $t('settings.save.button') }}\n        </button>\n        <p\n          :class=\"{\n            error: true,\n            'is-hidden': !errors.save\n          }\"\n        >\n          {{ $t('settings.save.error') }}\n        </p>\n\n      </div>\n    </div>\n\n    <change-avatar-modal\n      :active=\"modals.avatar\"\n      :is-loading=\"loading.saveAvatar\"\n      :is-error=\"errors.saveAvatar\"\n      :title=\"$t('settings.change_logo')\"\n      @confirm=\"uploadAvatarFile\"\n      @cancel=\"hideAvatarModal\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport ChangeAvatarModal from '../modals/ChangeAvatarModal'\nimport ComboboxBoolean from '../widgets/ComboboxBoolean'\nimport TextField from '../widgets/TextField'\n\nexport default {\n  name: 'settings',\n\n  components: {\n    ChangeAvatarModal,\n    ComboboxBoolean,\n    TextField\n  },\n\n  data () {\n    return {\n      organisationLogoKey: new Date().getUTCDate(),\n      organisationLogoPath: '',\n      form: {\n        name: '',\n        hours_by_day: 0,\n        original_file_name: 'false',\n        chat_token_slack: ''\n      },\n      errors: {\n        save: false,\n        saveAvatar: false\n      },\n      loading: {\n        save: false,\n        saveAvatar: false\n      },\n      modals: {\n        avatar: false\n      }\n    }\n  },\n\n  mounted () {\n    this.form = Object.assign(this.form, this.organisation)\n    this.organisationLogoKey = 'key' + new Date().toISOString()\n    this.organisationLogoPath = `/api/pictures/thumbnails/organisations/` +\n                                `${this.organisation.id}.png`\n  },\n\n  computed: {\n    ...mapGetters([\n      'organisation'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n      'changeAvatar',\n      'uploadOrganisationLogo',\n      'saveOrganisation'\n    ]),\n\n    hideAvatarModal () {\n      this.modals.avatar = false\n    },\n\n    saveSettings () {\n      this.loading.save = true\n      this.errors.save = false\n      this.saveOrganisation(this.form)\n        .then(() => {\n          this.loading.save = false\n          this.errors.save = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.save = false\n          this.errors.save = true\n        })\n    },\n\n    uploadAvatarFile (formData) {\n      this.loading.saveAvatar = true\n      this.errors.saveAvatar = false\n      this.uploadOrganisationLogo(formData)\n        .then(() => {\n          setTimeout(() => {\n            this.loading.saveAvatar = false\n            this.modals.avatar = false\n            this.organisationLogoPath =\n              `/api/pictures/thumbnails/organisations/` +\n              `${this.organisation.id}.png?t=` + new Date().toISOString()\n          }, 500)\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.saveAvatar = false\n          this.errors.saveAvatar = true\n        })\n    },\n\n    showAvatarModal () {\n      this.modals.avatar = true\n    }\n  },\n\n  watch: {\n  },\n\n  metaInfo () {\n    return {\n      title: `${this.$t('settings.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .settings {\n    background: #36393F;\n    color: $white-grey;\n  }\n\n  .settings-content {\n    background: $dark-grey-lighter;\n    color: $white-grey;\n  }\n\n  .set-logo-button {\n    background-color: $grey;\n    color: $dark-grey\n  }\n}\n\nstrong {\n  text-transform: uppercase;\n}\n\n.settings {\n  background: $white-grey;\n  height: 100vh;\n}\n\n.settings-content {\n  background: white;\n  max-width: 500px;\n  margin: auto;\n  margin-top: 2em;\n  margin-bottom: 2em;\n  box-shadow: rgba(0,0,0,0.15) 0px 1px 4px 2px;\n  border-radius: 1em;\n}\n\n.settings-body {\n  padding: 2em;\n}\n\ninput, select, span.select {\n  width: 100%;\n}\n\nh2 {\n  border-bottom: 1px solid #DDD;\n  font-size: 1.5em;\n  margin-top: 2em;\n  margin-bottom: 1em;\n}\n\nh2:first-child {\n  margin-top: 0em;\n}\n\n.save-button {\n  border-radius: 2em;\n  border-color: $green;\n  color: white;\n  padding: 1.4em;\n  width: 100%;\n  background: $green;\n}\n\n.save-button:hover {\n  background: $light-green;\n  border-color: $light-green;\n}\n\n.logo-wrapper {\n  padding: 0;\n\n  img {\n    width: 100px;\n  }\n}\n\n.no-logo {\n  margin-bottom: 1em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=0e361e36&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=0e361e36&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e361e36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('combobox',{attrs:{\"label\":_vm.label,\"disabled\":_vm.disabled,\"options\":_vm.booleanOptions,\"value\":_vm.value},on:{\"input\":_vm.emitValue,\"enter\":_vm.emitEnter}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<combobox\n  :label=\"label\"\n  :disabled=\"disabled\"\n  :options=\"booleanOptions\"\n  :value=\"value\"\n  @input=\"emitValue\"\n  @enter=\"emitEnter\"\n/>\n</template>\n\n<script>\nimport Combobox from '../widgets/Combobox'\n\nexport default {\n  name: 'combobox-boolean',\n\n  components: {\n    Combobox\n  },\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n\n    value: {\n      default: 'false',\n      type: String\n    },\n\n    options: {\n      default: () => [],\n      type: Array\n    },\n\n    disabled: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  data () {\n    return {\n      booleanOptions: [\n        { label: this.$t('main.yes'), value: 'true' },\n        { label: this.$t('main.no'), value: 'false' }\n      ]\n    }\n  },\n\n  computed: {\n  },\n\n  methods: {\n    emitValue (value) {\n      this.$emit('input', value)\n    },\n    emitEnter (value) {\n      this.$emit('enter', value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxBoolean.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxBoolean.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComboboxBoolean.vue?vue&type=template&id=5da9e2c2&scoped=true&\"\nimport script from \"./ComboboxBoolean.vue?vue&type=script&lang=js&\"\nexport * from \"./ComboboxBoolean.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5da9e2c2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeAvatarModal.vue?vue&type=style&index=0&id=d5870568&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeAvatarModal.vue?vue&type=style&index=0&id=d5870568&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=0e361e36&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=0e361e36&lang=scss&scoped=true&\""],"sourceRoot":""}