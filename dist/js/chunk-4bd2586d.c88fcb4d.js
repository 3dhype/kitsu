(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bd2586d"],{1051:function(t,e,s){"use strict";var a=s("9fac"),i=s.n(a);i.a},"319f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-types page fixed-page"},[s("div",{staticClass:"level page-header"},[s("div",{staticClass:"level-left"},[s("page-title",{attrs:{text:t.$t("asset_types.title")}})],1),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button-link",{staticClass:"level-item",attrs:{icon:"plus",text:t.$t("asset_types.new_asset_type"),path:"/asset-types/new"}})],1)])]),s("asset-type-list",{staticClass:"mt2",attrs:{entries:t.assetTypes,"is-loading":t.isAssetTypesLoading,"is-error":t.isAssetTypesLoadingError}}),s("edit-asset-type-modal",{attrs:{active:t.modals.isNewDisplayed,"is-loading":t.editAssetType.isLoading,"is-error":t.editAssetType.isError,"cancel-route":"/asset-types","asset-type-to-edit":t.assetTypeToEdit},on:{confirm:t.confirmEditAssetType}}),s("delete-modal",{attrs:{active:t.modals.isDeleteDisplayed,"is-loading":t.deleteAssetType.isLoading,"is-error":t.deleteAssetType.isError,"cancel-route":"/asset-types",text:t.deleteText(),"error-text":t.$t("asset_types.delete_error")},on:{confirm:t.confirmDeleteAssetType}})],1)},i=[],r=(s("a4d3"),s("4de4"),s("4160"),s("c975"),s("b0c0"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),n=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-list"},[s("div",{staticClass:"datatable-wrapper"},[s("table",{staticClass:"datatable"},[s("thead",{staticClass:"datatable-head"},[s("tr",[s("th",{staticClass:"name",attrs:{scope:"col"}},[t._v(t._s(t.$t("asset_types.fields.name")))]),s("th",{staticClass:"actions",attrs:{scope:"col"}})])]),t.entries.length>0?s("tbody",{staticClass:"datatable-body"},t._l(t.entries,(function(e){return s("tr",{key:e.id,staticClass:"datatable-row"},[s("td",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),s("row-actions",{attrs:{"entry-id":e.id,"edit-route":{name:"edit-asset-type",params:{asset_type_id:e.id}},"delete-route":{name:"delete-asset-type",params:{asset_type_id:e.id}}}})],1)})),0):t._e()])]),s("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),s("p",{staticClass:"has-text-centered nb-asset-types"},[t._v(" "+t._s(t.entries.length)+" "+t._s(t.$tc("asset_types.number",t.entries.length))+" ")])],1)},c=[],l=s("03b1"),d=s("e60b");function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"asset-type-list",props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActions:l["a"],TableInfo:d["a"]},computed:y({},Object(n["c"])([])),methods:y({},Object(n["b"])([]))},f=u,m=(s("c8bad"),s("2877")),b=Object(m["a"])(f,o,c,!1,null,"42148984",null),h=b.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{modal:!0,"is-active":t.active}},[s("div",{staticClass:"modal-background",on:{click:function(e){return t.$emit("cancel")}}}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box"},[t.assetTypeToEdit&&t.assetTypeToEdit.id?s("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("asset_types.edit_title"))+" "+t._s(t.assetTypeToEdit.name)+" ")]):s("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("asset_types.new_asset_type"))+" ")]),s("form",{on:{submit:function(t){t.preventDefault()}}},[s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:t.$t("asset_types.fields.name"),maxlength:30},on:{enter:t.runConfirmation},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t.isError?s("p",{staticClass:"error has-text-right info-message"},[t._v(" "+t._s(t.$t("assets.edit_fail"))+" ")]):t._e(),s("div",{staticClass:"has-text-right mt1"},[s("a",{class:{button:!0,"is-primary":!0,"is-loading":t.isLoading},on:{click:t.runConfirmation}},[t._v(" "+t._s(t.$t("main.confirmation"))+" ")]),s("router-link",{staticClass:"button is-link",attrs:{to:t.cancelRoute}},[t._v(" "+t._s(t.$t("main.cancel"))+" ")])],1)])])])},O=[],v=s("7bf8");function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var j={name:"edit-asset-type-modal",components:{TextField:v["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","assetTypeToEdit"],data:function(){return{}},computed:_({},Object(n["c"])(["assetTypes","assetTypeStatusOptions"]),{form:function(){return{name:""}}}),methods:_({},Object(n["b"])([]),{runConfirmation:function(){this.$emit("confirm",this.form)}}),watch:{active:function(){var t=this;this.active&&setTimeout((function(){t.$refs.nameField.focus()}),100)},assetTypeToEdit:function(){this.assetTypeToEdit&&(this.form.name=this.assetTypeToEdit.name)}}},w=j,D=(s("1051"),Object(m["a"])(w,T,O,!1,null,"b5d3c84e",null)),E=D.exports,C=s("5f48"),$=s("e211"),A=s("8d07");function P(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function x(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?P(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):P(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var k={name:"asset-types",components:{AssetTypeList:h,ButtonLink:$["a"],DeleteModal:C["a"],EditAssetTypeModal:E,PageTitle:A["a"]},data:function(){return{modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},assetTypeToDelete:null,assetTypeToEdit:null,choices:[]}},computed:x({},Object(n["c"])(["assetTypes","isAssetTypesLoading","isAssetTypesLoadingError","editAssetType","deleteAssetType","getAssetType"])),created:function(){var t=this;this.loadAssetTypes((function(e){e||t.handleModalsDisplay()}))},methods:x({},Object(n["b"])(["loadAssetTypes"]),{confirmEditAssetType:function(t){var e=this,s="newAssetType";this.assetTypeToEdit&&this.assetTypeToEdit.id&&(s="editAssetType",t.id=this.assetTypeToEdit.id),this.$store.dispatch(s,{data:t,callback:function(t){t||(e.modals.isNewDisplayed=!1,e.$router.push("/asset-types"))}})},confirmDeleteAssetType:function(){var t=this;this.$store.dispatch("deleteAssetType",{assetType:this.assetTypeToDelete,callback:function(e){e||(t.modals.isDeleteDisplayed=!1)}})},deleteText:function(){var t=this.assetTypeToDelete;return t?this.$t("asset_types.delete_text",{name:t.name}):""},handleModalsDisplay:function(){var t=this.$store.state.route.path,e=this.$store.state.route.params.asset_type_id;t.indexOf("new")>0?(this.assetTypeToEdit={ccolor:"#FFFFFF"},this.modals.isNewDisplayed=!0):t.indexOf("edit")>0?(this.assetTypeToEdit=this.getAssetType(e),this.modals.isNewDisplayed=!0):t.indexOf("delete")>0?(this.assetTypeToDelete=this.getAssetType(e),this.modals.isDeleteDisplayed=!0):(this.modals.isNewDisplayed=!1,this.modals.isDeleteDisplayed=!1)}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("asset_types.title")," - Kitsu")}}},L=k,F=Object(m["a"])(L,a,i,!1,null,"3ddfa813",null);e["default"]=F.exports},"9fac":function(t,e,s){},b875:function(t,e,s){},c8bad:function(t,e,s){"use strict";var a=s("b875"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-4bd2586d.c88fcb4d.js.map