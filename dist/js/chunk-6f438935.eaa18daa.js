(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f438935"],{"0af2":function(e,t,s){},"101e":function(e,t,s){"use strict";var a=s("a868"),i=s.n(a);i.a},"319f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"asset-types page fixed-page"},[s("div",{staticClass:"level page-header"},[s("div",{staticClass:"level-left"},[s("page-title",{attrs:{text:e.$t("asset_types.title")}})],1),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button-link",{staticClass:"level-item",attrs:{icon:"plus",text:e.$t("asset_types.new_asset_type"),path:"/asset-types/new"}})],1)])]),s("asset-type-list",{staticClass:"mt2",attrs:{entries:e.assetTypes,"is-loading":e.isAssetTypesLoading,"is-error":e.isAssetTypesLoadingError}}),s("edit-asset-type-modal",{attrs:{active:e.modals.isNewDisplayed,"is-loading":e.editAssetType.isLoading,"is-error":e.editAssetType.isError,"cancel-route":"/asset-types","asset-type-to-edit":e.assetTypeToEdit},on:{confirm:e.confirmEditAssetType}}),s("delete-modal",{attrs:{active:e.modals.isDeleteDisplayed,"is-loading":e.deleteAssetType.isLoading,"is-error":e.deleteAssetType.isError,"cancel-route":"/asset-types",text:e.deleteText(),"error-text":e.$t("asset_types.delete_error")},on:{confirm:e.confirmDeleteAssetType}})],1)},i=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("bd86")),r=s("2f62"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"data-list"},[s("div",{staticStyle:{overflow:"hidden"}},[s("table",{ref:"headerWrapper",staticClass:"table table-header"},[s("thead",[s("tr",[s("th",{staticClass:"name"},[e._v(e._s(e.$t("asset_types.fields.name")))]),s("th",{staticClass:"actions"})])])])]),s("table-info",{attrs:{"is-loading":e.isLoading,"is-error":e.isError}}),e.entries.length>0?s("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onBodyScroll,expression:"onBodyScroll"}],staticClass:"table-body"},[s("table",{staticClass:"table"},[s("tbody",e._l(e.entries,(function(t){return s("tr",{key:t.id},[s("td",{staticClass:"name"},[e._v("\n             "+e._s(t.name)+"\n          ")]),s("row-actions",{attrs:{"entry-id":t.id,"edit-route":{name:"edit-asset-type",params:{asset_type_id:t.id}},"delete-route":{name:"delete-asset-type",params:{asset_type_id:t.id}}}})],1)})),0)])]):e._e(),s("p",{staticClass:"has-text-centered nb-asset-types"},[e._v("\n    "+e._s(e.entries.length)+" "+e._s(e.$tc("asset_types.number",e.entries.length))+"\n  ")])],1)},l=[],c=s("03b1"),p=s("e60b");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"asset-type-list",props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActions:c["a"],TableInfo:p["a"]},computed:y({},Object(r["c"])([])),methods:y({},Object(r["b"])([]),{onBodyScroll:function(e,t){this.$refs.headerWrapper.style.left="-".concat(t.scrollLeft,"px")}})},f=u,m=(s("ca96"),s("2877")),b=Object(m["a"])(f,o,l,!1,null,"192ecab3",null),h=b.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{modal:!0,"is-active":e.active}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box"},[e.assetTypeToEdit&&e.assetTypeToEdit.id?s("h1",{staticClass:"title"},[e._v("\n        "+e._s(e.$t("asset_types.edit_title"))+" "+e._s(e.assetTypeToEdit.name)+"\n      ")]):s("h1",{staticClass:"title"},[e._v("\n        "+e._s(e.$t("asset_types.new_asset_type"))+"\n      ")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:e.$t("asset_types.fields.name")},on:{enter:e.runConfirmation},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("p",{staticClass:"has-text-right"},[s("a",{class:{button:!0,"is-primary":!0,"is-loading":e.isLoading},on:{click:e.runConfirmation}},[e._v("\n          "+e._s(e.$t("main.confirmation"))+"\n        ")]),s("router-link",{staticClass:"button is-link",attrs:{to:e.cancelRoute}},[e._v("\n          "+e._s(e.$t("main.cancel"))+"\n        ")])],1)])])])},v=[],O=s("7bf8");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(s,!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var w={name:"edit-asset-type-modal",components:{TextField:O["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","errorText","assetTypeToEdit"],data:function(){return{}},computed:_({},Object(r["c"])(["assetTypes","assetTypeStatusOptions"]),{form:function(){return{name:""}}}),methods:_({},Object(r["b"])([]),{runConfirmation:function(){this.$emit("confirm",this.form)}}),watch:{active:function(){var e=this;this.active&&setTimeout((function(){e.$refs.nameField.focus()}),100)},assetTypeToEdit:function(){this.assetTypeToEdit&&(this.form.name=this.assetTypeToEdit.name)}}},j=w,D=(s("101e"),Object(m["a"])(j,T,v,!1,null,"2eb802b8",null)),E=D.exports,C=s("5f48"),A=s("e211"),P=s("8d07");function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(s,!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var k={name:"asset-types",components:{AssetTypeList:h,ButtonLink:A["a"],DeleteModal:C["a"],EditAssetTypeModal:E,PageTitle:P["a"]},data:function(){return{modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},assetTypeToDelete:null,assetTypeToEdit:null,choices:[]}},computed:x({},Object(r["c"])(["assetTypes","isAssetTypesLoading","isAssetTypesLoadingError","editAssetType","deleteAssetType","getAssetType"])),created:function(){var e=this;this.loadAssetTypes((function(t){t||e.handleModalsDisplay()}))},methods:x({},Object(r["b"])(["loadAssetTypes"]),{confirmEditAssetType:function(e){var t=this,s="newAssetType";this.assetTypeToEdit&&this.assetTypeToEdit.id&&(s="editAssetType",e.id=this.assetTypeToEdit.id),this.$store.dispatch(s,{data:e,callback:function(e){e||(t.modals.isNewDisplayed=!1,t.$router.push("/asset-types"))}})},confirmDeleteAssetType:function(){var e=this;this.$store.dispatch("deleteAssetType",{assetType:this.assetTypeToDelete,callback:function(t){t||(e.modals.isDeleteDisplayed=!1)}})},deleteText:function(){var e=this.assetTypeToDelete;return e?this.$t("asset_types.delete_text",{name:e.name}):""},handleModalsDisplay:function(){var e=this.$store.state.route.path,t=this.$store.state.route.params.asset_type_id;e.indexOf("new")>0?(this.assetTypeToEdit={ccolor:"#FFFFFF"},this.modals.isNewDisplayed=!0):e.indexOf("edit")>0?(this.assetTypeToEdit=this.getAssetType(t),this.modals.isNewDisplayed=!0):e.indexOf("delete")>0?(this.assetTypeToDelete=this.getAssetType(t),this.modals.isDeleteDisplayed=!0):(this.modals.isNewDisplayed=!1,this.modals.isDeleteDisplayed=!1)}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("asset_types.title")," - Kitsu")}}},L=k,S=Object(m["a"])(L,a,i,!1,null,"3ddfa813",null);t["default"]=S.exports},a868:function(e,t,s){},ca96:function(e,t,s){"use strict";var a=s("0af2"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-6f438935.eaa18daa.js.map