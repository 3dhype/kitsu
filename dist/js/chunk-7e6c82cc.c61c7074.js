(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e6c82cc"],{"1b5b":function(t,e,s){"use strict";var i=s("a3fd"),o=s.n(i);o.a},"38fe":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"custom-actions page fixed-page"},[s("div",{staticClass:"level page-header"},[s("div",{staticClass:"level-left"},[s("page-title",{attrs:{text:t.$t("custom_actions.title")}})],1),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button-link",{staticClass:"level-item",attrs:{icon:"plus",text:t.$t("custom_actions.new_custom_action"),path:"/custom-actions/new"}})],1)])]),s("custom-action-list",{attrs:{entries:t.customActions,"is-loading":t.isCustomActionsLoading,"is-error":t.isCustomActionsLoadingError}}),s("edit-custom-action-modal",{attrs:{active:t.modals.isNewDisplayed,"is-loading":t.editCustomAction.isLoading,"is-error":t.editCustomAction.isError,"cancel-route":"/custom-actions","custom-action-to-edit":t.customActionToEdit},on:{confirm:t.confirmEditCustomAction}}),s("delete-modal",{attrs:{active:t.modals.isDeleteDisplayed,"is-loading":t.deleteCustomAction.isLoading,"is-error":t.deleteCustomAction.isError,"cancel-route":"/custom-actions",text:t.deleteText(),"error-text":t.$t("custom_actions.delete_error")},on:{confirm:t.confirmDeleteCustomAction}})],1)},o=[],a=(s("7f7f"),s("cebc")),n=s("2f62"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-list"},[s("div",{staticStyle:{overflow:"hidden"}},[s("table",{ref:"headerWrapper",staticClass:"table table-header"},[s("thead",{staticClass:"thead"},[s("tr",[s("th",{staticClass:"name"},[t._v(t._s(t.$t("custom_actions.fields.name")))]),s("th",{staticClass:"url"},[t._v(t._s(t.$t("custom_actions.fields.url")))]),s("th",{staticClass:"entity-type"},[t._v(t._s(t.$t("custom_actions.fields.entity_type")))]),s("th",{staticClass:"is-ajax"},[t._v(t._s(t.$t("custom_actions.fields.is_ajax")))]),s("th",{staticClass:"actions"},[t._v("Â ")])])])])]),s("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),s("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onBodyScroll,expression:"onBodyScroll"}],staticClass:"table-body"},[s("table",{staticClass:"table"},[s("tbody",t._l(t.entries,function(e){return s("tr",{key:e.id},[s("td",{staticClass:"name"},[t._v(t._s(e.name))]),s("td",{staticClass:"url"},[t._v(t._s(e.url))]),s("td",{staticClass:"entity-type"},[t._v(t._s(e.entity_type))]),s("td",{staticClass:"is-ajax"},[t._v("\n            "+t._s(t.formatBoolean(e.is_ajax))+"\n          ")]),s("row-actions",{attrs:{"entry-id":e.id,"edit-route":{name:"edit-custom-action",params:{custom_action_id:e.id}},"delete-route":{name:"delete-custom-action",params:{custom_action_id:e.id}}}})],1)}),0)])]),s("p",{staticClass:"has-text-centered nb-custom-actions"},[t._v("\n    "+t._s(t.entries.length)+" "+t._s(t.$tc("custom_actions.number",t.entries.length))+"\n  ")])],1)},l=[],r=s("4f18"),u=s("03b1"),m=s("e60b"),d={name:"custom-action-list",mixins:[r["a"]],props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActions:u["a"],TableInfo:m["a"]},computed:Object(a["a"])({},Object(n["c"])([])),methods:Object(a["a"])({},Object(n["b"])([]),{renderForShots:function(t){return t.for_shots?this.$tc("shots.title"):this.$tc("assets.title")},onBodyScroll:function(t,e){this.$refs.headerWrapper.style.left="-".concat(e.scrollLeft,"px")}})},f=d,p=(s("613f"),s("2877")),h=Object(p["a"])(f,c,l,!1,null,"e5773b16",null),b=h.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{modal:!0,"is-active":t.active}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box"},[t.isEditing()?s("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("custom_actions.edit_title"))+" "+t._s(t.customActionToEdit.name)+"\n      ")]):s("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("custom_actions.new_custom_action"))+"\n      ")]),s("form",{on:{submit:function(t){t.preventDefault()}}},[s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:t.$t("custom_actions.fields.name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),s("text-field",{ref:"urlField",attrs:{label:t.$t("custom_actions.fields.url")},on:{enter:t.confirmClicked},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),s("combobox",{attrs:{label:t.$t("custom_actions.fields.entity_type"),options:t.entityTypeOptions,"locale-key-prefix":"custom_actions.entity_types."},on:{enter:t.confirmClicked},model:{value:t.form.entityType,callback:function(e){t.$set(t.form,"entityType",e)},expression:"form.entityType"}}),s("combobox-boolean",{attrs:{label:t.$t("custom_actions.fields.is_ajax")},on:{enter:t.confirmClicked},model:{value:t.form.isAjax,callback:function(e){t.$set(t.form,"isAjax",e)},expression:"form.isAjax"}})],1),s("p",{staticClass:"has-text-right"},[s("a",{class:{button:!0,"is-primary":!0,"is-loading":t.isLoading},on:{click:t.confirmClicked}},[t._v("\n          "+t._s(t.$t("main.confirmation"))+"\n        ")]),s("router-link",{staticClass:"button is-link",attrs:{to:t.cancelRoute}},[t._v("\n          "+t._s(t.$t("main.cancel"))+"\n        ")])],1)])])])},v=[],C=(s("6b54"),s("992f")),y=s("4636"),A=s("7bf8"),x={name:"edit-custom-action-modal",components:{Combobox:C["a"],ComboboxBoolean:y["a"],TextField:A["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","errorText","customActionToEdit"],data:function(){return{form:{name:"",url:"",entityType:"all",isAjax:"false"},entityTypeOptions:[{label:"all",value:"all"},{label:"asset",value:"asset"},{label:"shot",value:"shot"}]}},computed:Object(a["a"])({},Object(n["c"])(["customActions","customActionStatusOptions"])),methods:Object(a["a"])({},Object(n["b"])([]),{confirmClicked:function(){this.$emit("confirm",this.form)},isEditing:function(){return this.customActionToEdit&&this.customActionToEdit.id}}),watch:{customActionToEdit:function(){this.customActionToEdit&&(this.form={name:this.customActionToEdit.name,url:this.customActionToEdit.url,entityType:this.customActionToEdit.entity_type,isAjax:Boolean(this.customActionToEdit.is_ajax).toString()})},active:function(){var t=this;this.active&&setTimeout(function(){t.$refs.nameField.focus()},100)}}},$=x,E=(s("1b5b"),Object(p["a"])($,_,v,!1,null,"ca92534e",null)),T=E.exports,g=s("5f48"),j=s("8d07"),D=s("e211"),w={name:"custom-actions",components:{ButtonLink:D["a"],DeleteModal:g["a"],EditCustomActionModal:T,PageTitle:j["a"],CustomActionList:b},data:function(){return{modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},customActionToDelete:null,customActionToEdit:null}},computed:Object(a["a"])({},Object(n["c"])(["customActions","isCustomActionsLoading","isCustomActionsLoadingError","editCustomAction","deleteCustomAction","customAction"])),created:function(){var t=this;this.loadCustomActions(function(e){e||t.handleModalsDisplay()})},methods:Object(a["a"])({},Object(n["b"])(["loadCustomActions"]),{confirmEditCustomAction:function(t){var e=this,s="newCustomAction";this.customActionToEdit&&this.customActionToEdit.id&&(s="editCustomAction",t.id=this.customActionToEdit.id),this.$store.dispatch(s,{data:t,callback:function(t){t||(e.modals.isNewDisplayed=!1,e.$router.push("/custom-actions"))}})},confirmDeleteCustomAction:function(){var t=this;this.$store.dispatch("deleteCustomAction",{customAction:this.customActionToDelete,callback:function(e){e||t.$router.push("/custom-actions")}})},deleteText:function(){var t=this.customActionToDelete;return t?this.$t("custom_actions.delete_text",{name:t.name}):""},handleModalsDisplay:function(){var t=this.$store.state.route.path,e=this.$store.state.route.params.custom_action_id;t.indexOf("new")>0?(this.customActionToEdit={color:"#FFFFFF"},this.modals.isNewDisplayed=!0):t.indexOf("edit")>0?(this.customActionToEdit=this.customAction(e),this.modals.isNewDisplayed=!0):t.indexOf("delete")>0?(this.customActionToDelete=this.customAction(e),this.modals.isDeleteDisplayed=!0):(this.modals.isNewDisplayed=!1,this.modals.isDeleteDisplayed=!1)}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("custom_actions.title")," - Kitsu")}}},O=w,k=Object(p["a"])(O,i,o,!1,null,"4bcf04fa",null);e["default"]=k.exports},4636:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("combobox",{attrs:{label:t.label,disabled:t.disabled,options:t.booleanOptions,value:t.value},on:{input:t.emitValue,enter:t.emitEnter}})},o=[],a=s("992f"),n={name:"combobox-boolean",components:{Combobox:a["a"]},props:{label:{default:"",type:String},value:{default:"false",type:String},options:{default:function(){return[]},type:Array},disabled:{default:!1,type:Boolean}},data:function(){return{booleanOptions:[{label:this.$t("main.yes"),value:"true"},{label:this.$t("main.no"),value:"false"}]}},computed:{},methods:{emitValue:function(t){this.$emit("input",t)},emitEnter:function(t){this.$emit("enter",t)}}},c=n,l=s("2877"),r=Object(l["a"])(c,i,o,!1,null,"5da9e2c2",null);e["a"]=r.exports},"613f":function(t,e,s){"use strict";var i=s("f954"),o=s.n(i);o.a},a3fd:function(t,e,s){},f954:function(t,e,s){}}]);
//# sourceMappingURL=chunk-7e6c82cc.c61c7074.js.map