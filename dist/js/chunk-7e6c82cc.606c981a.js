(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e6c82cc"],{"1b5b":function(t,e,o){"use strict";var i=o("a3fd"),s=o.n(i);s.a},"38fe":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"custom-actions page fixed-page"},[o("div",{staticClass:"level page-header"},[o("div",{staticClass:"level-left"},[o("page-title",{attrs:{text:t.$t("custom_actions.title")}})],1),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item"},[o("button-link",{staticClass:"level-item",attrs:{icon:"plus",text:t.$t("custom_actions.new_custom_action"),path:"/custom-actions/new"}})],1)])]),o("custom-action-list",{attrs:{entries:t.customActions,"is-loading":t.isCustomActionsLoading,"is-error":t.isCustomActionsLoadingError}}),o("edit-custom-action-modal",{attrs:{active:t.modals.isNewDisplayed,"is-loading":t.editCustomAction.isLoading,"is-error":t.editCustomAction.isError,"cancel-route":"/custom-actions","custom-action-to-edit":t.customActionToEdit},on:{confirm:t.confirmEditCustomAction}}),o("delete-modal",{attrs:{active:t.modals.isDeleteDisplayed,"is-loading":t.deleteCustomAction.isLoading,"is-error":t.deleteCustomAction.isError,"cancel-route":"/custom-actions",text:t.deleteText(),"error-text":t.$t("custom_actions.delete_error")},on:{confirm:t.confirmDeleteCustomAction}})],1)},s=[],n=(o("8e6e"),o("ac6a"),o("456d"),o("7f7f"),o("bd86")),a=o("2f62"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"data-list"},[o("div",{staticStyle:{overflow:"hidden"}},[o("table",{ref:"headerWrapper",staticClass:"table table-header"},[o("thead",{staticClass:"thead"},[o("tr",[o("th",{staticClass:"name"},[t._v(t._s(t.$t("custom_actions.fields.name")))]),o("th",{staticClass:"url"},[t._v(t._s(t.$t("custom_actions.fields.url")))]),o("th",{staticClass:"entity-type"},[t._v(t._s(t.$t("custom_actions.fields.entity_type")))]),o("th",{staticClass:"is-ajax"},[t._v(t._s(t.$t("custom_actions.fields.is_ajax")))]),o("th",{staticClass:"actions"},[t._v("Â ")])])])])]),o("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),o("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onBodyScroll,expression:"onBodyScroll"}],staticClass:"table-body"},[o("table",{staticClass:"table"},[o("tbody",t._l(t.entries,(function(e){return o("tr",{key:e.id},[o("td",{staticClass:"name"},[t._v(t._s(e.name))]),o("td",{staticClass:"url"},[t._v(t._s(e.url))]),o("td",{staticClass:"entity-type"},[t._v(t._s(e.entity_type))]),o("td",{staticClass:"is-ajax"},[t._v("\n            "+t._s(t.formatBoolean(e.is_ajax))+"\n          ")]),o("row-actions",{attrs:{"entry-id":e.id,"edit-route":{name:"edit-custom-action",params:{custom_action_id:e.id}},"delete-route":{name:"delete-custom-action",params:{custom_action_id:e.id}}}})],1)})),0)])]),o("p",{staticClass:"has-text-centered nb-custom-actions"},[t._v("\n    "+t._s(t.entries.length)+" "+t._s(t.$tc("custom_actions.number",t.entries.length))+"\n  ")])],1)},r=[],l=o("4f18"),u=o("03b1"),m=o("e60b");function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(o,!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var p={name:"custom-action-list",mixins:[l["a"]],props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActions:u["a"],TableInfo:m["a"]},computed:f({},Object(a["c"])([])),methods:f({},Object(a["b"])([]),{renderForShots:function(t){return t.for_shots?this.$tc("shots.title"):this.$tc("assets.title")},onBodyScroll:function(t,e){this.$refs.headerWrapper.style.left="-".concat(e.scrollLeft,"px")}})},b=p,h=(o("613f"),o("2877")),y=Object(h["a"])(b,c,r,!1,null,"e5773b16",null),v=y.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{modal:!0,"is-active":t.active}},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box"},[t.isEditing()?o("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("custom_actions.edit_title"))+" "+t._s(t.customActionToEdit.name)+"\n      ")]):o("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("custom_actions.new_custom_action"))+"\n      ")]),o("form",{on:{submit:function(t){t.preventDefault()}}},[o("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:t.$t("custom_actions.fields.name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),o("text-field",{ref:"urlField",attrs:{label:t.$t("custom_actions.fields.url")},on:{enter:t.confirmClicked},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),o("combobox",{attrs:{label:t.$t("custom_actions.fields.entity_type"),options:t.entityTypeOptions,"locale-key-prefix":"custom_actions.entity_types."},on:{enter:t.confirmClicked},model:{value:t.form.entityType,callback:function(e){t.$set(t.form,"entityType",e)},expression:"form.entityType"}}),o("combobox-boolean",{attrs:{label:t.$t("custom_actions.fields.is_ajax")},on:{enter:t.confirmClicked},model:{value:t.form.isAjax,callback:function(e){t.$set(t.form,"isAjax",e)},expression:"form.isAjax"}})],1),o("p",{staticClass:"has-text-right"},[o("a",{class:{button:!0,"is-primary":!0,"is-loading":t.isLoading},on:{click:t.confirmClicked}},[t._v("\n          "+t._s(t.$t("main.confirmation"))+"\n        ")]),o("router-link",{staticClass:"button is-link",attrs:{to:t.cancelRoute}},[t._v("\n          "+t._s(t.$t("main.cancel"))+"\n        ")])],1)])])])},O=[],C=(o("6b54"),o("992f")),A=o("4636"),g=o("7bf8");function j(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(o,!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var w={name:"edit-custom-action-modal",components:{Combobox:C["a"],ComboboxBoolean:A["a"],TextField:g["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","errorText","customActionToEdit"],data:function(){return{form:{name:"",url:"",entityType:"all",isAjax:"false"},entityTypeOptions:[{label:"all",value:"all"},{label:"asset",value:"asset"},{label:"shot",value:"shot"}]}},computed:x({},Object(a["c"])(["customActions","customActionStatusOptions"])),methods:x({},Object(a["b"])([]),{confirmClicked:function(){this.$emit("confirm",this.form)},isEditing:function(){return this.customActionToEdit&&this.customActionToEdit.id}}),watch:{customActionToEdit:function(){this.customActionToEdit&&(this.form={name:this.customActionToEdit.name,url:this.customActionToEdit.url,entityType:this.customActionToEdit.entity_type,isAjax:Boolean(this.customActionToEdit.is_ajax).toString()})},active:function(){var t=this;this.active&&setTimeout((function(){t.$refs.nameField.focus()}),100)}}},$=w,E=(o("1b5b"),Object(h["a"])($,_,O,!1,null,"ca92534e",null)),D=E.exports,T=o("5f48"),k=o("8d07"),P=o("e211");function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function L(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(o,!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var F={name:"custom-actions",components:{ButtonLink:P["a"],DeleteModal:T["a"],EditCustomActionModal:D,PageTitle:k["a"],CustomActionList:v},data:function(){return{modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},customActionToDelete:null,customActionToEdit:null}},computed:L({},Object(a["c"])(["customActions","isCustomActionsLoading","isCustomActionsLoadingError","editCustomAction","deleteCustomAction","customAction"])),created:function(){var t=this;this.loadCustomActions((function(e){e||t.handleModalsDisplay()}))},methods:L({},Object(a["b"])(["loadCustomActions"]),{confirmEditCustomAction:function(t){var e=this,o="newCustomAction";this.customActionToEdit&&this.customActionToEdit.id&&(o="editCustomAction",t.id=this.customActionToEdit.id),this.$store.dispatch(o,{data:t,callback:function(t){t||(e.modals.isNewDisplayed=!1,e.$router.push("/custom-actions"))}})},confirmDeleteCustomAction:function(){var t=this;this.$store.dispatch("deleteCustomAction",{customAction:this.customActionToDelete,callback:function(e){e||t.$router.push("/custom-actions")}})},deleteText:function(){var t=this.customActionToDelete;return t?this.$t("custom_actions.delete_text",{name:t.name}):""},handleModalsDisplay:function(){var t=this.$store.state.route.path,e=this.$store.state.route.params.custom_action_id;t.indexOf("new")>0?(this.customActionToEdit={color:"#FFFFFF"},this.modals.isNewDisplayed=!0):t.indexOf("edit")>0?(this.customActionToEdit=this.customAction(e),this.modals.isNewDisplayed=!0):t.indexOf("delete")>0?(this.customActionToDelete=this.customAction(e),this.modals.isDeleteDisplayed=!0):(this.modals.isNewDisplayed=!1,this.modals.isDeleteDisplayed=!1)}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("custom_actions.title")," - Kitsu")}}},B=F,N=Object(h["a"])(B,i,s,!1,null,"4bcf04fa",null);e["default"]=N.exports},4636:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("combobox",{attrs:{label:t.label,disabled:t.disabled,options:t.booleanOptions,value:t.value},on:{input:t.emitValue,enter:t.emitEnter}})},s=[],n=o("992f"),a={name:"combobox-boolean",components:{Combobox:n["a"]},props:{label:{default:"",type:String},value:{default:"false",type:String},options:{default:function(){return[]},type:Array},disabled:{default:!1,type:Boolean}},data:function(){return{booleanOptions:[{label:this.$t("main.yes"),value:"true"},{label:this.$t("main.no"),value:"false"}]}},computed:{},methods:{emitValue:function(t){this.$emit("input",t)},emitEnter:function(t){this.$emit("enter",t)}}},c=a,r=o("2877"),l=Object(r["a"])(c,i,s,!1,null,"5da9e2c2",null);e["a"]=l.exports},"613f":function(t,e,o){"use strict";var i=o("f954"),s=o.n(i);s.a},a3fd:function(t,e,o){},f954:function(t,e,o){}}]);
//# sourceMappingURL=chunk-7e6c82cc.606c981a.js.map