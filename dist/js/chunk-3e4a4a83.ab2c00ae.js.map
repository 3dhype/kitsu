{"version":3,"sources":["webpack:///./src/components/pages/ProductionSchedule.vue?c92b","webpack:///./src/components/pages/schedule/Schedule.vue?0627","webpack:///./src/components/pages/ProductionSchedule.vue?cee1","webpack:///./src/components/widgets/ComboboxNumber.vue?4e08","webpack:///src/components/widgets/ComboboxNumber.vue","webpack:///./src/components/widgets/ComboboxNumber.vue?da14","webpack:///./src/components/widgets/ComboboxNumber.vue?d86d","webpack:///./src/components/pages/schedule/Schedule.vue?f056","webpack:///src/components/pages/schedule/Schedule.vue","webpack:///./src/components/pages/schedule/Schedule.vue?29aa","webpack:///./src/components/pages/schedule/Schedule.vue?6dfe","webpack:///src/components/pages/ProductionSchedule.vue","webpack:///./src/components/pages/ProductionSchedule.vue?4158","webpack:///./src/components/pages/ProductionSchedule.vue?b69c","webpack:///./src/components/widgets/ComboboxNumber.vue?af49"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductionSchedule_vue_vue_type_style_index_0_id_97ce2faa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductionSchedule_vue_vue_type_style_index_0_id_97ce2faa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Schedule_vue_vue_type_style_index_0_id_09864d3a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Schedule_vue_vue_type_style_index_0_id_09864d3a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","wrapper-class","input-class","language","locale","disabled-dates","days","monday-first","format","model","value","callback","$$v","selectedStartDate","expression","selectedEndDate","directives","name","rawName","type","label","disabled","isCurrentUserAdmin","overallManDays","options","zoomOptions","zoomLevel","start-date","startDate","end-date","endDate","hierarchy","scheduleItems","zoom-level","is-loading","loading","schedule","is-error","errors","on","item-changed","saveScheduleItem","change-zoom","changeZoom","root-element-expanded","expandTaskTypeElement","task","currentTask","_e","staticRenderFns","ComboboxNumbervue_type_template_id_4e1af092_scoped_true_render","isSimple","ref","keyup","$event","indexOf","_k","keyCode","key","emitEnter","change","updateValue","_l","option","i","domProps","selected","getOptionLabel","length","class","select","ComboboxNumbervue_type_template_id_4e1af092_scoped_true_staticRenderFns","ComboboxNumbervue_type_script_lang_js_","props","default","String","Number","Array","localeKeyPrefix","Boolean","computed","methods","$emit","parseInt","$refs","toLowerCase","widgets_ComboboxNumbervue_type_script_lang_js_","component","Object","componentNormalizer","ComboboxNumber","Schedulevue_type_template_id_09864d3a_scoped_true_render","scheduleClass","mousedown","startBrowsingY","totalManDays","rootElement","id","style","entityLineStyle","click","expandRootElement","expanded","placeholder","min","input","target","composing","$set","staticStyle","width","margin","childElement","expandChildElement","startBrowsingX","day","index","toISOString","dayStyle","newMonth","dayClass","weekend","startBrowsing","mousewheel","timebarStyle","timebar-left-hand","moveTimebarLeftSide","moveTimebar","timebar-right-hand","moveTimebarRightSide","opacity","title","Schedulevue_type_template_id_09864d3a_scoped_true_staticRenderFns","Schedulevue_type_script_lang_js_","components","ChevronDownIcon","vue_feather_icons_es","ChevronRightIcon","Spinner","data","isBrowsingX","isBrowsingY","isChangeSize","timelineDisplayedDaysIndex","required","isError","isLoading","mounted","resetScheduleSize","document","addEventListener","stopBrowsing","onMouseMove","window","destroyed","removeEventListener","body","cursor","objectSpread","vuex_esm","cellWidth","daysAvailable","add","dayDate","toDate","endDayDate","isoweekday","isoWeekday","monthday","month","nextDay","Date","setDate","getDate","newWeek","getMonth","includes","momentDay","moment_timezone_default","push","displayedDays","filter","nbDisplayedDays","displayedDaysIndex","dayIndex","forEach","d","className","unselectable","timelinePositionStyle","reduce","acc","timeElement","manDays","man_days","entityList","timelineContent","timelineContentWrapper","timelineHeader","timelinePosition","height","offsetHeight","event","isChangeStartDate","changeStartDate","isChangeEndDate","changeEndDate","isChangeDates","changeDates","scrollScheduleLeft","scrollScheduleTop","updatePositionBarPosition","position","scrollLeft","clientX","Math","round","left","initialClientX","dayChange","ceil","startDateString","lastStartDate","endDateString","lastEndDate","startDateIndex","endDateIndex","currentIndex","newStartDate","newEndDate","currentElement","floor","previousLeft","newLeft","movementX","previousTop","scrollTop","newTop","movementY","isChangeEnd","clone","businessDiff","first","endOf","last","startOf","diff","wfirst","wlast","businessDays","isBefore","arguments","undefined","day-name","new-week","new-month","min-width","max-width","background-color","color","getTimebarLeft","getTimebarWidth","startDiff","lengthDiff","element","socket","watch","$nextTick","schedule_Schedulevue_type_script_lang_js_","Schedule_component","Schedule","ProductionSchedulevue_type_script_lang_js_","Datepicker","vuejs_datepicker_esm","TaskInfo","TextField","reset","user","dist_locale","loadData","_this","loadScheduleItems","currentProduction","then","map","item","taskType","taskTypeMap","task_type_id","for_shots","priority","start_date","end_date","children","sorting","catch","err","console","error","wheelDelta","convertScheduleItems","taskTypeElement","_this2","parameters","production","action","isTVShow","editProduction","metaInfo","concat","currentEpisode","pages_ProductionSchedulevue_type_script_lang_js_","ProductionSchedule_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ComboboxNumber_vue_vue_type_style_index_0_id_4e1af092_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ComboboxNumber_vue_vue_type_style_index_0_id_4e1af092_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-3e4a4a83.ab2c00ae.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=97ce2faa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=97ce2faa&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=style&index=0&id=09864d3a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=style&index=0&id=09864d3a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"flexrow project-dates\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('main.start_date'))+\"\\n        \")]),_c('datepicker',{attrs:{\"wrapper-class\":\"datepicker\",\"input-class\":\"date-input input\",\"language\":_vm.locale,\"disabled-dates\":{ days: [6, 0] },\"monday-first\":true,\"format\":\"d MMMM yyyy\"},model:{value:(_vm.selectedStartDate),callback:function ($$v) {_vm.selectedStartDate=$$v},expression:\"selectedStartDate\"}})],1),_c('div',{staticClass:\"flexrow-item field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('main.end_date'))+\"\\n        \")]),_c('datepicker',{attrs:{\"wrapper-class\":\"datepicker\",\"input-class\":\"date-input input\",\"language\":_vm.locale,\"disabled-dates\":{ days: [6, 0] },\"monday-first\":true,\"format\":\"d MMMM yyyy\"},model:{value:(_vm.selectedEndDate),callback:function ($$v) {_vm.selectedEndDate=$$v},expression:\"selectedEndDate\"}})],1),_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"flexrow-item overall-man-days\",attrs:{\"type\":\"number\",\"label\":_vm.$t('schedule.overall_man_days'),\"disabled\":!_vm.isCurrentUserAdmin},model:{value:(_vm.overallManDays),callback:function ($$v) {_vm.overallManDays=$$v},expression:\"overallManDays\"}}),_c('combobox-number',{staticClass:\"flexrow-item zoom-level\",attrs:{\"label\":_vm.$t('schedule.zoom_level'),\"options\":_vm.zoomOptions},model:{value:(_vm.zoomLevel),callback:function ($$v) {_vm.zoomLevel=$$v},expression:\"zoomLevel\"}})],1),_c('schedule',{attrs:{\"start-date\":_vm.startDate,\"end-date\":_vm.endDate,\"hierarchy\":_vm.scheduleItems,\"zoom-level\":_vm.zoomLevel,\"is-loading\":_vm.loading.schedule,\"is-error\":_vm.errors.schedule},on:{\"item-changed\":_vm.saveScheduleItem,\"change-zoom\":_vm.changeZoom,\"root-element-expanded\":_vm.expandTaskTypeElement}})],1),(_vm.currentTask)?_c('div',{staticClass:\"column side-column is-hidden-mobile hide-small-screen\"},[_c('task-info',{attrs:{\"task\":_vm.currentTask,\"is-loading\":false}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isSimple)?_c('div',{staticClass:\"field\"},[(_vm.label.length > 0)?_c('label',{staticClass:\"label\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]):_vm._e(),_c('p',{staticClass:\"control\"},[_c('span',{class:{\n        select: true,\n      }},[_c('select',{ref:\"select\",staticClass:\"select-input\",attrs:{\"disabled\":_vm.disabled},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.emitEnter()},\"change\":_vm.updateValue}},_vm._l((_vm.options),function(option,i){return _c('option',{key:i + '-' + option.label + '-' + option.value,domProps:{\"value\":option.value || option.label,\"selected\":_vm.value === option.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.getOptionLabel(option))+\"\\n        \")])}),0)])])]):_c('span',{staticClass:\"select\"},[_c('select',{ref:\"select\",staticClass:\"select-input\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.emitEnter()},\"change\":_vm.updateValue}},_vm._l((_vm.options),function(option,i){return _c('option',{key:i + '-' + option.label + '-' + option.value,domProps:{\"value\":option.value || option.label,\"selected\":_vm.value === option.value}},[_vm._v(\"\\n      \"+_vm._s(_vm.getOptionLabel(option))+\"\\n    \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"field\" v-if=\"!isSimple\">\n  <label class=\"label\" v-if=\"label.length > 0\">\n    {{ label }}\n  </label>\n  <p class=\"control\">\n    <span\n      :class=\"{\n        select: true,\n      }\"\n    >\n      <select\n        class=\"select-input\"\n        ref=\"select\"\n        :disabled=\"disabled\"\n        @keyup.enter=\"emitEnter()\"\n        @change=\"updateValue\"\n      >\n        <option\n          v-for=\"(option, i) in options\"\n          :key=\"i + '-' + option.label + '-' + option.value\"\n          :value=\"option.value || option.label\"\n          :selected=\"value === option.value\"\n        >\n          {{ getOptionLabel(option) }}\n        </option>\n      </select>\n    </span>\n  </p>\n</div>\n<span\n  class=\"select\"\n  v-else\n>\n  <select\n    class=\"select-input\"\n    ref=\"select\"\n    @keyup.enter=\"emitEnter()\"\n    @change=\"updateValue\"\n  >\n    <option\n      v-for=\"(option, i) in options\"\n      :key=\"i + '-' + option.label + '-' + option.value\"\n      :value=\"option.value || option.label\"\n      :selected=\"value === option.value\"\n    >\n      {{ getOptionLabel(option) }}\n    </option>\n  </select>\n</span>\n\n</template>\n\n<script>\nexport default {\n  name: 'combobox',\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    value: {\n      default: 0,\n      type: Number\n    },\n    options: {\n      default: () => [],\n      type: Array\n    },\n    localeKeyPrefix: {\n      default: '',\n      type: String\n    },\n    isSimple: {\n      default: false,\n      type: Boolean\n    },\n    disabled: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  computed: {\n  },\n\n  methods: {\n    updateValue () {\n      this.$emit('input', parseInt(this.$refs.select.value))\n    },\n    emitEnter () {\n      this.$emit('enter', parseInt(this.$refs.select.value))\n    },\n\n    getOptionLabel (option) {\n      if (this.localeKeyPrefix.length > 0) {\n        return this.$t(this.localeKeyPrefix + option.label.toLowerCase())\n      } else {\n        return option.label\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark select:disabled {\n  background: $dark-grey;\n  border-color: $dark-grey-strong;\n}\n\n.select-input {\n  height: 3em;\n}\n\n.select::after {\n  border: 1px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -2px;\n}\n\n.select.is-top::after {\n  border: 2px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -4px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComboboxNumber.vue?vue&type=template&id=4e1af092&scoped=true&\"\nimport script from \"./ComboboxNumber.vue?vue&type=script&lang=js&\"\nexport * from \"./ComboboxNumber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e1af092\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule-wrapper\"},[_c('div',{ref:\"schedule\",class:_vm.scheduleClass},[_c('div',{ref:\"entity-list\",staticClass:\"entities\",on:{\"mousedown\":_vm.startBrowsingY}},[_c('div',{staticClass:\"has-text-right total-man-days\"},[_c('span',{staticClass:\"mr1\"},[_vm._v(_vm._s(_vm.totalManDays))]),_c('span',[_vm._v(_vm._s(_vm.$t('schedule.md')))])]),_vm._l((_vm.hierarchy),function(rootElement){return _c('div',{key:'entity-' + rootElement.id},[_c('div',{staticClass:\"entity-line entity-name flexrow\",style:(_vm.entityLineStyle(rootElement))},[_c('span',{staticClass:\"expand flexrow-item mr1\",on:{\"click\":function($event){return _vm.expandRootElement(rootElement)}}},[(!rootElement.expanded)?_c('chevron-right-icon'):_c('chevron-down-icon')],1),_c('span',{staticClass:\"filler flexrow-item\"},[_vm._v(\"\\n            \"+_vm._s(rootElement.name)+\"\\n          \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(rootElement.man_days),expression:\"rootElement.man_days\"}],staticClass:\"flexrow-item\",attrs:{\"type\":\"number\",\"placeholder\":\"0\",\"min\":\"0\"},domProps:{\"value\":(rootElement.man_days)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(rootElement, \"man_days\", $event.target.value)},function($event){return _vm.$emit('item-changed', rootElement)}]}}),_c('span',{staticClass:\"man-days-unit flexrow-item\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('schedule.md'))+\"\\n          \")])]),(rootElement.expanded)?_c('div',{staticClass:\"children\"},[(rootElement.loading)?_c('div',{staticClass:\"flexrow\"},[_c('spinner',{staticClass:\"child-spinner flexrow-item\",staticStyle:{\"width\":\"20px\",\"margin\":\"0 0 10px 10px\"}})],1):_vm._e(),_vm._l((rootElement.children),function(childElement){return _c('div',{key:'entity-' + childElement.id,staticClass:\"child-name\"},[_c('div',{staticClass:\"entity-line entity-name child-line flexrow\"},[_c('span',{staticClass:\"expand flexrow-item\",on:{\"click\":function($event){return _vm.expandChildElement(childElement)}}},[_c('chevron-right-icon')],1),_c('span',{staticClass:\"filler flexrow-item\"},[_vm._v(\"\\n                \"+_vm._s(childElement.name)+\"\\n              \")])])])})],2):_vm._e()])})],2),_c('div',{staticClass:\"timeline\"},[_c('div',{ref:\"timeline-header\",staticClass:\"timeline-header\",on:{\"mousedown\":_vm.startBrowsingX}},_vm._l((_vm.daysAvailable),function(day,index){return _c('div',{key:'header-' + day.toISOString(),staticClass:\"day\",style:(_vm.dayStyle(day))},[(day.newMonth || index === 0)?_c('span',{staticClass:\"month-name\"},[_vm._v(\"\\n            \"+_vm._s(day.format('MMMM'))+\"\\n          \")]):_vm._e(),_c('div',{class:_vm.dayClass(day, index)},[(!day.weekend && _vm.zoomLevel > 2)?_c('span',[_vm._v(\"\\n              \"+_vm._s(day.format('ddd')[0])+\" /\\n            \")]):_vm._e(),(!day.weekend)?_c('span',{staticClass:\"day-number\"},[_vm._v(\"\\n              \"+_vm._s(day.format('DD'))+\"\\n            \")]):_vm._e()])])}),0),_c('div',{ref:\"timeline-content-wrapper\",staticClass:\"timeline-content-wrapper\"},[_c('div',{ref:\"timeline-content\",staticClass:\"timeline-content\",on:{\"mousedown\":_vm.startBrowsing,\"mousewheel\":function($event){return _vm.$emit('change-zoom', $event)}}},[_c('div',{ref:\"timeline-position\",staticClass:\"timeline-position\",style:(_vm.timelinePositionStyle)}),_vm._l((_vm.hierarchy),function(rootElement){return _c('div',{key:'entity-line-' + rootElement.id},[_c('div',{staticClass:\"entity-line\",style:(_vm.entityLineStyle(rootElement))},[_c('div',{staticClass:\"timebar\",style:(_vm.timebarStyle(rootElement))},[_c('div',{class:{\n                    'timebar-left-hand': _vm.isCurrentUserAdmin\n                  },on:{\"mousedown\":function($event){return _vm.moveTimebarLeftSide(rootElement, $event)}}}),_c('div',{staticClass:\"filler\",on:{\"mousedown\":function($event){return _vm.moveTimebar(rootElement, $event)}}}),_c('div',{class:{\n                    'timebar-right-hand': _vm.isCurrentUserAdmin\n                  },on:{\"mousedown\":function($event){return _vm.moveTimebarRightSide(rootElement, $event)}}})])]),(rootElement.expanded)?_c('div',{staticClass:\"children\"},[(rootElement.loading)?_c('div',{staticClass:\"flexrow\"},[_c('spinner',{staticClass:\"child-spinner flexrow-item\",staticStyle:{\"width\":\"20px\",\"margin\":\"0 0 10px 10px\",\"opacity\":\"0\"}})],1):_vm._e(),_vm._l((rootElement.children),function(childElement){return _c('div',{key:'entity-line-' + childElement.id,staticClass:\"entity-line child-line\"},[_c('div',{staticClass:\"timebar\",style:(_vm.timebarStyle(childElement)),attrs:{\"title\":childElement.name}},[_c('div',{class:{\n                      'timebar-left-hand': _vm.isCurrentUserAdmin\n                    },on:{\"mousedown\":function($event){return _vm.moveTimebarLeftSide(childElement, $event)}}}),_c('div',{staticClass:\"filler\",on:{\"mousedown\":function($event){return _vm.moveTimebar(childElement, $event)}}},[_vm._v(\"\\n                   \"+_vm._s(childElement.name)+\"\\n                  \")]),_c('div',{class:{\n                      'timebar-right-hand': _vm.isCurrentUserAdmin\n                    },on:{\"mousedown\":function($event){return _vm.moveTimebarRightSide(childElement, $event)}}})])])})],2):_vm._e()])})],2)])])]),(true)?_c('spinner',{staticClass:\"mt1\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div\n  class=\"schedule-wrapper\"\n>\n  <div\n    :class=\"scheduleClass\"\n    ref=\"schedule\"\n  >\n    <div\n      ref=\"entity-list\"\n      class=\"entities\"\n      @mousedown=\"startBrowsingY\"\n    >\n      <div\n        class=\"has-text-right total-man-days\"\n      >\n        <span class=\"mr1\">{{ totalManDays }}</span>\n        <span>{{ $t('schedule.md') }}</span>\n      </div>\n\n      <div\n        class=\"\"\n        :key=\"'entity-' + rootElement.id\"\n        v-for=\"rootElement in hierarchy\"\n      >\n        <div\n          class=\"entity-line entity-name flexrow\"\n          :style=\"entityLineStyle(rootElement)\"\n        >\n          <span\n            class=\"expand flexrow-item mr1\"\n            @click=\"expandRootElement(rootElement)\"\n          >\n            <chevron-right-icon v-if=\"!rootElement.expanded\"/>\n            <chevron-down-icon v-else />\n          </span>\n          <span class=\"filler flexrow-item\">\n            {{ rootElement.name }}\n          </span>\n          <input\n            class=\"flexrow-item\"\n            type=\"number\"\n            placeholder=\"0\"\n            min=\"0\"\n            @input=\"$emit('item-changed', rootElement)\"\n            v-model=\"rootElement.man_days\"\n          />\n          <span class=\"man-days-unit flexrow-item\">\n            {{ $t('schedule.md') }}\n          </span>\n        </div>\n\n        <div class=\"children\" v-if=\"rootElement.expanded\">\n          <div class=\"flexrow\" v-if=\"rootElement.loading\">\n            <spinner\n              style=\"width: 20px; margin: 0 0 10px 10px;\"\n              class=\"child-spinner flexrow-item\"\n            />\n          </div>\n          <div\n            class=\"child-name\"\n            :key=\"'entity-' + childElement.id\"\n            v-for=\"childElement in rootElement.children\"\n          >\n            <div\n              class=\"entity-line entity-name child-line flexrow\"\n            >\n              <span\n                class=\"expand flexrow-item\"\n                @click=\"expandChildElement(childElement)\"\n              >\n                <chevron-right-icon />\n              </span>\n              <span class=\"filler flexrow-item\">\n                {{ childElement.name }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"timeline\">\n      <div\n        ref=\"timeline-header\"\n        class=\"timeline-header\"\n        @mousedown=\"startBrowsingX\"\n      >\n        <div\n          class=\"day\"\n          :key=\"'header-' + day.toISOString()\"\n          :style=\"dayStyle(day)\"\n          v-for=\"(day, index) in daysAvailable\"\n        >\n          <span\n            class=\"month-name\"\n            v-if=\"day.newMonth || index === 0\"\n          >\n            {{ day.format('MMMM') }}\n          </span>\n          <div\n            :class=\"dayClass(day, index)\"\n          >\n            <span\n              v-if=\"!day.weekend && zoomLevel > 2\"\n            >\n              {{ day.format('ddd')[0] }} /\n            </span>\n            <span\n              class=\"day-number\"\n              v-if=\"!day.weekend\"\n            >\n              {{ day.format('DD') }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div\n        ref=\"timeline-content-wrapper\"\n        class=\"timeline-content-wrapper\"\n      >\n        <div\n          ref=\"timeline-content\"\n          class=\"timeline-content\"\n          @mousedown=\"startBrowsing\"\n          @mousewheel=\"$emit('change-zoom', $event)\"\n        >\n          <div\n            ref=\"timeline-position\"\n            class=\"timeline-position\"\n            :style=\"timelinePositionStyle\"\n          >\n          </div>\n          <div\n            :key=\"'entity-line-' + rootElement.id\"\n            v-for=\"rootElement in hierarchy\"\n          >\n\n            <div\n              class=\"entity-line\"\n              :style=\"entityLineStyle(rootElement)\"\n            >\n              <div\n                class=\"timebar\"\n                :style=\"timebarStyle(rootElement)\"\n              >\n                <div\n                  :class=\"{\n                    'timebar-left-hand': isCurrentUserAdmin\n                  }\"\n                  @mousedown=\"moveTimebarLeftSide(rootElement, $event)\"\n                >\n                </div>\n                <div\n                  class=\"filler\"\n                  @mousedown=\"moveTimebar(rootElement, $event)\"\n                >\n                </div>\n                <div\n                  :class=\"{\n                    'timebar-right-hand': isCurrentUserAdmin\n                  }\"\n                  @mousedown=\"moveTimebarRightSide(rootElement, $event)\"\n                >\n                </div>\n              </div>\n            </div>\n\n            <div class=\"children\" v-if=\"rootElement.expanded\">\n              <div class=\"flexrow\" v-if=\"rootElement.loading\">\n                <spinner\n                  style=\"width: 20px; margin: 0 0 10px 10px; opacity: 0\"\n                  class=\"child-spinner flexrow-item\"\n                />\n              </div>\n\n              <div\n                class=\"entity-line child-line\"\n                :key=\"'entity-line-' + childElement.id\"\n                v-for=\"childElement in rootElement.children\"\n              >\n                <div\n                  class=\"timebar\"\n                  :title=\"childElement.name\"\n                  :style=\"timebarStyle(childElement)\"\n                >\n                  <div\n                    :class=\"{\n                      'timebar-left-hand': isCurrentUserAdmin\n                    }\"\n                    @mousedown=\"moveTimebarLeftSide(childElement, $event)\"\n                  >\n                  </div>\n                  <div\n                    class=\"filler\"\n                    @mousedown=\"moveTimebar(childElement, $event)\"\n                  >\n                   {{ childElement.name }}\n                  </div>\n                  <div\n                    :class=\"{\n                      'timebar-right-hand': isCurrentUserAdmin\n                    }\"\n                    @mousedown=\"moveTimebarRightSide(childElement, $event)\"\n                  >\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <spinner\n    class=\"mt1\"\n    v-if=\"true\"\n  />\n</div>\n</template>\n\n<script>\n/*\n * Component to facilitate the build of schedule pages.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\n\nimport Spinner from '../../widgets/Spinner'\nimport { ChevronRightIcon, ChevronDownIcon } from 'vue-feather-icons'\n\nexport default {\n  name: 'schedule',\n  components: {\n    ChevronDownIcon,\n    ChevronRightIcon,\n    Spinner\n  },\n\n  data () {\n    return {\n      isBrowsingX: false,\n      isBrowsingY: false,\n      isChangeSize: false,\n      timelineDisplayedDaysIndex: {}\n    }\n  },\n\n  props: {\n    endDate: {\n      type: Object,\n      required: true\n    },\n    hierarchy: {\n      default: () => [],\n      type: Array\n    },\n    startDate: {\n      type: Object,\n      required: true\n    },\n    zoomLevel: {\n      type: Number,\n      default: 2\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  mounted () {\n    this.resetScheduleSize()\n    document.addEventListener('mouseup', this.stopBrowsing)\n    document.addEventListener('mousemove', this.onMouseMove)\n    window.addEventListener('resize', this.resetScheduleSize)\n  },\n\n  destroyed () {\n    document.removeEventListener('mouseup', this.stopBrowsing)\n    document.removeEventListener('mousemove', this.onMouseMove)\n    window.removeEventListener('resize', this.resetScheduleSize)\n    document.body.style.cursor = 'default'\n  },\n\n  computed: {\n    ...mapGetters([\n      'isCurrentUserAdmin'\n    ]),\n\n    cellWidth () {\n      return this.zoomLevel * 20\n    },\n\n    daysAvailable () {\n      const days = []\n      let day = this.startDate.add(-1, 'days')\n      let dayDate = day.toDate()\n      let endDayDate = this.endDate.toDate()\n      dayDate.isoweekday = day.isoWeekday()\n      dayDate.monthday = day.month()\n\n      while (dayDate < endDayDate) {\n        let nextDay = new Date(Number(dayDate))\n        nextDay.setDate(dayDate.getDate() + 1) // Add 1 day\n\n        nextDay.isoweekday = dayDate.isoweekday + 1\n        if (nextDay.isoweekday > 7) {\n          nextDay.isoweekday = 1\n          nextDay.newWeek = true\n        }\n        nextDay.monthday = dayDate.monthday + 1\n        if (nextDay.monthday > 27 &&\n            nextDay.getMonth() !== dayDate.getMonth()) {\n          nextDay.newMonth = true\n          nextDay.monthday = 1\n        }\n        if ([6, 7].includes(nextDay.isoweekday)) nextDay.weekend = true\n\n        let momentDay = moment(nextDay)\n        momentDay.newWeek = nextDay.newWeek\n        momentDay.newMonth = nextDay.newMonth\n        momentDay.weekend = nextDay.weekend\n        days.push(momentDay)\n        dayDate = nextDay\n      }\n      return days\n    },\n\n    displayedDays () {\n      return this.daysAvailable.filter(day => !day.weekend)\n    },\n\n    nbDisplayedDays () {\n      return this.displayedDays.length\n    },\n\n    displayedDaysIndex () {\n      let index = 0\n      const dayIndex = {}\n      this.displayedDays.forEach((d) => {\n        dayIndex[d.format('YYYY-MM-DD')] = index\n        index++\n      })\n      return dayIndex\n    },\n\n    scheduleClass () {\n      const className = {\n        schedule: true,\n        unselectable: true\n      }\n      className['zoom-level-' + this.zoomLevel] = true\n      return className\n    },\n\n    timelinePositionStyle () {\n      return { width: this.cellWidth + 'px' }\n    },\n\n    totalManDays () {\n      return this.hierarchy.reduce((acc, timeElement) => {\n        let value = acc\n        let manDays = timeElement.man_days\n        if (timeElement.man_days) {\n          if (typeof manDays === 'string') manDays = parseInt(manDays)\n          value = acc + manDays\n        }\n        return value\n      }, 0)\n    },\n\n    // References\n\n    entityList () {\n      return this.$refs['entity-list']\n    },\n\n    schedule () {\n      return this.$refs['schedule']\n    },\n\n    timelineContent () {\n      return this.$refs['timeline-content']\n    },\n\n    timelineContentWrapper () {\n      return this.$refs['timeline-content-wrapper']\n    },\n\n    timelineHeader () {\n      return this.$refs['timeline-header']\n    },\n\n    timelinePosition () {\n      return this.$refs['timeline-position']\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    resetScheduleSize () {\n      this.timelineContent.style.width =\n        this.nbDisplayedDays * this.cellWidth + 'px'\n      this.timelineContentWrapper.style.height =\n        this.schedule.offsetHeight - 118 + 'px'\n      this.entityList.style.height =\n        this.schedule.offsetHeight - 118 + 'px'\n    },\n\n    onMouseMove (event) {\n      if (this.isChangeStartDate) {\n        this.changeStartDate(event)\n      } else if (this.isChangeEndDate) {\n        this.changeEndDate(event)\n      } else if (this.isChangeDates) {\n        this.changeDates(event)\n      } else {\n        if (this.isBrowsingX) this.scrollScheduleLeft(event)\n        if (this.isBrowsingY) this.scrollScheduleTop(event)\n      }\n\n      this.updatePositionBarPosition(event)\n    },\n\n    updatePositionBarPosition (event) {\n      let position = this.timelineContentWrapper.scrollLeft + event.clientX\n      position -= 262\n      position = Math.round(position / this.cellWidth) * this.cellWidth\n      this.timelinePosition.style.left = position + 'px'\n    },\n\n    changeDates (event) {\n      const change = event.clientX - this.initialClientX - this.cellWidth / 2\n      const dayChange = Math.ceil(change / this.cellWidth)\n\n      const startDateString = this.lastStartDate.format('YYYY-MM-DD')\n      const endDateString = this.lastEndDate.format('YYYY-MM-DD')\n      const startDateIndex = this.displayedDaysIndex[startDateString]\n      const endDateIndex = this.displayedDaysIndex[endDateString]\n      const length = endDateIndex - startDateIndex\n      let currentIndex = this.displayedDaysIndex[startDateString]\n\n      currentIndex += dayChange\n      if (currentIndex < 0) currentIndex = 0\n\n      let newStartDate = this.displayedDays[currentIndex]\n      if (newStartDate) {\n        let newEndDate = this.displayedDays[currentIndex + length]\n        if (newEndDate) {\n          this.currentElement.startDate = newStartDate\n          this.currentElement.endDate = newEndDate\n          this.$emit('item-changed', this.currentElement)\n        }\n      }\n    },\n\n    changeStartDate (event) {\n      const change = event.clientX - this.initialClientX\n      const dayChange = Math.floor(change / this.cellWidth)\n\n      const startDateString = this.lastStartDate.format('YYYY-MM-DD')\n      let currentIndex = this.displayedDaysIndex[startDateString]\n      currentIndex += dayChange\n\n      let newStartDate = this.displayedDays[currentIndex]\n      this.currentElement.startDate = newStartDate\n      this.$emit('item-changed', this.currentElement)\n    },\n\n    changeEndDate (event) {\n      const change = event.clientX - this.initialClientX + this.cellWidth / 2\n      const dayChange = Math.ceil(change / this.cellWidth)\n\n      const startDateString =\n        this.currentElement.startDate.format('YYYY-MM-DD')\n      const endDateString = this.lastEndDate.format('YYYY-MM-DD')\n      let startDateIndex = this.displayedDaysIndex[startDateString]\n      let currentIndex = this.displayedDaysIndex[endDateString]\n\n      currentIndex += dayChange - 1\n      if (currentIndex < startDateIndex) currentIndex = startDateIndex + 1\n      if (currentIndex > this.displayedDaysIndex.length) {\n        currentIndex = this.displayedDaysIndex.length - 1\n      }\n\n      let newEndDate = this.displayedDays[currentIndex]\n      this.currentElement.endDate = newEndDate\n      this.$emit('item-changed', this.currentElement)\n    },\n\n    scrollScheduleLeft (event) {\n      const previousLeft = this.timelineContentWrapper.scrollLeft\n      let newLeft = previousLeft - event.movementX\n      this.timelineContentWrapper.scrollLeft = newLeft\n      this.timelineHeader.scrollLeft = newLeft\n    },\n\n    scrollScheduleTop (event) {\n      const previousTop = this.timelineContentWrapper.scrollTop\n      let newTop = previousTop - event.movementY\n      this.timelineContentWrapper.scrollTop = newTop\n      this.entityList.scrollTop = newTop\n    },\n\n    startBrowsing (event) {\n      if (\n        !this.isChangeStartDate &&\n        !this.isChangeEndDate &&\n        !this.isChangeDates\n      ) {\n        document.body.style.cursor = 'grabbing'\n        this.isBrowsingX = true\n        this.isBrowsingY = true\n      }\n    },\n\n    startBrowsingX (event) {\n      document.body.style.cursor = 'grabbing'\n      this.isBrowsingX = true\n    },\n\n    startBrowsingY (event) {\n      document.body.style.cursor = 'grabbing'\n      this.isBrowsingY = true\n    },\n\n    stopBrowsing (event) {\n      document.body.style.cursor = 'default'\n      this.isChangeStartDate = false\n      this.isChangeEndDate = false\n      this.isChangeDates = false\n      this.isBrowsingX = false\n      this.isBrowsingY = false\n    },\n\n    moveTimebar (timeElement, event) {\n      if (!this.isChangeStartDate && this.isCurrentUserAdmin) {\n        this.isChangeDates = true\n        this.isChangeStartDate = false\n        this.isChangeEnd = false\n        this.currentElement = timeElement\n        this.lastStartDate = timeElement.startDate.clone()\n        this.lastEndDate = timeElement.endDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'ew-resize'\n      }\n    },\n\n    moveTimebarLeftSide (timeElement, event) {\n      if (!this.isChangeDates && this.isCurrentUserAdmin) {\n        this.isChangeDates = false\n        this.isChangeStartDate = true\n        this.isChangeEnd = false\n        this.currentElement = timeElement\n        this.lastStartDate = timeElement.startDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'w-resize'\n      }\n    },\n\n    moveTimebarRightSide (timeElement, event) {\n      if (!this.isChangeDates && this.isCurrentUserAdmin) {\n        this.isChangeDates = false\n        this.isChangeStartDate = false\n        this.isChangeEndDate = true\n        this.currentElement = timeElement\n        this.lastEndDate = timeElement.endDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'e-resize'\n      }\n    },\n\n    // Helpers\n\n    businessDiff (startDate, endDate) {\n      const first = startDate.clone().endOf('week')\n      const last = endDate.clone().startOf('week')\n      const diff = last.diff(first, 'days')\n\n      if (endDate.diff(startDate, 'days') > 6) {\n        const days = diff * 5 / 7\n\n        let wfirst = first.day() - startDate.day()\n        if (startDate.day() === 0) --wfirst\n\n        let wlast = endDate.day() - last.day()\n        if (endDate.day() === 6) --wlast\n\n        return wfirst + days + wlast - 1\n      } else {\n        let day = moment(startDate)\n        let businessDays = 0\n        while (day.isBefore(endDate, 'day')) {\n          if (day.day() !== 0 && day.day() !== 6) businessDays++\n          day.add(1, 'days')\n        }\n        return businessDays\n      }\n    },\n\n    // Styles\n\n    dayClass (day, index = 0) {\n      return {\n        'day-name': true,\n        'new-week': day.newWeek || false,\n        'new-month': day.newMonth || index === 0 || false\n      }\n    },\n\n    dayStyle (day) {\n      return {\n        'min-width': day.weekend ? '0px' : this.cellWidth + 'px',\n        'max-width': day.weekend ? '0px' : this.cellWidth + 'px'\n      }\n    },\n\n    entityLineStyle (timeElement) {\n      return {\n        'background-color': timeElement.color\n      }\n    },\n\n    timebarStyle (timeElement) {\n      return {\n        left: this.getTimebarLeft(timeElement) + 'px',\n        width: this.getTimebarWidth(timeElement) + 'px',\n        cursor: this.isCurrentUserAdmin ? 'ew-resize' : 'default'\n      }\n    },\n\n    getTimebarLeft (timeElement) {\n      const startDate = timeElement.startDate || this.startDate\n      let startDiff = this.businessDiff(this.startDate, startDate) || 0\n      return ((startDiff) * this.cellWidth) + 5\n    },\n\n    getTimebarWidth (timeElement) {\n      const startDate =\n        timeElement.startDate || this.startDate\n      const endDate =\n        timeElement.endDate ||\n        (\n          timeElement.startDate &&\n          timeElement.startDate.clone().add(1, 'days')\n        ) ||\n        this.startDate.clone().add(1, 'days')\n      let lengthDiff = this.businessDiff(startDate, endDate) || 1\n      return (lengthDiff + 1) * this.cellWidth - 10\n    },\n\n    // Children\n    expandRootElement (rootElement) {\n      this.$emit('root-element-expanded', rootElement)\n    },\n\n    expandChildElement (element) {\n      if (element) {\n      }\n    }\n  },\n\n  socket: {\n  },\n\n  watch: {\n    startDate () {\n      this.resetScheduleSize()\n    },\n    endDate () {\n      this.resetScheduleSize()\n    },\n    zoomLevel () {\n      this.resetScheduleSize()\n    },\n    isLoading () {\n      this.$nextTick(this.resetScheduleSize)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .entities {\n    background: #36393F;\n  }\n\n  .schedule.zoom-level-1 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-1.png');\n    }\n  }\n\n  .schedule.zoom-level-2 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-2.png');\n    }\n  }\n\n  .schedule.zoom-level-3 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-3.png');\n    }\n  }\n\n  .timeline {\n    .timeline-header {\n      background: #36393F;\n      color: white;\n\n      .day {\n        .day-number {\n          color: white;\n        }\n\n        .day-name {\n          margin: 0;\n          padding-bottom: 0;\n          &.new-month,\n          &.new-week {\n            border-left: 2px solid white;\n          }\n        }\n\n        .month-name {\n          border-left: 2px solid white;\n          color: white;\n        }\n      }\n    }\n\n    .timeline-content-wrapper {\n      .timeline-content {\n        .entity-line.child-line {\n          .timebar {\n            background: rgba(200, 200, 250, 0.8);\n            color: $dark-grey;\n          }\n        }\n      }\n    }\n  }\n\n  .total-man-days {\n    color: white;\n  }\n\n  .child-name .entity-name span {\n    color: $white;\n  }\n}\n\n.schedule-wrapper {\n  position: relative;\n}\n\n.schedule {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  height: 100vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n}\n\n.entities {\n  background: white;\n  margin-top: 35px;\n  min-width: 230px;\n  overflow: hidden;\n  z-index: 2;\n\n  .entity-line {\n    max-width: 230px;\n    min-width: 230px;\n  }\n}\n\n.entity-line {\n  color: white;\n  font-size: 1.2em;\n  height: 40px;\n  margin-bottom: 20px;\n  padding: 0.5em;\n\n  .flexrow-item {\n    margin: 0;\n  }\n\n  .expand {\n    cursor: pointer;\n    margin-right: 0.5em;\n  }\n\n  &.child-line {\n    height: 25px;\n  }\n}\n\n.timeline {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding-top: 0px;\n  padding-left: 2px;\n\n  .timeline-header {\n    white-space: nowrap;\n    position: relative;\n    margin-left: 1px;\n    background: white;\n    padding-bottom: 14px;\n    overflow: hidden;\n    padding-top: 40px;\n\n    .day {\n      display: inline-block;\n      font-size: 0.8em;\n      padding-bottom: 0;\n\n      .day-name {\n        border-left: 2px solid transparent;\n        color: $grey;\n        padding-bottom: 0em;\n        padding-left: 10px;\n        padding-top: 0em;\n        text-transform: uppercase;\n\n        &.new-month,\n        &.new-week {\n          border-left: 2px solid black;\n        }\n      }\n\n      .day-number {\n        color: black;\n        padding-top: 0.5em;\n      }\n\n      .month-name {\n        border-left: 2px solid black;\n        font-size: 0.9em;\n        position: absolute;\n        padding-bottom: 12px;\n        padding-left: 1em;\n        top: 15px;\n        bottom: 0;\n        text-transform: uppercase;\n        color: black;\n      }\n    }\n  }\n\n  .timeline-content-wrapper {\n    background-repeat: repeat;\n    margin-left: 2px;\n    overflow-x: hidden;\n    overflow-y: hidden;\n\n    .timeline-content {\n      height: 100%;\n      position: relative;\n\n      .timeline-position {\n        visibility: hidden;\n        position: absolute;\n        left: 0px;\n        top: 0;\n        bottom: 0;\n        background: rgba(200, 255, 200, 0.3);\n        z-index: 100;\n      }\n\n      .entity-line {\n        width: 100%;\n        position: relative;\n\n        .timebar {\n          position: absolute;\n          top: 13px;\n          height: 14px;\n          background: rgba(255, 255, 255, 0.4);\n          border-radius: 1em;\n          display: flex;\n          z-index: 101;\n\n          .timebar-left-hand {\n            cursor: w-resize;\n            width: 30px;\n          }\n\n          .timebar-right-hand {\n            cursor: e-resize;\n            width: 30px;\n          }\n        }\n\n        &.child-line {\n          padding: 0;\n\n          .timebar {\n            background: rgba(0, 0, 50, 0.2);\n            top: 6px;\n            font-size: 0.6em;\n          }\n        }\n      }\n    }\n\n    .timeline-content:hover {\n      .timeline-position {\n        visibility: visible;\n      }\n    }\n  }\n}\n\n.zoom-level-1 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-1.png');\n  }\n\n  .timeline {\n    .timeline-header {\n      .day {\n        font-size: 0.8em;\n        padding-left: 0px;\n\n        .day-name {\n          padding-left: 0px;\n          &.new-week {\n            border-left: solid 2px transparent;\n          }\n          &.new-month {\n            padding-left: 4px;\n            border-left: solid 2px white;\n          }\n        }\n      }\n    }\n  }\n}\n\n.schedule.zoom-level-2 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-2.png');\n  }\n}\n\n.schedule.zoom-level-3 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-3.png');\n  }\n}\n\n.entity-name {\n  display: flex;\n  align-items: center;\n  line-height: 1.1em;\n\n  span {\n    color: white;\n  }\n\n  input {\n    width: 50px;\n    text-align: right;\n    background: transparent;\n    color: white;\n    margin-right: 0.2em;\n    font-size: 1.1em;\n\n    &::placeholder {\n      color: white;\n    }\n  }\n\n  .man-days-unit {\n    font-size: 0.7em;\n  }\n}\n\n.child-name .entity-name span {\n  color: $dark-grey;\n\n  .filler {\n    margin: 0;\n    margin: 0;\n  }\n}\n\n.total-man-days {\n  padding-bottom: 10px;\n  margin-right: 1em;\n\n  .mr1 {\n    font-size: 20px;\n  }\n}\n\n.child-spinner {\n  font-size: 10px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Schedule.vue?vue&type=template&id=09864d3a&scoped=true&\"\nimport script from \"./Schedule.vue?vue&type=script&lang=js&\"\nexport * from \"./Schedule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Schedule.vue?vue&type=style&index=0&id=09864d3a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09864d3a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  class=\"columns fixed-page\"\n>\n  <div\n    class=\"column main-column\"\n  >\n    <div class=\"flexrow project-dates\">\n      <div class=\"flexrow-item\">\n        <label class=\"label\">\n          {{ $t('main.start_date') }}\n        </label>\n        <datepicker\n          wrapper-class=\"datepicker\"\n          input-class=\"date-input input\"\n          :language=\"locale\"\n          :disabled-dates=\"{ days: [6, 0] }\"\n          :monday-first=\"true\"\n          format=\"d MMMM yyyy\"\n          v-model=\"selectedStartDate\"\n        />\n      </div>\n      <div class=\"flexrow-item field\">\n        <label class=\"label\">\n          {{ $t('main.end_date') }}\n        </label>\n        <datepicker\n          wrapper-class=\"datepicker\"\n          input-class=\"date-input input\"\n          :language=\"locale\"\n          :disabled-dates=\"{ days: [6, 0] }\"\n          :monday-first=\"true\"\n          format=\"d MMMM yyyy\"\n          v-model=\"selectedEndDate\"\n        />\n      </div>\n      <text-field\n        class=\"flexrow-item overall-man-days\"\n        type=\"number\"\n        v-model=\"overallManDays\"\n        :label=\"$t('schedule.overall_man_days')\"\n        :disabled=\"!isCurrentUserAdmin\"\n        v-focus\n      />\n      <combobox-number\n        class=\"flexrow-item zoom-level\"\n        :label=\"$t('schedule.zoom_level')\"\n        :options=\"zoomOptions\"\n        v-model=\"zoomLevel\"\n      />\n    </div>\n\n    <schedule\n      :start-date=\"startDate\"\n      :end-date=\"endDate\"\n      :hierarchy=\"scheduleItems\"\n      :zoom-level=\"zoomLevel\"\n      :is-loading=\"loading.schedule\"\n      :is-error=\"errors.schedule\"\n      @item-changed=\"saveScheduleItem\"\n      @change-zoom=\"changeZoom\"\n      @root-element-expanded=\"expandTaskTypeElement\"\n    />\n  </div>\n\n  <div\n    class=\"column side-column is-hidden-mobile hide-small-screen\"\n    v-if=\"currentTask\"\n  >\n    <task-info\n      :task=\"currentTask\"\n      :is-loading=\"false\"\n    />\n  </div>\n</div>\n\n</template>\n\n<script>\n/*\n * Page to manage the schedule of the big steps of the production. It allows\n * to set milestones too.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\nimport { en, fr } from 'vuejs-datepicker/dist/locale'\nimport Datepicker from 'vuejs-datepicker'\n\nimport { sortScheduleItems } from '../../lib/sorting'\n\nimport ComboboxNumber from '../widgets/ComboboxNumber'\nimport TaskInfo from '../sides/TaskInfo'\nimport TextField from '../widgets/TextField'\nimport Schedule from './schedule/Schedule'\n\nexport default {\n  name: 'production-schedule',\n  components: {\n    ComboboxNumber,\n    Datepicker,\n    Schedule,\n    TaskInfo,\n    TextField\n  },\n\n  data () {\n    return {\n      currentTask: null,\n      overallManDays: 0,\n      endDate: moment().add(6, 'months'),\n      scheduleItems: [],\n      startDate: moment(),\n      selectedStartDate: null,\n      selectedEndDate: null,\n      zoomLevel: 3,\n      zoomOptions: [\n        { label: '1', value: 1 },\n        { label: '2', value: 2 },\n        { label: '3', value: 3 }\n      ],\n      loading: {\n        schedule: false\n      },\n      errors: {\n        schedule: false\n      }\n    }\n  },\n\n  mounted () {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetTypeMap',\n      'currentEpisode',\n      'currentProduction',\n      'isCurrentUserAdmin',\n      'isTVShow',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    locale () {\n      if (this.user.locale === 'fr_FR') {\n        return fr\n      } else {\n        return en\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'editProduction',\n      'loadScheduleItems',\n      'loadAssetTypeScheduleItems',\n      'loadSequenceScheduleItems',\n      'loadEpisodeScheduleItems',\n      'saveScheduleItem'\n    ]),\n\n    loadData () {\n      this.loading.schedule = true\n      this.loadScheduleItems(this.currentProduction)\n        .then((scheduleItems) => {\n          scheduleItems = scheduleItems.map((item) => {\n            const taskType = this.taskTypeMap[item.task_type_id]\n            return {\n              ...item,\n              color: taskType.color,\n              for_shots: taskType.for_shots,\n              name: taskType.name,\n              priority: taskType.priority,\n              startDate: moment(item.start_date, 'YYYY-MM-DD'),\n              endDate: moment(item.end_date, 'YYYY-MM-DD'),\n              expanded: false,\n              loading: false,\n              children: []\n            }\n          })\n          this.scheduleItems =\n            sortScheduleItems(scheduleItems, this.taskTypeMap)\n          this.loading.schedule = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.schedule = false\n        })\n    },\n\n    changeZoom (event) {\n      if (event.wheelDelta < 0 && this.zoomLevel > 1) this.zoomLevel--\n      if (event.wheelDelta > 0 && this.zoomLevel < 3) this.zoomLevel++\n    },\n\n    reset () {\n      if (this.currentProduction.start_date) {\n        this.startDate = moment(this.currentProduction.start_date)\n      }\n      if (this.currentProduction.end_date) {\n        this.endDate = moment(this.currentProduction.end_date)\n      }\n      this.overallManDays = this.currentProduction.man_days\n      this.selectedStartDate = this.startDate.toDate()\n      this.selectedEndDate = this.endDate.toDate()\n      this.loadData()\n    },\n\n    convertScheduleItems (scheduleItems) {\n      return scheduleItems.map((item) => {\n        return {\n          ...item,\n          startDate: moment(item.start_date, 'YYYY-MM-DD'),\n          endDate: moment(item.end_date, 'YYYY-MM-DD'),\n          expanded: false,\n          loading: false,\n          children: []\n        }\n      })\n    },\n\n    expandTaskTypeElement (taskTypeElement) {\n      const parameters = {\n        production: this.currentProduction,\n        taskType: this.taskTypeMap[taskTypeElement.task_type_id]\n      }\n\n      taskTypeElement.expanded = !taskTypeElement.expanded\n      if (taskTypeElement.expanded) {\n        taskTypeElement.loading = true\n        let action = 'loadAssetTypeScheduleItems'\n        if (taskTypeElement.for_shots) {\n          if (this.isTVShow) action = 'loadEpisodeScheduleItems'\n          else action = 'loadSequenceScheduleItems'\n        }\n\n        this[action](parameters)\n          .then((scheduleItems) => {\n            taskTypeElement.loading = false\n            taskTypeElement.children = this.convertScheduleItems(scheduleItems)\n          })\n          .catch((err) => {\n            console.error(err)\n            taskTypeElement.loading = false\n            taskTypeElement.children = []\n          })\n      }\n    }\n  },\n\n  socket: {\n  },\n\n  watch: {\n    selectedStartDate () {\n      this.startDate = moment(this.selectedStartDate)\n      this.editProduction({\n        data: {\n          ...this.currentProduction,\n          start_date: this.startDate.format('YYYY-MM-DD')\n        }\n      })\n    },\n\n    selectedEndDate () {\n      this.endDate = moment(this.selectedEndDate)\n      this.editProduction({\n        data: {\n          ...this.currentProduction,\n          end_date: this.endDate.format('YYYY-MM-DD')\n        }\n      })\n    },\n\n    overallManDays () {\n      if (this.overallManDays !== this.currentProduction.man_days) {\n        this.editProduction({\n          data: {\n            ...this.currentProduction,\n            man_days: this.overallManDays\n          }\n        })\n      }\n    },\n\n    currentProduction () {\n      this.reset()\n    }\n  },\n\n  metaInfo () {\n    if (this.isTVShow) {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''}` +\n               ` - ${this.currentEpisode ? this.currentEpisode.name : ''}` +\n               ` | ${this.$t('schedule.title')} - Kitsu`\n      }\n    } else {\n      return {\n        title: `${this.currentProduction.name} ` +\n               `| ${this.$t('schedule.title')} - Kitsu`\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .project-dates {\n    color: $white-grey;\n    border-bottom: 1px solid $grey;\n  }\n}\n\n.project-dates {\n  border-bottom: 1px solid #EEE;\n  margin-left: 235px;\n  padding-bottom: 1em;\n\n  .field {\n    padding-bottom: 0;\n    margin-bottom: 0;\n  }\n\n  .overall-man-days {\n    width: 120px;\n    font-size: 0.9em;\n    margin-right: 1em;\n  }\n}\n\n.fixed-page {\n  padding: 1em;\n  padding-top: 90px;\n  padding-left: 2em;\n}\n\n.main-column {\n  display: flex;\n  border: 0;\n  overflow: hidden;\n  flex-direction: column;\n}\n\n.zoom-level {\n  margin-top: -10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionSchedule.vue?vue&type=template&id=97ce2faa&scoped=true&\"\nimport script from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductionSchedule.vue?vue&type=style&index=0&id=97ce2faa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97ce2faa\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\""],"sourceRoot":""}