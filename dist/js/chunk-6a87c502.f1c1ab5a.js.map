{"version":3,"sources":["webpack:///./src/components/pages/Playlist.vue?3176","webpack:///./src/components/modals/EditPlaylistModal.vue?26b5","webpack:///./src/components/pages/Playlist.vue?eeba","webpack:///./src/components/modals/EditPlaylistModal.vue?dd9f","webpack:///src/components/modals/EditPlaylistModal.vue","webpack:///./src/components/modals/EditPlaylistModal.vue?2d2c","webpack:///./src/components/modals/EditPlaylistModal.vue?725c","webpack:///./src/components/widgets/ErrorText.vue?e242","webpack:///src/components/widgets/ErrorText.vue","webpack:///./src/components/widgets/ErrorText.vue?f04f","webpack:///./src/components/widgets/ErrorText.vue","webpack:///src/components/pages/Playlist.vue","webpack:///./src/components/pages/Playlist.vue?2e53","webpack:///./src/components/pages/Playlist.vue?f8fd"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","playlists","length","key","class","button","loading","addPlaylist","on","showAddModal","_v","_s","$t","_e","_l","playlist","id","for_client","selected","currentPlaylist","attrs","getPlaylistPath","name","formatDate","updated_at","errors","first_preview_file_id","created_at","big","ref","currentShots","isAddingShot","showEditModal","toggleAddShots","onPreviewChanged","onTaskTypeChanged","goFirstPlaylist","removeShot","onOrderChange","onAnnotationChanged","onForClientChanged","isCurrentUserManager","onSearchChange","isAdditionLoading","addCurrentSelection","addDaily","addDailyPending","addEpisode","addEpisodePending","addMovie","sequenceShots","i","sequence_name","sequence_id","$event","addSequence","shot","playlisted","undefined","preventDefault","addShotToPlaylist","preview_file_id","modals","isEditDisplayed","editPlaylist","playlistToEdit","hideEditModal","confirmEditPlaylist","staticRenderFns","active","directives","rawName","runConfirmation","model","value","form","callback","$$v","$set","expression","forClientOptions","forClient","isLoading","$emit","mixins","components","Combobox","TextField","props","data","methods","watch","setTimeout","component","alignRight","hidden","text","default","type","String","Boolean","ErrorText","EditPlaylistModal","LightEntityThumbnail","PageSubtitle","PlaylistPlayer","PlusIcon","SearchField","Spinner","XIcon","currentShot","sequenceId","sequenceOptions","isDeleteDisplayed","addWeekly","deletePlaylist","playlistLoading","computed","lastPlaylistsUpdated","lastPlaylistsCreated","slice","playlistPlayer","$refs","section","params","production_id","currentProduction","playlist_id","playlistId","isTVShow","currentEpisode","route","episode_id","loadShotsData","displayedShots","loadShots","loadPlaylists","loadPlaylistsData","err","setFirstPlaylist","rebuildCurrentShots","shots","forEach","$nextTick","addShotToCurrentShots","previewFile","shot_id","entity_name","entityName","preview_files","preview_file_extension","preview_file_task_id","preview_file_annotations","playlistShot","clearCurrentPlaylist","resetPlaylist","setCurrentPlaylist","loadPlaylist","console","error","$router","push","playlistsPath","clearAdditionColumn","addShot","loadShotPreviewFiles","previewFiles","$options","silent","currentShotMap","addShots","addAllPending","getPending","reverse","removeShotPreviewFromPlaylist","changePlaylistPreview","previewFileId","changePlaylistOrder","info","updatePreviewAnnotation","searchQuery","setShotSearch","displayMoreShots","runEditPlaylist","runAddPlaylist","Object","assign","newPlaylist","changePlaylistType","taskTypeId","mounted","$route","$store","commit","metaInfo","title","socket","events","playlistMap","eventData","refreshPlaylist","build_jobs","build_job_id","status"],"mappings":"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","file":"js/chunk-6a87c502.f1c1ab5a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=534c7768&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=534c7768&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=1d7ab2c7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=1d7ab2c7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"productions page fixed-page\"},[_c('div',{staticClass:\"columns\"},[(_vm.playlists.length > 0)?_c('div',{staticClass:\"playlist-list-column column\"},[(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n          button: true,\n          'is-loading': _vm.loading.addPlaylist\n        },on:{\"click\":_vm.showAddModal}},[_c('plus-icon',{staticClass:\"icon is-small\"}),_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")],1):_vm._e(),(!_vm.loading.playlists)?_c('div',{staticClass:\"playlists\"},_vm._l((_vm.playlists),function(playlist){return _c('router-link',{key:playlist.id,class:{\n            'playlist-item': true,\n            'for-client': playlist.for_client || false,\n            selected: playlist.id === _vm.currentPlaylist.id\n          },attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('span',[_vm._v(\" \"+_vm._s(playlist.name)+\" \")]),_c('span',{staticClass:\"playlist-date\",attrs:{\"title\":\"last modified\"}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])])}),1):_c('spinner',{staticClass:\"mt2\"}),(_vm.errors.playlistLoading)?_c('error-text',{attrs:{\"text\":\"$t('playlists.loading_error')\"}}):_vm._e()],1):_vm._e(),(_vm.playlists.length > 0 && !_vm.currentPlaylist.id)?_c('div',{staticClass:\"playlist-column no-selection\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_creation')))]),(!_vm.loading.playlists)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsCreated),function(playlist){return _c('router-link',{key:'recent-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"300px\",\"height\":\"auto\",\"empty-height\":\"150px\"}}),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.created_at'))+\" \"+_vm._s(_vm.formatDate(playlist.created_at))+\" \")])],1)}),1):_c('spinner',{staticClass:\"mt2\"}),_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_modification')))]),(!_vm.loading.playlists)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsUpdated),function(playlist){return _c('router-link',{key:'recent-modified-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"300px\",\"height\":\"auto\",\"empty-height\":\"150px\"}}),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])],1)}),1):_c('spinner',{staticClass:\"mt2\"})],1):(_vm.playlists.length === 0)?_c('div',{staticClass:\"playlist-column no-selection has-text-centered\"},[(!_vm.loading.playlists)?_c('div',[_c('p',{staticClass:\"empty-explaination\"},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.no_playlist'))+\" \")]),(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n            big: true,\n            button: true,\n            'is-loading': _vm.loading.addPlaylist\n          },on:{\"click\":_vm.showAddModal}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")]):_vm._e()]):_c('spinner',{staticClass:\"mt2\"})],1):_c('div',{staticClass:\"playlist-column column\"},[_c('playlist-player',{ref:\"playlist-player\",attrs:{\"playlist\":_vm.currentPlaylist,\"shots\":_vm.currentShots,\"is-loading\":_vm.loading.playlist,\"is-adding-shot\":_vm.isAddingShot},on:{\"edit-clicked\":_vm.showEditModal,\"show-add-shots\":_vm.toggleAddShots,\"preview-changed\":_vm.onPreviewChanged,\"task-type-changed\":_vm.onTaskTypeChanged,\"playlist-deleted\":_vm.goFirstPlaylist,\"remove-shot\":_vm.removeShot,\"order-change\":_vm.onOrderChange,\"annotationchanged\":_vm.onAnnotationChanged,\"for-client-changed\":_vm.onForClientChanged}}),(_vm.isCurrentUserManager && _vm.isAddingShot)?_c('div',[_c('div',{staticClass:\"addition-header\"},[_c('div',{staticClass:\"flexrow\"},[_c('page-subtitle',{staticClass:\"flexrow-item\",attrs:{\"text\":_vm.$t('playlists.add_shots')}}),_c('span',{staticClass:\"filler\"}),_c('button'),_c('a',{staticClass:\"close-button\",on:{\"click\":_vm.toggleAddShots}},[_c('x-icon')],1)],1),_c('div',{staticClass:\"flexrow\"},[_c('search-field',{ref:\"search-field\",staticClass:\"flexrow-item\",attrs:{\"can-save\":false,\"placeholder\":\"ex: seq01 anim=wfa\"},on:{\"change\":_vm.onSearchChange}}),(_vm.shotSearchText)?_c('button',{class:{\n                button: true,\n                'flexrow-item': true,\n                'add-sequence': true\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addCurrentSelection}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_selection'))+\" \")]):_vm._e(),_c('span',{staticClass:\"filler\"}),_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addDaily\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addDailyPending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.build_daily'))+\" \")]),(_vm.isTVShow)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addEpisode\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addEpisodePending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_episode'))+\" \")]):_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addMovie\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addMovie}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_movie'))+\" \")])],1)])]):_vm._e(),(_vm.isCurrentUserManager && _vm.isAddingShot)?_c('div',{staticClass:\"addition-section\"},[(_vm.isShotsLoading)?_c('spinner',{key:\"shot-loader\",staticClass:\"mt2\"}):_c('div',[_c('div',_vm._l((_vm.displayedShotsBySequence),function(sequenceShots,i){return _c('div',{key:'sequence-' + i},[(sequenceShots.length > 0)?_c('h2',{staticClass:\"sequence-title\"},[_vm._v(\" \"+_vm._s(sequenceShots[0].sequence_name)+\" \"),(_vm.isCurrentUserManager)?_c('button',{key:'add-sequence-button-' + sequenceShots[0].sequence_id,staticClass:\"button\",on:{\"click\":function($event){return _vm.addSequence(sequenceShots)}}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_sequence'))+\" \")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"addition-shots\"},_vm._l((sequenceShots),function(shot){return _c('div',{key:shot.id,class:{\n                    'addition-shot': true,\n                    playlisted: _vm.currentShots[shot.id] !== undefined\n                  },on:{\"click\":function($event){$event.preventDefault();return _vm.addShotToPlaylist(shot)}}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":shot.preview_file_id,\"width\":\"150px\",\"height\":\"100px\"}}),_c('span',{staticClass:\"playlisted-shot-name\"},[_vm._v(_vm._s(shot.name))])],1)}),0)])}),0)])],1):_vm._e()],1)]),_c('edit-playlist-modal',{ref:\"edit-playlist-modal\",attrs:{\"active\":_vm.modals.isEditDisplayed,\"is-loading\":_vm.loading.editPlaylist,\"is-error\":_vm.errors.editPlaylist,\"playlist-to-edit\":_vm.playlistToEdit},on:{\"cancel\":_vm.hideEditModal,\"confirm\":_vm.confirmEditPlaylist}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box\"},[(_vm.playlistToEdit && _vm.playlistToEdit.id)?_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlists.edit_title\"))+\" \")]):_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlists.create_title\"))+\" \")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],ref:\"nameField\",attrs:{\"label\":_vm.$t('playlists.fields.name')},on:{\"enter\":_vm.runConfirmation},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('combobox',{attrs:{\"label\":_vm.$t('playlists.fields.for_client'),\"options\":_vm.forClientOptions},model:{value:(_vm.forClient),callback:function ($$v) {_vm.forClient=$$v},expression:\"forClient\"}})],1),_c('p',{staticClass:\"has-text-right\"},[_c('a',{class:{\n            button: true,\n            'is-primary': true,\n            'is-loading': _vm.isLoading\n          },on:{\"click\":_vm.runConfirmation}},[_vm._v(\" \"+_vm._s(_vm.$t(\"main.confirmation\"))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"main.cancel\"))+\" \")])]),(_vm.isError)?_c('p',{staticClass:\"error has-text-right info-message\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"assets.edit_fail\"))+\" \")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-content\">\n    <div class=\"box\">\n      <h1 class=\"title\" v-if=\"playlistToEdit && playlistToEdit.id\">\n        {{ $t(\"playlists.edit_title\") }}\n      </h1>\n      <h1 class=\"title\" v-else>\n        {{ $t(\"playlists.create_title\") }}\n      </h1>\n\n      <form v-on:submit.prevent>\n        <text-field\n          ref=\"nameField\"\n          :label=\"$t('playlists.fields.name')\"\n          v-model=\"form.name\"\n          @enter=\"runConfirmation\"\n          v-focus\n        />\n        <combobox\n          :label=\"$t('playlists.fields.for_client')\"\n          :options=\"forClientOptions\"\n          v-model=\"forClient\"\n        />\n      </form>\n\n      <p class=\"has-text-right\">\n        <a\n          :class=\"{\n            button: true,\n            'is-primary': true,\n            'is-loading': isLoading\n          }\"\n          @click=\"runConfirmation\">\n          {{ $t(\"main.confirmation\") }}\n        </a>\n        <button\n          @click=\"$emit('cancel')\"\n          class=\"button is-link\">\n          {{ $t(\"main.cancel\") }}\n        </button>\n      </p>\n\n      <p class=\"error has-text-right info-message\" v-if=\"isError\">\n        {{ $t(\"assets.edit_fail\") }}\n      </p>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Combobox from '../widgets/Combobox'\nimport TextField from '../widgets/TextField'\n\nimport { modalMixin } from './base_modal'\n\nexport default {\n  name: 'edit-playlist-modal',\n  mixins: [modalMixin],\n  components: {\n    Combobox,\n    TextField\n  },\n\n  props: [\n    'active',\n    'cancelRoute',\n    'isLoading',\n    'isError',\n    'playlistToEdit'\n  ],\n\n  data () {\n    return {\n      forClient: 'false',\n      forClientOptions: [\n        { label: this.$t('playlists.for_client'), value: 'true' },\n        { label: this.$t('playlists.for_studio'), value: 'false' }\n      ],\n      form: {\n        name: this.playlistToEdit.name,\n        for_client: this.playlistToEdit.for_client\n      }\n    }\n  },\n\n  methods: {\n    runConfirmation () {\n      this.form.for_client = this.forClient === 'true'\n      this.$emit('confirm', this.form)\n    }\n  },\n\n  watch: {\n    playlistToEdit () {\n      if (this.playlistToEdit) {\n        this.form.name = this.playlistToEdit.name\n      } else {\n        this.form = {\n          name: ''\n        }\n      }\n    },\n\n    active () {\n      if (this.active) {\n        this.forClient = this.playlistToEdit.for_client ? 'true' : 'false'\n        setTimeout(() => {\n          this.$refs.nameField.focus()\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.is-danger {\n  color: #ff3860;\n  font-style: italic;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPlaylistModal.vue?vue&type=template&id=1d7ab2c7&scoped=true&\"\nimport script from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPlaylistModal.vue?vue&type=style&index=0&id=1d7ab2c7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d7ab2c7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{class:{\n  'error': true,\n  'has-text-right': _vm.alignRight,\n  'is-hidden': _vm.hidden\n}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<p :class=\"{\n  'error': true,\n  'has-text-right': alignRight,\n  'is-hidden': hidden\n}\">\n  {{ text }}\n</p>\n</template>\n\n<script>\nexport default {\n  name: 'error-text',\n  props: {\n    text: {\n      default: '',\n      type: String\n    },\n    hidden: {\n      default: false,\n      type: Boolean\n    },\n    alignRight: {\n      default: false,\n      type: Boolean\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorText.vue?vue&type=template&id=1338c033&\"\nimport script from \"./ErrorText.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"productions page fixed-page\">\n    <div class=\"columns\">\n      <div class=\"playlist-list-column column\" v-if=\"playlists.length > 0\">\n        <button\n          :class=\"{\n            button: true,\n            'is-loading': loading.addPlaylist\n          }\"\n          @click=\"showAddModal\"\n          key=\"new-playlist-button\"\n          v-if=\"isCurrentUserManager\"\n        >\n          <plus-icon class=\"icon is-small\" />\n          {{ $t('playlists.new_playlist') }}\n        </button>\n\n        <div\n          class=\"playlists\"\n          v-if=\"!loading.playlists\"\n        >\n          <router-link\n            :key=\"playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            :class=\"{\n              'playlist-item': true,\n              'for-client': playlist.for_client || false,\n              selected: playlist.id === currentPlaylist.id\n            }\"\n            v-for=\"playlist in playlists\"\n          >\n            <span>\n              {{ playlist.name }}\n            </span>\n            <span class=\"playlist-date\" title=\"last modified\">\n              {{ $t('playlists.updated_at') }}\n              {{ formatDate(playlist.updated_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner\n          class=\"mt2\"\n          v-else\n        />\n        <error-text\n          text=\"$t('playlists.loading_error')\"\n          v-if=\"errors.playlistLoading\"\n        />\n      </div>\n\n      <div\n        class=\"playlist-column no-selection\"\n        v-if=\"playlists.length > 0 && !currentPlaylist.id\"\n      >\n        <h2>{{ $t('playlists.last_creation') }}</h2>\n        <div class=\"flexrow\" v-if=\"!loading.playlists\">\n          <router-link\n            class=\"recent-playlist flexrow-item\"\n            :key=\"'recent-playlist-' + playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            v-for=\"playlist in lastPlaylistsCreated\"\n          >\n            <light-entity-thumbnail\n              :preview-file-id=\"playlist.first_preview_file_id\"\n              type=\"previews\"\n              width=\"300px\"\n              height=\"auto\"\n              empty-height=\"150px\"\n            />\n            <h3>{{ playlist.name }}</h3>\n            <span>\n              {{ $t('playlists.created_at') }}\n              {{ formatDate(playlist.created_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner class=\"mt2\" v-else />\n\n        <h2>{{ $t('playlists.last_modification') }}</h2>\n        <div class=\"flexrow\" v-if=\"!loading.playlists\">\n          <router-link\n            class=\"recent-playlist flexrow-item\"\n            :key=\"'recent-modified-playlist-' + playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            v-for=\"playlist in lastPlaylistsUpdated\"\n          >\n            <light-entity-thumbnail\n              :preview-file-id=\"playlist.first_preview_file_id\"\n              type=\"previews\"\n              width=\"300px\"\n              height=\"auto\"\n              empty-height=\"150px\"\n            />\n            <h3>{{ playlist.name }}</h3>\n            <span>\n              {{ $t('playlists.updated_at') }}\n              {{ formatDate(playlist.updated_at) }}\n            </span>\n          </router-link>\n        </div>\n        <spinner class=\"mt2\" v-else />\n      </div>\n      <div\n        class=\"playlist-column no-selection has-text-centered\"\n        v-else-if=\"playlists.length === 0\"\n      >\n        <div v-if=\"!loading.playlists\">\n          <p class=\"empty-explaination\">\n            {{ $t('playlists.no_playlist') }}\n          </p>\n          <button\n            :class=\"{\n              big: true,\n              button: true,\n              'is-loading': loading.addPlaylist\n            }\"\n            @click=\"showAddModal\"\n            key=\"new-playlist-button\"\n            v-if=\"isCurrentUserManager\"\n          >\n            {{ $t('playlists.new_playlist') }}\n          </button>\n        </div>\n        <spinner class=\"mt2\" v-else />\n      </div>\n\n      <div class=\"playlist-column column\" v-else>\n        <playlist-player\n          ref=\"playlist-player\"\n          :playlist=\"currentPlaylist\"\n          :shots=\"currentShots\"\n          :is-loading=\"loading.playlist\"\n          :is-adding-shot=\"isAddingShot\"\n          @edit-clicked=\"showEditModal\"\n          @show-add-shots=\"toggleAddShots\"\n          @preview-changed=\"onPreviewChanged\"\n          @task-type-changed=\"onTaskTypeChanged\"\n          @playlist-deleted=\"goFirstPlaylist\"\n          @remove-shot=\"removeShot\"\n          @order-change=\"onOrderChange\"\n          @annotationchanged=\"onAnnotationChanged\"\n          @for-client-changed=\"onForClientChanged\"\n        />\n\n        <div\n          v-if=\"isCurrentUserManager && isAddingShot\"\n        >\n          <div class=\"addition-header\">\n            <div class=\"flexrow\">\n              <page-subtitle\n                class=\"flexrow-item\"\n                :text=\"$t('playlists.add_shots')\"\n              />\n              <span class=\"filler\"></span>\n              <button\n              />\n              <a\n                class=\"close-button\"\n                @click=\"toggleAddShots\"\n              >\n                <x-icon />\n              </a>\n            </div>\n            <div class=\"flexrow\">\n              <search-field\n                class=\"flexrow-item\"\n                ref=\"search-field\"\n                :can-save=\"false\"\n                @change=\"onSearchChange\"\n                placeholder=\"ex: seq01 anim=wfa\"\n              />\n              <button\n                :class=\"{\n                  button: true,\n                  'flexrow-item': true,\n                  'add-sequence': true\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addCurrentSelection\"\n                v-if=\"shotSearchText\"\n              >\n                {{ $t('playlists.add_selection') }}\n              </button>\n              <span class=\"filler\"></span>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addDaily\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addDailyPending\"\n              >\n                {{ $t('playlists.build_daily') }}\n              </button>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addEpisode\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addEpisodePending\"\n                v-if=\"isTVShow\"\n              >\n                {{ $t('playlists.add_episode') }}\n              </button>\n              <button\n                :class=\"{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addMovie\n                }\"\n                :disabled=\"isAdditionLoading\"\n                @click=\"addMovie\"\n                v-else\n              >\n                {{ $t('playlists.add_movie') }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"addition-section\"\n          v-if=\"isCurrentUserManager && isAddingShot\"\n        >\n          <spinner\n            class=\"mt2\"\n            key=\"shot-loader\"\n            v-if=\"isShotsLoading\"\n          />\n          <div\n            v-else\n          >\n            <div>\n              <div\n                :key=\"'sequence-' + i\"\n                v-for=\"(sequenceShots, i) in displayedShotsBySequence\"\n              >\n                <h2\n                  class=\"sequence-title\"\n                  v-if=\"sequenceShots.length > 0\"\n                >\n                   {{ sequenceShots[0].sequence_name }}\n                  <button\n                    class=\"button\"\n                    @click=\"addSequence(sequenceShots)\"\n                    :key=\"'add-sequence-button-' + sequenceShots[0].sequence_id\"\n                    v-if=\"isCurrentUserManager\"\n                  >\n                    {{ $t('playlists.add_sequence') }}\n                  </button>\n                </h2>\n                <div\n                 class=\"addition-shots\"\n                >\n                  <div\n                    :class=\"{\n                      'addition-shot': true,\n                      playlisted: currentShots[shot.id] !== undefined\n                    }\"\n                    :key=\"shot.id\"\n                    @click.prevent=\"addShotToPlaylist(shot)\"\n                    v-for=\"shot in sequenceShots\"\n                  >\n                      <light-entity-thumbnail\n                        :preview-file-id=\"shot.preview_file_id\"\n                        width=\"150px\"\n                        height=\"100px\"\n                      />\n                    <span class=\"playlisted-shot-name\">{{ shot.name }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <edit-playlist-modal\n      ref=\"edit-playlist-modal\"\n      :active=\"modals.isEditDisplayed\"\n      :is-loading=\"loading.editPlaylist\"\n      :is-error=\"errors.editPlaylist\"\n      :playlist-to-edit=\"playlistToEdit\"\n      @cancel=\"hideEditModal\"\n      @confirm=\"confirmEditPlaylist\"\n    />\n\n  </div>\n</template>\n<script>\nimport Vue from 'vue'\nimport firstBy from 'thenby'\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\nimport { PlusIcon, XIcon } from 'vue-feather-icons'\nimport { formatDate } from '../../lib/time'\nimport {\n  updateModelFromList,\n  removeModelFromList\n} from '../../lib/models'\n\nimport EditPlaylistModal from '../modals/EditPlaylistModal'\nimport ErrorText from '../widgets/ErrorText'\nimport LightEntityThumbnail from '../widgets/LightEntityThumbnail'\nimport PageSubtitle from '../widgets/PageSubtitle'\nimport PlaylistPlayer from './playlists/PlaylistPlayer'\nimport SearchField from '../widgets/SearchField'\nimport Spinner from '../widgets/Spinner'\n\nexport default {\n  name: 'productions',\n\n  components: {\n    ErrorText,\n    EditPlaylistModal,\n    LightEntityThumbnail,\n    PageSubtitle,\n    PlaylistPlayer,\n    PlusIcon,\n    SearchField,\n    Spinner,\n    XIcon\n  },\n\n  data () {\n    return {\n      currentPlaylist: { name: this.$t('playlists.no_selection') },\n      currentShot: 0,\n      currentShots: {},\n      isAddingShot: true,\n      playlistToEdit: {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      },\n      sequenceId: null,\n      sequenceOptions: [],\n      sequenceShots: [],\n      modals: {\n        isDeleteDisplayed: false,\n        isEditDisplayed: false\n      },\n      loading: {\n        addPlaylist: false,\n        addDaily: false,\n        addEpisode: false,\n        addMovie: false,\n        addSequence: false,\n        addWeekly: false,\n        deletePlaylist: false,\n        editPlaylist: false,\n        playlist: false,\n        playlists: true\n      },\n      errors: {\n        addPlaylist: false,\n        editPlaylist: false,\n        deletePlaylist: false,\n        playlistLoading: false\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'displayedShots',\n      'displayedShotsBySequence',\n      'episodes',\n      'isShotsLoading',\n      'isTVShow',\n      'isCurrentUserManager',\n      'playlistMap',\n      'playlists',\n      'playlistsPath',\n      'playlistMap',\n      'sequences',\n      'shotsByEpisode',\n      'shotSearchText',\n      'shotMap',\n      'taskTypeMap'\n    ]),\n\n    isAdditionLoading () {\n      return (\n        this.loading.addSequence ||\n        this.loading.addWeekly ||\n        this.loading.addDaily ||\n        this.loading.addEpisode\n      )\n    },\n\n    lastPlaylistsUpdated () {\n      return this.playlists\n        .concat()\n        .sort(firstBy('updated_at'))\n        .reverse()\n        .slice(0, 3)\n    },\n\n    lastPlaylistsCreated () {\n      return this.playlists.slice(0, 3)\n    },\n\n    playlistPlayer () {\n      return this.$refs['playlist-player']\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addNewBuildJob',\n      'addShotPreviewToPlaylist',\n      'changePlaylistOrder',\n      'changePlaylistPreview',\n      'changePlaylistType',\n      'displayMoreShots',\n      'editPlaylist',\n      'getPending',\n      'loadPlaylist',\n      'loadPlaylists',\n      'loadShotPreviewFiles',\n      'loadShots',\n      'markBuildJobAsDone',\n      'newPlaylist',\n      'refreshPlaylist',\n      'removeShotPreviewFromPlaylist',\n      'removeBuildJobFromList',\n      'setShotSearch',\n      'updatePreviewAnnotation'\n    ]),\n\n    formatDate (dateString) {\n      return formatDate(dateString)\n    },\n\n    getPlaylistPath (playlistId, section) {\n      const route = {\n        name: section ? `${section}-playlist` : 'playlist',\n        params: {\n          production_id: this.currentProduction.id,\n          playlist_id: playlistId\n        }\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        route.name = `episode-${route.name}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    },\n\n    loadShotsData (callback) {\n      this.loading.playlists = true\n      const loadPlaylists = () => {\n        this.loadPlaylistsData()\n        if (callback) callback()\n      }\n\n      if (this.displayedShots.length === 0) {\n        this.loadShots(loadPlaylists)\n      } else {\n        loadPlaylists()\n      }\n    },\n\n    loadPlaylistsData () {\n      const setFirstPlaylist = () => {\n        this.setCurrentPlaylist(() => {\n          if (!this.currentPlaylist || !this.currentPlaylist.id) {\n            this.goFirstPlaylist()\n          }\n        })\n      }\n      if (this.playlists.length === 0) {\n        this.loading.playlists = true\n        this.loadPlaylists((err) => {\n          if (err) this.errors.loadPlaylists = true\n          this.loading.playlists = false\n          if (!err) setFirstPlaylist()\n        })\n      } else {\n        this.loading.playlists = false\n        setFirstPlaylist()\n      }\n    },\n\n    rebuildCurrentShots () {\n      this.currentShots = {}\n      const tmpShots = {}\n      if (this.currentPlaylist && this.currentPlaylist.shots) {\n        this.currentPlaylist.shots.forEach((shotPreview) => {\n          this.addShotToCurrentShots(shotPreview, tmpShots)\n        })\n      }\n      this.$nextTick(() => {\n        this.currentShots = tmpShots\n      })\n    },\n\n    /*\n     * Add to current playlist the shot related to given preview.\n     * Use given preview as current preview for this shot and store other\n     * previews in given shot.\n     */\n    addShotToCurrentShots (previewFile, playlistShotMap) {\n      const shot = this.shotMap[previewFile.shot_id]\n      if (shot) {\n        const entityName =\n          shot.tasks.length > 0 ? shot.tasks[0].entity_name : shot.name\n        const playlistShot = {\n          id: previewFile.shot_id,\n          name: shot.name,\n          sequence_name: shot.sequence_name,\n          entity_name: entityName,\n          preview_files: previewFile.preview_files,\n          preview_file_id:\n            previewFile.id ||\n            previewFile.preview_file_id ||\n            shot.preview_file_id,\n          preview_file_extension:\n            previewFile.extension ||\n            previewFile.preview_file_extension ||\n            shot.preview_file_extension,\n          preview_file_task_id:\n            previewFile.task_id ||\n            previewFile.preview_file_task_id ||\n            shot.preview_file_task_id,\n          preview_file_annotations:\n            previewFile.annotations ||\n            previewFile.preview_file_annotations ||\n            shot.preview_file_annotations\n        }\n        Vue.set(playlistShotMap, previewFile.shot_id, playlistShot)\n        return playlistShot\n      } else {\n        return null\n      }\n    },\n\n    clearCurrentPlaylist () {\n      this.currentPlaylist = {}\n      this.currentShots = {}\n    },\n\n    resetPlaylist () {\n      this.clearCurrentPlaylist()\n      this.setCurrentPlaylist()\n    },\n\n    setCurrentPlaylist (callback) {\n      const playlistId = this.$route.params.playlist_id\n      const playlist = this.playlistMap[playlistId]\n      this.loading.playlist = true\n      if (playlist) {\n        this.loadPlaylist({\n          playlist,\n          callback: (err, playlist) => {\n            this.loading.playlist = false\n            if (err) console.error(err)\n            this.currentPlaylist = playlist\n            this.rebuildCurrentShots()\n            if (callback) callback()\n          }\n        })\n      } else {\n        this.currentPlaylist = {\n          name: this.$t('playlists.no_selection')\n        }\n        this.currentShots = {}\n      }\n    },\n\n    goFirstPlaylist () {\n      if (this.playlists.length > 0) {\n        this.$router.push({\n          name: 'playlist',\n          params: {\n            production_id: this.currentProduction.id,\n            playlist_id: this.playlists[0].id\n          }\n        })\n      } else {\n        this.$router.push(this.playlistsPath)\n      }\n    },\n\n    clearAdditionColumn () {\n      this.sequenceOptions = []\n      this.sequenceId = null\n    },\n\n    addShot (shot) {\n      return this.loadShotPreviewFiles(shot)\n        .then(previewFiles => this.addShotPreviewToPlaylist({\n          playlist: this.currentPlaylist,\n          previewFiles: previewFiles,\n          shot: { ...shot }\n        }))\n        .then((shotPreview) => {\n          return new Promise((resolve, reject) => {\n            const playlistShot =\n              this.addShotToCurrentShots(shotPreview, this.currentShots)\n            this.$refs['playlist-player'].shotList.push(playlistShot)\n            this.$nextTick(() => {\n              this.$refs['playlist-player'].scrollToRight()\n              resolve()\n            })\n          })\n        })\n        .catch((err) => console.error(err))\n    },\n\n    addShotToPlaylist (shot) {\n      if (!this.currentShots[shot.id]) {\n        this.$options.silent = true\n        this.addShot(shot)\n          .then(() => {\n            this.playlistPlayer.scrollToRight()\n            setTimeout(() => {\n              this.$options.silent = false\n            }, 500)\n          })\n      }\n    },\n\n    addCurrentSelection (sequenceShots) {\n      this.$options.silent = true\n      const currentShotMap = {}\n      this.displayedShots.forEach((shot) => {\n        currentShotMap[shot.id] = true\n      })\n      const shots = Object.values(this.shotMap)\n        .filter(s => currentShotMap[s.id] === true)\n        .reverse()\n\n      this.addShots(shots, () => {\n        this.$options.silent = false\n      })\n    },\n\n    addSequence (sequenceShots) {\n      if (sequenceShots.length > 0) {\n        const sequenceId = sequenceShots[0].sequence_id\n        const shots = Object.values(this.shotMap)\n          .filter(s => s.sequence_id === sequenceId)\n          .sort(firstBy('name'))\n          .reverse()\n        this.$options.silent = true\n        this.addShots(shots, () => {\n          this.$options.silent = false\n        })\n      }\n    },\n\n    addAllPending () {\n      this.$options.silent = true\n      this.loading.addWeekly = true\n      this.getPending(false)\n        .then((shots) => {\n          this.addShots(shots.reverse(), () => {\n            this.loading.addWeekly = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addDailyPending () {\n      this.loading.addDaily = true\n      this.$options.silent = true\n      this.getPending(true)\n        .then((shots) => {\n          this.addShots(shots.reverse(), () => {\n            this.loading.addDaily = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addEpisodePending () {\n      this.loading.addEpisode = true\n      this.$options.silent = true\n      const shots = [].concat(...this.shotsByEpisode).reverse()\n      this.addShots(shots, () => {\n        this.loading.addEpisode = false\n        this.$options.silent = false\n      })\n    },\n\n    addMovie () {\n      this.loading.addMovie = true\n      this.$options.silent = true\n      const shots = Object.values(this.shotMap)\n      this.addShots(shots.reverse(), () => {\n        this.loading.addMovie = false\n        this.$options.silent = false\n      })\n    },\n\n    addShots (shots, callback) {\n      if (shots && shots.length > 0) {\n        const shot = shots.pop()\n        this.addShot(shot)\n          .then(() => {\n            this.addShots(shots, callback)\n          })\n      } else {\n        callback()\n      }\n    },\n\n    removeShot (shot) {\n      this.removeShotPreviewFromPlaylist({\n        playlist: this.currentPlaylist,\n        shot,\n        callback: () => {\n          delete this.currentShots[shot.id]\n        }\n      })\n    },\n\n    onPreviewChanged (shot, previewFileId) {\n      this.changePlaylistPreview({\n        playlist: this.currentPlaylist,\n        shot,\n        previewFileId\n      })\n    },\n\n    onOrderChange (info) {\n      this.changePlaylistOrder({\n        playlist: this.currentPlaylist,\n        info\n      })\n    },\n\n    onAnnotationChanged ({ preview, annotations }) {\n      const taskId = preview.task_id\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\n    },\n\n    onForClientChanged (forClient) {\n      this.editPlaylist({\n        data: {\n          id: this.currentPlaylist.id,\n          for_client: forClient\n        }\n      })\n    },\n\n    toggleAddShots () {\n      if (this.isAddingShot) {\n        this.resetPlaylist()\n      }\n      this.isAddingShot = !this.isAddingShot\n    },\n\n    onSearchChange (searchQuery) {\n      if (searchQuery.length > 1) {\n        this.setShotSearch(searchQuery)\n        this.displayMoreShots()\n        this.displayMoreShots()\n        this.displayMoreShots()\n      } else {\n        this.setShotSearch('')\n      }\n    },\n\n    confirmEditPlaylist (form) {\n      if (this.playlistToEdit.id) {\n        form.id = this.currentPlaylist.id\n        this.runEditPlaylist(form)\n      } else {\n        this.runAddPlaylist(form)\n      }\n    },\n\n    runEditPlaylist (form) {\n      this.loading.editPlaylist = true\n      this.errors.editPlaylist = false\n      this.editPlaylist({\n        data: {\n          name: form.name,\n          for_client: form.for_client,\n          id: form.id\n        },\n        callback: (err, playlist) => {\n          if (err) this.errors.editPlaylist = true\n          this.loading.editPlaylist = false\n          this.modals.isEditDisplayed = false\n          Object.assign(this.currentPlaylist, playlist)\n        }\n      })\n    },\n\n    runAddPlaylist (form) {\n      const newPlaylist = {\n        name: form.name,\n        production_id: this.currentProduction.id,\n        for_client: form.for_client\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        newPlaylist.episode_id = this.currentEpisode.id\n      }\n      this.loading.editPlaylist = true\n      this.errors.editPlaylist = false\n      this.newPlaylist({\n        data: newPlaylist,\n        callback: (err, playlist) => {\n          if (err) this.errors.editPlaylist = true\n          this.$router.push(this.getPlaylistPath(playlist.id))\n          this.loading.editPlaylist = false\n          this.modals.isEditDisplayed = false\n        }\n      })\n    },\n\n    showAddModal () {\n      this.playlistToEdit = {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      }\n      this.$refs['edit-playlist-modal'] = true\n      this.modals.isEditDisplayed = true\n    },\n\n    showEditModal () {\n      this.playlistToEdit = this.currentPlaylist\n      this.modals.isEditDisplayed = true\n    },\n\n    hideEditModal () {\n      this.playlistToEdit = {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        for_client: false\n      }\n      this.modals.isEditDisplayed = false\n    },\n\n    onTaskTypeChanged (taskTypeId) {\n      this.changePlaylistType({\n        playlist: this.currentPlaylist,\n        taskTypeId,\n        callback: () => {\n          this.rebuildCurrentShots()\n        }\n      })\n    }\n  },\n\n  mounted () {\n    this.loadShotsData(() => {\n      this.resetPlaylist()\n    })\n  },\n\n  watch: {\n    $route () {\n      this.setCurrentPlaylist()\n    },\n\n    currentPlaylist () {\n      if (this.currentPlaylist.shots) {\n        this.isAddingShot = this.currentPlaylist.shots.length === 0\n      }\n    },\n\n    currentProduction () {\n      this.$store.commit('LOAD_SEQUENCES_END', [])\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\n      this.loadShotsData(() => {\n        this.resetPlaylist()\n      })\n    },\n\n    currentEpisode () {\n      this.$store.commit('LOAD_SEQUENCES_END', [])\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\n      if (this.currentEpisode) {\n        this.loadShotsData(() => {\n          this.resetPlaylist()\n        })\n      }\n    },\n\n    isAddingShot () {\n      if (!this.isAddingShot) {\n      }\n    }\n  },\n\n  metaInfo () {\n    if (this.isTVShow) {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''} ` +\n               `- ${this.currentEpisode ? this.currentEpisode.name : ''} |` +\n               ` ${this.$t('playlists.title')} - Kitsu`\n      }\n    } else {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''}` +\n               ` ${this.$t('playlists.title')}` +\n               ' - Kitsu'\n      }\n    }\n  },\n\n  socket: {\n    events: {\n      'playlist:new' (eventData) {\n        if (!this.playlistMap[eventData.playlist_id]) {\n          this.refreshPlaylist(eventData.playlist_id)\n        }\n      },\n\n      'playlist:update' (eventData) {\n        if (\n          this.playlistMap[eventData.playlist_id] &&\n          !this.$options.silent\n        ) {\n          /*\n          this.refreshPlaylist(eventData.playlist_id)\n            .then((playlist) => {\n              if (this.currentPlaylist.id === playlist.id) {\n                Object.assign(this.currentPlaylist, playlist)\n                this.rebuildCurrentShots()\n              }\n            })\n          */\n        }\n      },\n\n      'playlist:delete' (eventData) {\n        this.$store.commit('DELETE_PLAYLIST_END', {\n          id: eventData.playlist_id\n        })\n      },\n\n      'build-job:new' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs = [{\n            id: eventData.build_job_id,\n            created_at: eventData.created_at,\n            status: 'running',\n            playlist_id: this.currentPlaylist.id\n          }].concat(this.currentPlaylist.build_jobs)\n        }\n      },\n\n      'build-job:update' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          updateModelFromList(this.currentPlaylist.build_jobs, {\n            id: eventData.build_job_id,\n            status: eventData.status\n          })\n        }\n      },\n\n      'build-job:delete' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs =\n            removeModelFromList(this.currentPlaylist.build_jobs, {\n              id: eventData.build_job_id\n            })\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .playlist-item {\n    background: $dark-grey-lightmore;\n    box-shadow: 0px 0px 6px #333;\n    border-color: $dark-grey;\n    color: $white-grey;\n\n    &.for-client {\n      background: $purple-grey;\n      border: 1px solid $dark-grey;\n    }\n\n    &.selected {\n      border-right: 3px solid $dark-green;\n    }\n  }\n\n  .playlist-list-column {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n    box-shadow: 0px 0px 6px #333;\n  }\n\n  .playlist-column {\n    button,\n    h2.sequence-title {\n      color: white;\n    }\n  }\n\n  .playlist-column.no-selection {\n    background: $dark-grey-light;\n\n    h2 {\n      color: white;\n    }\n\n    .recent-playlist {\n      background: $dark-grey-lightmore;\n      border: 2px solid $dark-grey;\n      box-shadow: 0px 0px 6px #333;\n\n      h3 {\n        color: white;\n      }\n    }\n  }\n\n  span.thumbnail-picture {\n    box-shadow: 0px 0px 6px #333;\n  }\n}\n\n.page {\n  display: flex;\n  padding-left: 0;\n  padding-right: 0;\n  padding-bottom: 0;\n}\n\n.page .columns {\n  margin-top: 0px;\n  margin-bottom: 0;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.playlist-list-column {\n  max-width: 300px;\n  background: #F4F5F9;\n  overflow-y: auto;\n  padding: 1em 1em 1em 2em;\n  border-right: 1px solid #DDD;\n  box-shadow: 0px 0px 6px #F0F0F0;\n  z-index: 201;\n}\n\n.playlist-item {\n  display: block;\n  background: white;\n  padding: 0.4em;\n  margin: 0.2em;\n  border: 1px solid $white-grey;\n  box-shadow: 0px 0px 6px #DDD;\n  color: $grey-strong;\n\n  &.for-client {\n    background: $purple-light;\n    border: 1px solid $purple;\n  }\n}\n\n.playlist-item.selected {\n  border-right: 3px solid $light-green;\n}\n\n.playlist-list-column .button {\n  width: 100%;\n}\n\n.addition-shots {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  flex-direction: row;\n  max-width: 100%;\n  padding-left: 1em;\n}\n\n.addition-shot {\n  padding: 0;\n  cursor: pointer;\n  text-align: center;\n  margin: 0;\n  opacity: 0.5;\n  width: 170px;\n  display: flex;\n  flex-direction: column;\n  border: 0px solid transparent;\n\n  a {\n    margin: auto;\n  }\n\n  &:hover {\n    opacity: 0.75\n  }\n\n  &.playlisted {\n    opacity: 1;\n\n    img,\n    span.thumbnail-picture {\n      border: 2px solid $purple;\n    }\n  }\n}\n\nspan.thumbnail-picture {\n  box-shadow: 0px 0px 6px #DDD;\n  margin-bottom: 2px;\n}\n\n.addition-header {\n  padding: 0 1em;\n\n  .subtitle {\n    margin-top: 1em;\n  }\n}\n\n.select-sequence-combobox {\n  margin-bottom: 1em;\n}\n\n.add-sequence {\n  margin-bottom: 0.4em;\n}\n\n.playlist-column {\n  padding: 0;\n  overflow: hidden;\n  flex: 1;\n}\n\n.playlist-column:last-child {\n  padding-right: 0.7em;\n}\n\n.playlisted-shot-name {\n  padding-right: 20px;\n}\n\n.playlist-date {\n  display: block;\n  color: $grey;\n  font-size: 0.8em;\n}\n\n.sequence-title {\n  border-bottom: 1px solid $light-grey-light;\n  color: $grey;\n  margin: 1em;\n  padding-bottom: 0.2em;\n  text-transform: uppercase;\n\n  button {\n    color: $grey;\n    padding: 0.3em 0.8em;\n    font-size: 0.7em;\n  }\n}\n\n.addition-header {\n  height: 110px;\n}\n\n.addition-section {\n  overflow-y: auto;\n  height: calc(100% - 420px);\n}\n\nh2 {\n  font-weight: bold;\n  text-transform: uppercase;\n  color: $grey;\n}\n\n.playlist-column.no-selection {\n  padding: 2em;\n  overflow: auto;\n  background: #F4F5F9;\n\n  h2 {\n    font-size: 2em;\n    margin-top: 1.5em;\n    margin-bottom: 0.3em;\n  }\n\n  .recent-playlist {\n    width: 333px;\n    background: white;\n    border: 2px solid $light-grey-light;\n    box-shadow: 0px 0px 6px #DDD;\n    border-radius: 1em;\n    padding: 1em;\n\n    h3 {\n      color: $grey-strong;\n      font-size: 1.2em;\n      font-weight: bold;\n    }\n    span {\n      display: block;\n    }\n  }\n\n  .empty-explaination {\n    margin-top: 4em;\n    font-size: 1.5em;\n  }\n\n  .big {\n    font-size: 1.2em;\n    margin-top: 1em;\n    padding: 0.5em 1em;\n    height: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=534c7768&scoped=true&\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=534c7768&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"534c7768\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}