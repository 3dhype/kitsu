{"version":3,"sources":["webpack:///./src/components/lists/QuotaShotList.vue?6544","webpack:///./src/components/sides/PeopleQuotaInfo.vue?2ac2","webpack:///./src/components/pages/quota/Quota.vue?5e8f","webpack:///./src/components/pages/ProductionQuota.vue?3d27","webpack:///./src/components/pages/quota/Quota.vue?43eb","webpack:///src/components/pages/quota/Quota.vue","webpack:///./src/components/pages/quota/Quota.vue?e088","webpack:///./src/components/pages/quota/Quota.vue?95fa","webpack:///./src/components/sides/PeopleQuotaInfo.vue?4712","webpack:///./src/components/lists/QuotaShotList.vue?5254","webpack:///src/components/lists/QuotaShotList.vue","webpack:///./src/components/lists/QuotaShotList.vue?17e8","webpack:///./src/components/lists/QuotaShotList.vue?f92d","webpack:///src/components/sides/PeopleQuotaInfo.vue","webpack:///./src/components/sides/PeopleQuotaInfo.vue?4c68","webpack:///./src/components/sides/PeopleQuotaInfo.vue?f1c2","webpack:///src/components/pages/ProductionQuota.vue","webpack:///./src/components/pages/ProductionQuota.vue?929c","webpack:///./src/components/pages/ProductionQuota.vue?a44a","webpack:///./src/components/pages/ProductionQuota.vue?f07b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","shotTaskTypes","model","value","callback","$$v","taskTypeId","expression","detailLevelOptions","detailLevelString","monthOptions","monthString","_e","yearOptions","yearString","countModeOptions","countMode","currentYear","currentMonth","currentWeek","currentDay","currentPerson","currentMode","personShots","on","hideSideInfo","staticRenderFns","quotaLength","isLoading","_v","_s","_l","key","personMap","full_name","detailLevel","getQuotaAverage","year","month","ref","monthToString","week","day","class","selected","isMonthSelected","getQuota","episodifyRoute","name","params","person_id","isWeekSelected","weekend","isWeekend","isDaySelected","isError","components","PeopleAvatar","TableInfo","props","type","String","required","default","Number","data","detailsTitle","detailsMap","isPanelShown","quotaMap","undefined","mounted","Object","keys","shotMap","length","setTimeout","err","isShotsLoading","loadData","computed","monthRange","dayRange","weekRange","personIds","sort","personAName","localeCompare","personBName","methods","currentEpisode","route","date","includes","computeQuota","loadDetails","loadShots","console","error","personId","dateString","dateDigit","toString","padStart","opt","yearKey","weekKey","dayKey","average","monthKey","toFixed","watch","$route","els","component","closeRoute","person","startDay","endDay","weekMonth","shots","isLoadingError","shot","projectNames","Array","Boolean","nb_frames","XIcon","PageTitle","QuotaShotList","isMonthInfo","path","indexOf","isWeekInfo","isDayInfo","currentProduction","production_id","id","episode_id","onCloseClicked","$emit","Combobox","ComboboxTaskType","PeopleQuotaInfo","Quota","getCurrentPerson","showInfo","loadRoute","label","map","weekString","getPersonShots","showSideInfo","$router","push","query","Math","min","localStorage","setItem"],"mappings":"gHAAA,yBAA+jB,EAAG,G,oFCAlkB,yBAAikB,EAAG,G,kCCApkB,yBAA4kB,EAAG,G,yCCA/kB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,qBAAqB,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,GAAG,oBAAoB,iBAAiBR,EAAIS,eAAeC,MAAM,CAACC,MAAOX,EAAc,WAAEY,SAAS,SAAUC,GAAMb,EAAIc,WAAWD,GAAKE,WAAW,iBAAiB,GAAGX,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,GAAG,sBAAsB,QAAUR,EAAIgB,oBAAoBN,MAAM,CAACC,MAAOX,EAAqB,kBAAEY,SAAS,SAAUC,GAAMb,EAAIiB,kBAAkBJ,GAAKE,WAAW,wBAAwB,GAA8B,QAA1Bf,EAAIiB,kBAA6Bb,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,GAAG,qBAAqB,QAAUR,EAAIkB,cAAcR,MAAM,CAACC,MAAOX,EAAe,YAAEY,SAAS,SAAUC,GAAMb,EAAImB,YAAYN,GAAKE,WAAW,iBAAiBf,EAAIoB,KAAKhB,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,GAAG,oBAAoB,QAAUR,EAAIqB,aAAaX,MAAM,CAACC,MAAOX,EAAc,WAAEY,SAAS,SAAUC,GAAMb,EAAIsB,WAAWT,GAAKE,WAAW,gBAAgBX,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,GAAG,qBAAqB,QAAUR,EAAIuB,kBAAkBb,MAAM,CAACC,MAAOX,EAAa,UAAEY,SAAS,SAAUC,GAAMb,EAAIwB,UAAUX,GAAKE,WAAW,gBAAgB,IAAI,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,WAAaP,EAAIc,WAAW,YAAcd,EAAIiB,kBAAkB,KAAOjB,EAAIyB,YAAY,MAAQzB,EAAI0B,aAAa,KAAO1B,EAAI2B,YAAY,IAAM3B,EAAI4B,WAAW,cAAgB5B,EAAI6B,cAAc,UAAY7B,EAAI8B,gBAAgB,GAAI9B,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,oBAAoB,CAACG,MAAM,CAAC,OAASP,EAAI6B,cAAc,KAAO7B,EAAIyB,YAAY,MAAQzB,EAAI0B,aAAa,KAAO1B,EAAI2B,YAAY,IAAM3B,EAAI4B,WAAW,cAAa,EAAM,oBAAmB,EAAM,MAAQ5B,EAAI+B,YAAY,aAAa/B,EAAIwB,WAAWQ,GAAG,CAAC,MAAQhC,EAAIiC,iBAAiB,GAAGjC,EAAIoB,QAChkEc,EAAkB,G,uLCDlB,EAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAAEL,KAAKkC,YAAc,IAAMnC,EAAIoC,UAAWhC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIQ,GAAG,eAAe,OAAOJ,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIQ,GAAG,kBAAkB,SAASR,EAAIuC,GAAIvC,EAAa,WAAE,SAASwC,GAAK,OAAOpC,EAAG,MAAM,CAACoC,IAAI,QAAUA,EAAIlC,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,KAAO,GAAG,OAASP,EAAIyC,UAAUD,MAAQxC,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIyC,UAAUD,GAAKE,WAAW,MAAM,GAAwB,UAApB1C,EAAI2C,YAAyBvC,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAI4C,gBAAgBJ,EAAK,CAAEK,KAAM7C,EAAI6C,QAAS,OAAO7C,EAAIoB,KAA0B,SAApBpB,EAAI2C,YAAwBvC,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAI4C,gBAAgBJ,EAAK,CAAEK,KAAM7C,EAAI6C,QAAS,OAAO7C,EAAIoB,KAA0B,QAApBpB,EAAI2C,YAAuBvC,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAI4C,gBAAgBJ,EAAK,CAAEK,KAAM7C,EAAI6C,KAAMC,MAAO9C,EAAI8C,SAAU,OAAO9C,EAAIoB,WAAU,GAAGpB,EAAIoB,KAAMnB,KAAKkC,YAAc,IAAMnC,EAAIoC,UAAWhC,EAAG,MAAM,CAAC2C,IAAI,OAAOzC,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACN,EAAIuC,GAAIvC,EAAc,YAAE,SAAS8C,GAAO,MAA4B,UAApB9C,EAAI2C,YAAyBvC,EAAG,MAAM,CAACoC,IAAI,SAAWM,EAAMxC,YAAY,wBAAwB,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIgD,cAAcF,IAAQ,OAAO9C,EAAIoB,QAAOpB,EAAIuC,GAAIvC,EAAa,WAAE,SAASiD,GAAM,MAA4B,SAApBjD,EAAI2C,YAAwBvC,EAAG,MAAM,CAACoC,IAAI,QAAUS,EAAK3C,YAAY,wBAAwB,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGW,GAAM,OAAOjD,EAAIoB,QAAOpB,EAAIuC,GAAIvC,EAAY,UAAE,SAASkD,GAAK,MAA4B,QAApBlD,EAAI2C,YAAuBvC,EAAG,MAAM,CAACoC,IAAI,OAASU,EAAI5C,YAAY,wBAAwB,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGY,GAAK,OAAOlD,EAAIoB,SAAQ,GAAGpB,EAAIuC,GAAIvC,EAAa,WAAE,SAASwC,GAAK,OAAOpC,EAAG,MAAM,CAACoC,IAAIA,EAAIlC,YAAY,aAAa,CAACN,EAAIuC,GAAIvC,EAAc,YAAE,SAAS8C,GAAO,MAA4B,UAApB9C,EAAI2C,YAAyBvC,EAAG,MAAM,CAACoC,IAAI,SAAWM,EAAMK,MAAM,CACnoE,YAAY,EACZC,SAAUpD,EAAIqD,gBAAgBb,EAAKxC,EAAI6C,KAAMC,KAC5C,CAAE9C,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMC,MAAOA,IAAS1C,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAKP,EAAIuD,eAAe,CAChIC,KAAM,qBACNC,OAAQ,CACNC,UAAWlB,EACXK,KAAM7C,EAAI6C,KACVC,MAAOA,OAEN,CAAC9C,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMC,MAAOA,KAAS,OAAO1C,EAAG,OAAO,CAACJ,EAAIqC,GAAG,QAAQ,GAAGrC,EAAIoB,QAAOpB,EAAIuC,GAAIvC,EAAa,WAAE,SAASiD,GAAM,MAA4B,SAApBjD,EAAI2C,YAAwBvC,EAAG,MAAM,CAACoC,IAAI,QAAUS,EAAKE,MAAM,CACvO,YAAY,EACZC,SAAUpD,EAAI2D,eAAenB,EAAKxC,EAAI6C,KAAMI,KAC3C,CAAEjD,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMI,KAAMA,IAAQ7C,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAKP,EAAIuD,eAAe,CAC9HC,KAAM,oBACNC,OAAQ,CACNC,UAAWlB,EACXK,KAAM7C,EAAI6C,KACVI,KAAMA,OAEL,CAACjD,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMI,KAAMA,KAAQ,OAAO7C,EAAG,OAAO,CAACJ,EAAIqC,GAAG,UAAU,GAAGrC,EAAIoB,QAAOpB,EAAIuC,GAAIvC,EAAY,UAAE,SAASkD,GAAK,MAA4B,QAApBlD,EAAI2C,YAAuBvC,EAAG,MAAM,CAACoC,IAAI,OAASU,EAAIC,MAAM,CAClO,YAAY,EACZS,QAAS5D,EAAI6D,UAAU7D,EAAI6C,KAAM7C,EAAI8C,MAAOI,GAC5CE,SAAUpD,EAAI8D,cAActB,EAAKxC,EAAI6C,KAAM7C,EAAI8C,MAAOI,KACrD,CAAElD,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMC,MAAO9C,EAAI8C,MAAOI,IAAKA,IAAO9C,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAKP,EAAIuD,eAAe,CAC9IC,KAAM,mBACNC,OAAQ,CACNC,UAAWlB,EACXK,KAAM7C,EAAI6C,KACVC,MAAO9C,EAAI8C,MACXI,IAAKA,OAEJ,CAAClD,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIsD,SAASd,EAAK,CAACK,KAAM7C,EAAI6C,KAAMC,MAAO9C,EAAI8C,MAAOI,IAAKA,KAAO,OAAO9C,EAAG,OAAO,CAACJ,EAAIqC,GAAG,UAAU,GAAGrC,EAAIoB,SAAQ,OAAM,GAAGpB,EAAIoB,KAA2B,IAArBnB,KAAKkC,aAAsBnC,EAAIoC,UAA6IpC,EAAIoB,KAAtIhB,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIqC,GAAGrC,EAAIsC,GAAGtC,EAAIQ,GAAG,wBAAiCJ,EAAG,aAAa,CAACG,MAAM,CAAC,aAAaP,EAAIoC,UAAU,WAAWpC,EAAI+D,YAAY,IACva,EAAkB,G,8qBCiKtB,OACEP,KAAM,QAENQ,WAAY,CACVC,aAAJ,OACIC,UAAJ,QAGEC,MAAO,CACLrD,WAAY,CACVsD,KAAMC,OACNC,UAAU,GAEZ3B,YAAa,CACXyB,KAAMC,OACNE,QAAS,MACTD,UAAU,GAEZ9C,UAAW,CACT4C,KAAMC,OACNE,QAAS,SACTD,UAAU,GAEZzB,KAAM,CACJuB,KAAMI,OACND,QAAS,GAEXzB,MAAO,CACLsB,KAAMI,OACND,QAAS,GAEXtB,KAAM,CACJmB,KAAMI,OACND,QAAS,GAEXrB,IAAK,CACHkB,KAAMI,OACND,QAAS,IAIbE,KAzCF,WA0CI,MAAO,CACL/C,aAAc,MAApB,UACMD,YAAa,MAAnB,OACME,YAAa,MAAnB,OACM+C,aAAc,GACdC,WAAY,GACZC,cAAc,EACdxC,WAAW,EACX2B,SAAS,EACTc,SAAU,GACV1C,YAAa,EACbiB,cAAU0B,IAIdC,QAzDF,WAyDA,WACQC,OAAOC,KAAKhF,KAAKiF,SAASC,OAAS,EACrCC,YAAW,WACT,EAAR,uBACUA,YAAW,WACT,EAAZ,eACA,KACeC,GACH,EAAZ,gBAGA,MAEWpF,KAAKqF,iBAAgBrF,KAAKmC,WAAY,GAC3CnC,KAAKsF,aAITC,SAAU,EAAZ,GACA,gBACA,iBACA,iBACA,UACA,cALA,CAQIC,WARJ,WASM,OAAO,OAAb,OAAa,CAAb,+CAGIC,SAZJ,WAaM,OAAO,OAAb,OAAa,CACb,UACA,WACA,iBACA,oBAIIC,UArBJ,WAsBM,OAAO,OAAb,OAAa,CAAb,8CAGIC,UAzBJ,WAyBA,WACA,6BACM,OAAOA,EAAUC,MAAK,SAA5B,KACQ,IAAR,2BACA,2BACQ,OAAOC,EAAYC,cAAcC,SAKvCC,QAAS,EAAX,GACA,gBACA,YACA,eACA,qBAJA,CAOI1C,eAPJ,SAOA,GAIM,OAHItD,KAAKiG,gBACP,OAAR,OAAQ,CAAR,0BAEaC,GAGTtC,UAdJ,SAcA,OACM,IAAN,gDAEM,OADIX,EAAM,KAAIkD,EAAO,IAA3B,4CACa,CAAC,EAAG,GAAGC,SAASD,EAAKlD,QAG9BqC,SApBJ,WAoBA,WACUtF,KAAKa,YACPb,KAAKqG,aAAa,CAChBxF,WAAYb,KAAKa,WACjB6B,YAAa1C,KAAK0C,YAClBnB,UAAWvB,KAAKuB,YAE1B,kBACU,EAAV,WACU,EAAV,aACU,EAAV,+CAKI+E,YAnCJ,SAmCA,gBACMtG,KAAKuG,WAAU,SAArB,GACQ,EAAR,aACYnB,EACFoB,QAAQC,MAAMrB,GAEV,EAAd,YACY,EAAZ,kBACcvE,WAAY,EAA1B,WACc6B,YAAa,EAA3B,YACcgE,SAAd,EACcC,WAAd,IAEA,kBACc,EAAd,aACc,EAAd,oBAMI5D,cAAJ,OAEI6D,UA1DJ,SA0DA,GACM,OAAOT,EAAKU,WAAWC,SAAS,EAAG,MAGrCzD,SA9DJ,SA8DA,mEACM,GAAI0D,EAAI9D,IAAK,CACX,IAAR,YACA,OADA,YACA,wBADA,YACA,uBACQ,OAAOjD,KAAK4E,SAAS8B,GAAUM,GACvC,WACQ,IAAR,uCACQ,OAAOhH,KAAK4E,SAAS8B,GAAUO,GAE/B,IAAR,wDACQ,OAAOjH,KAAK4E,SAAS8B,GAAUQ,IAInCvE,gBA5EJ,SA4EA,OACA,EADA,4DAEM,GAAIoE,EAAIlE,MAAO,CACb,IAAR,qCACQsE,EAAUnH,KAAK4E,SAAS8B,GAAUS,QAAQC,QAClD,WACQ,IAAR,uCACQD,EAAUnH,KAAK4E,SAAS8B,GAAUS,QAAQF,QAClD,2BACQE,EAAUnH,KAAK4E,SAAS8B,GAAUS,QAAQJ,EAAInE,OAEhD,OAAOuE,EAAUA,EAAQE,QAAQ,GAAK,KAGxCxD,cA1FJ,SA0FA,SACM,OACN,8BACA,kCACA,6BACA,8BACA,4BAIIH,eApGJ,SAoGA,OACM,OACN,8BACA,kCACA,6BACA,6BAIIN,gBA7GJ,SA6GA,OACM,OACN,8BACA,kCACA,6BACA,gCAKEkE,MAAO,CACLzG,WADJ,WAEUb,KAAKa,YACPb,KAAKsF,YAIT5C,YAPJ,WAQM1C,KAAKsF,YAGP/D,UAXJ,WAYMvB,KAAKsF,YAGPL,QAfJ,WAgBMjF,KAAKsF,YAGPiC,OAnBJ,WAmBA,WACA,8CACyB,IAAfC,EAAItC,QACNC,YAAW,WACT,EAAV,6BACA,QC/b6W,I,wBCQzWsC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI1H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAKP,EAAI2H,aAAa,CAACvH,EAAG,WAAW,IAAI,GAAGA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,gBAAgB,CAACE,YAAY,eAAeC,MAAM,CAAC,OAASP,EAAI4H,OAAO,YAAW,KAAQxH,EAAG,aAAa,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAOP,EAAI4H,OAAOlF,cAAc,GAAI1C,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAImB,aAAa,IAAInB,EAAIsC,GAAGtC,EAAI6C,MAAM,OAAQ7C,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIqC,GAAG,SAASrC,EAAIsC,GAAGtC,EAAIiD,MAAM,KAAKjD,EAAIsC,GAAGtC,EAAI6H,UAAU,MAAM7H,EAAIsC,GAAGtC,EAAI8H,QAAQ,IAAI9H,EAAIsC,GAAGtC,EAAI+H,WAAW,IAAI/H,EAAIsC,GAAGtC,EAAI6C,MAAM,OAAQ7C,EAAa,UAAEI,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGtC,EAAIkD,KAAK,IAAIlD,EAAIsC,GAAGtC,EAAImB,aAAa,IAAInB,EAAIsC,GAAGtC,EAAI6C,MAAM,OAAO7C,EAAIoB,KAAKhB,EAAG,kBAAkB,CAACE,YAAY,kBAAkBC,MAAM,CAAC,aAAaP,EAAIwB,UAAU,MAAQxB,EAAIgI,MAAM,aAAahI,EAAIoC,UAAU,WAAWpC,EAAIiI,mBAAmB,IAC1kC,EAAkB,G,oCCDlB,EAAS,WAAa,IAAIjI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGN,EAAIoC,UAAycpC,EAAIoB,KAAlchB,EAAG,QAAQ,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIsC,GAAGtC,EAAIQ,GAAG,0BAA0BJ,EAAG,KAAK,CAACJ,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAsB,YAAnBrC,KAAKuB,UAA0BxB,EAAIQ,GAAG,yBAA2BR,EAAIQ,GAAG,yBAAyB,WAAWJ,EAAG,QAAQJ,EAAIuC,GAAIvC,EAAS,OAAE,SAASkI,GAAM,OAAO9H,EAAG,KAAK,CAACoC,IAAK,cAAiB0F,EAAO,IAAI,CAAC9H,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIsC,GAAG4F,EAAKxF,cAActC,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIsC,GAAGtC,EAAIsD,SAAS4E,YAAc,KAAc9H,EAAG,aAAa,CAACG,MAAM,CAAC,aAAaP,EAAIoC,UAAU,WAAWpC,EAAIiI,mBAAmB,IAC7qB,EAAkB,G,wlBCsCtB,OACEzE,KAAM,kBAENQ,WAAY,CACVE,UAAJ,QAGEO,KAPF,WAQI,MAAO,CACL0D,aAAc,KAIlBhE,MAAO,CACL6D,MAAO,CACL5D,KAAMgE,MACN7D,QAAS,WAAf,WAEInC,UAAW,CACTgC,KAAMiE,QACN9D,SAAS,GAEX0D,eAAgB,CACd7D,KAAMiE,QACN9D,SAAS,GAEX/C,UAAW,CACT4C,KAAMC,OACNE,QAAS,WAIbiB,SAAU,EAAZ,GACA,gBACA,oBACA,uBACA,iBAIES,QAAS,EAAX,GACA,mBADA,CAII3C,SAJJ,SAIA,GACM,MAAuB,YAAnBrD,KAAKuB,UACA,OAAf,OAAe,CAAf,sCAEe0G,EAAKI,aAKlBf,MAAO,IC5F6V,ICQlW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,olBCkCf,OACE/D,KAAM,kBAENQ,WAAY,CACVuE,MAAJ,OACIC,UAAJ,OACIvE,aAAJ,OACIwE,cAAJ,GAGEtE,MAAO,CACLyD,OAAQ,CACNxD,KAAMY,OACNT,QAAS,cAEX1B,KAAM,CACJuB,KAAMI,OACND,QAAS,GAEXzB,MAAO,CACLsB,KAAMI,OACND,QAAS,GAEXtB,KAAM,CACJmB,KAAMI,OACND,QAAS,GAEXrB,IAAK,CACHkB,KAAMI,OACND,QAAS,GAEX/C,UAAW,CACT4C,KAAMC,OACNE,QAAS,UAEXnC,UAAW,CACTgC,KAAMiE,QACN9D,SAAS,GAEX0D,eAAgB,CACd7D,KAAMiE,QACN9D,SAAS,GAEXyD,MAAO,CACL5D,KAAMgE,MACN7D,QAAS,WAAf,YAIEiB,SAAU,EAAZ,GACA,gBACA,iBACA,sBAHA,CAMIqC,SANJ,WAOM,OAAO,MACb,cACA,gBACA,gBACA,QAGIC,OAdJ,WAeM,OAAO,MACb,cACA,gBACA,gBACA,cACA,QAGIC,UAvBJ,WAwBM,OAAO,MACb,cACA,gBACA,gBACA,eAGI5G,YA/BJ,WAgCM,OAAO,OAAb,OAAa,CAAb,aAGIuH,YAnCJ,WAoCM,OAAOzI,KAAKuH,OAAOmB,KAAKC,QAAQ,SAAW,GAG7CC,WAvCJ,WAwCM,OAAO5I,KAAKuH,OAAOmB,KAAKC,QAAQ,QAAU,GAG5CE,UA3CJ,WA4CM,OAAO7I,KAAKuH,OAAOmB,KAAKC,QAAQ,OAAS,GAG3CjB,WA/CJ,WAgDM,IAAK1H,KAAK8I,kBAAmB,MAAO,GACpC,IAAN,GACQvF,KAAM,QACNwF,cAAe/I,KAAK8I,kBAAkBE,IA6BxC,OA3BIhJ,KAAKyI,YACPvC,EAAQ,CACN3C,KAAM,cACNC,OAAQ,CACNZ,KAAM5C,KAAK4C,OAGvB,gBACQsD,EAAQ,CACN3C,KAAM,aACNC,OAAQ,CACNZ,KAAM5C,KAAK4C,OAGvB,iBACQsD,EAAQ,CACN3C,KAAM,YACNC,OAAQ,CACNZ,KAAM5C,KAAK4C,KACXC,MAAO7C,KAAK6C,SAId7C,KAAKiG,iBACPC,EAAM3C,KAAO,WAArB,eACQ2C,EAAM1C,OAAOyF,WAAajJ,KAAKiG,eAAe+C,IAEzC9C,KAIXF,QAAS,EAAX,GACA,mBADA,CAIIkD,eAJJ,WAKMlJ,KAAKmJ,MAAM,aC/LuV,ICQpW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,olBCuEf,OACE5F,KAAM,mBACNQ,WAAY,CACVqF,SAAJ,OACIC,iBAAJ,OACIC,gBAAJ,EACIC,MAAJ,GAGE/E,KATF,WAUI,MAAO,CACL3D,WAAY,GACZU,UAAW,SACXD,iBAAkB,CACxB,CAAQ,MAAR,SAAQ,MAAR,UACA,CAAQ,MAAR,UAAQ,MAAR,YAEMP,mBAAoB,CAC1B,CAAQ,MAAR,MAAQ,MAAR,OACA,CAAQ,MAAR,OAAQ,MAAR,QACA,CAAQ,MAAR,QAAQ,MAAR,UAEMS,YAAa,MAAnB,OACMC,aAAc,MAApB,UACMC,YAAa,MAAnB,OACMC,WAAY,MAAlB,OACMC,cAAe5B,KAAKwJ,mBACpB3H,YAAa,SAEbb,kBAAmB,MACnB0B,YAAa,MAEbP,WAAW,EACX6F,gBAAgB,EAChB9G,YAAa,GAAnB,wBAEMY,YAAa,GACb2H,UAAU,EACVpI,WAAY,GAAlB,uBAIEyD,QA1CF,WA2CI9E,KAAK0J,aAGPnE,SAAU,EAAZ,GACA,gBACA,iBACA,oBACA,gBACA,cALA,CAQInE,YARJ,WASM,IAAN,OACA,eACM,OAAO,OAAb,OAAa,CAAb,KACA,iBAAQ,MAAR,CACUuI,MAAO/G,EACPlC,MAAO,GAAjB,eAIIO,aAlBJ,WAmBM,IAAN,0BACA,IACA,kBACA,uBAKM,OAJIO,IAAgBxB,KAAKqB,aACvBmE,EAAa,OAArB,OAAqB,CAArB,MAGaA,EAAWoE,KAAI,SAA5B,UACA,wBACA,0BAKE5D,QAAS,EAAX,GACA,gBACA,eACA,iBACA,cAJA,CAOIwD,iBAPJ,WAQM,IAAN,+BACM,OAAI9C,GAAY1G,KAAKwC,UACZxC,KAAKwC,UAAUkE,GAEf,IAIXgD,UAhBJ,WAgBA,aACA,qBADA,EACA,QADA,EACA,OADA,EACA,OADA,EACA,IADA,EAEA,oBAFA,EAEA,YAFA,EAEA,WAYM,GAVI1J,KAAKuH,OAAOmB,KAAKC,QAAQ,QAAU,IAAG3I,KAAK0C,YAAc,QACzD1C,KAAKuH,OAAOmB,KAAKC,QAAQ,SAAW,IAAG3I,KAAK0C,YAAc,SAC1D1C,KAAKuH,OAAOmB,KAAKC,QAAQ,OAAS,IAAG3I,KAAK0C,YAAc,OAE5D1C,KAAK4B,cAAgB5B,KAAKwJ,mBAC1BxJ,KAAKgB,kBAAoBhB,KAAK0C,YAC1BnB,IACFvB,KAAKuB,UAAYA,EACjBvB,KAAK6B,YAAc7B,KAAKuB,WAEtBV,EACFb,KAAKa,WAAaA,MAC1B,CACQ,IAAR,6DACQb,KAAKa,WACb,kDAEUgC,IACF7C,KAAKyB,aAAe8C,OAAO1B,GAC3B7C,KAAKkB,YAAc,GAA3B,WAEU0B,IACF5C,KAAKwB,YAAc+C,OAAO3B,GAC1B5C,KAAKqB,WAAa,GAA1B,WAEU2B,IACFhD,KAAK0B,YAAc6C,OAAOvB,GAC1BhD,KAAK6J,WAAa,GAA1B,WAEU5G,IACFjD,KAAK2B,WAAa4C,OAAOtB,IAGvBjD,KAAKuH,OAAOmB,KAAKC,QAAQ,UAAY,EACvC3I,KAAK8J,eAAe,CAClBpD,SAAU1G,KAAK4B,cAAcoH,GAC7BtG,YAAa1C,KAAK0C,YAClB7B,WAAYb,KAAKa,WACjB+B,KAAV,EACUC,MAAV,EACUG,KAAV,EACUC,IAAV,IAEA,kBACU,EAAV,cACU,EAAV,kBAGQjD,KAAKgC,gBAIT+H,aAxEJ,WAyEM/J,KAAKyJ,UAAW,GAGlBzH,aA5EJ,WA6EMhC,KAAKyJ,UAAW,KAIpBnC,MAAO,CACLtG,kBADJ,WAEUhB,KAAK0C,cAAgB1C,KAAKgB,oBACG,UAA3BhB,KAAKgB,kBACPhB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,cACNC,OAAQ,CACNZ,KAAM5C,KAAKwB,aAEb0I,MAAO,CACL3I,UAAWvB,KAAKuB,aAG9B,gCACUvB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,aACNC,OAAQ,CACNZ,KAAM5C,KAAKwB,aAEb0I,MAAO,CACL3I,UAAWvB,KAAKuB,aAG9B,gCACUvB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,YACNC,OAAQ,CACNZ,KAAM5C,KAAKwB,YACXqB,MAAO7C,KAAKyB,cAEdyI,MAAO,CACL3I,UAAWvB,KAAKuB,eAO1BF,WAtCJ,WAuCM,IAAN,0BACA,kBACUrB,KAAKwB,cAAgBoB,IACE,UAArB5C,KAAK0C,YACP1C,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,cACNC,OAAQ,CACNZ,KAAMA,GAERsH,MAAO,CACL3I,UAAWvB,KAAKuB,aAG9B,0BACUvB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,aACNC,OAAQ,CACNZ,KAAMA,GAERsH,MAAO,CACL3I,UAAWvB,KAAKuB,aAIpBvB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,YACNC,OAAQ,CACNZ,KAAMA,EACNC,MAAOsH,KAAKC,IAAI7F,OAAOvE,KAAKkB,aAAcO,IAE5CyI,MAAO,CACL3I,UAAWvB,KAAKuB,eAO1BL,YA7EJ,WA8EUlB,KAAKyB,eAAiB8C,OAAOvE,KAAKkB,cACpClB,KAAKgK,QAAQC,KAAK,CAChB1G,KAAM,YACNC,OAAQ,CACNZ,KAAM5C,KAAKwB,YACXqB,MAAO0B,OAAOvE,KAAKkB,cAErBgJ,MAAO,CACL3I,UAAWvB,KAAKuB,cAMxBA,UA5FJ,WA6FUvB,KAAK6B,cAAgB7B,KAAKuB,YAC5BvB,KAAKgK,QAAQC,KAAK,CAChBC,MAAO,CACL3I,UAAWvB,KAAKuB,aAGpBvB,KAAK6B,YAAc7B,KAAKuB,YAI5BV,WAvGJ,WAwGM,IAAN,6DACMwJ,aAAaC,QAAQ/H,EAAKvC,KAAKa,YAC/Bb,KAAKgK,QAAQC,KAAK,CAChBC,MAAO,CACLrJ,WAAYb,KAAKa,eAKvBiI,kBAjHJ,WAiHA,WACM9I,KAAKmC,WAAY,EACjBnC,KAAKuG,WAAU,WACb,EAAR,YACQ,EAAR,iBAIIN,eAzHJ,WAyHA,WACMjG,KAAKmC,WAAY,EACjBnC,KAAKuG,WAAU,WACb,EAAR,YACQ,EAAR,iBAIIgB,OAjIJ,WAkIMvH,KAAK0J,eC7X6V,ICQpW,G,UAAY,eACd,EACA5J,EACAmC,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf,yBAAikB,EAAG,G","file":"js/chunk-089a0c74.d06eb2ca.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=style&index=0&id=b0f1b008&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=style&index=0&id=b0f1b008&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=style&index=0&id=5ef21a06&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=style&index=0&id=5ef21a06&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=style&index=0&id=0d0c4364&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=style&index=0&id=0d0c4364&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"flexrow filters\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('combobox-task-type',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.type_label'),\"task-type-list\":_vm.shotTaskTypes},model:{value:(_vm.taskTypeId),callback:function ($$v) {_vm.taskTypeId=$$v},expression:\"taskTypeId\"}})],1),_c('div',{staticClass:\"flexrow-item\"},[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.detail_label'),\"options\":_vm.detailLevelOptions},model:{value:(_vm.detailLevelString),callback:function ($$v) {_vm.detailLevelString=$$v},expression:\"detailLevelString\"}})],1),(_vm.detailLevelString === 'day')?_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.month_label'),\"options\":_vm.monthOptions},model:{value:(_vm.monthString),callback:function ($$v) {_vm.monthString=$$v},expression:\"monthString\"}}):_vm._e(),_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.year_label'),\"options\":_vm.yearOptions},model:{value:(_vm.yearString),callback:function ($$v) {_vm.yearString=$$v},expression:\"yearString\"}}),_c('div',{staticClass:\"flexrow-item\"},[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.count_label'),\"options\":_vm.countModeOptions},model:{value:(_vm.countMode),callback:function ($$v) {_vm.countMode=$$v},expression:\"countMode\"}})],1)],1),_c('quota',{attrs:{\"taskTypeId\":_vm.taskTypeId,\"detailLevel\":_vm.detailLevelString,\"year\":_vm.currentYear,\"month\":_vm.currentMonth,\"week\":_vm.currentWeek,\"day\":_vm.currentDay,\"currentPerson\":_vm.currentPerson,\"countMode\":_vm.currentMode}})],1),(_vm.showInfo)?_c('div',{staticClass:\"column side-column\"},[_c('people-quota-info',{attrs:{\"person\":_vm.currentPerson,\"year\":_vm.currentYear,\"month\":_vm.currentMonth,\"week\":_vm.currentWeek,\"day\":_vm.currentDay,\"is-loading\":false,\"is-loading-error\":false,\"shots\":_vm.personShots,\"count-mode\":_vm.countMode},on:{\"close\":_vm.hideSideInfo}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"quota\"},[(this.quotaLength > 0 && !_vm.isLoading)?_c('div',{staticClass:\"quota-fixed\"},[_c('div',{staticClass:\"quota-header quota-row\"},[_c('div',{staticClass:\"header-cell row-cell row-cell--name\"},[_vm._v(\" \"+_vm._s(_vm.$t('quota.name'))+\" \")]),_c('div',{staticClass:\"header-cell row-cell row-cell--average\"},[_vm._v(\" \"+_vm._s(_vm.$t('quota.average'))+\" \")])]),_vm._l((_vm.personIds),function(key){return _c('div',{key:'name-' + key,staticClass:\"quota-row\"},[_c('div',{staticClass:\"row-cell row-cell--name\"},[_c('people-avatar',{attrs:{\"size\":30,\"person\":_vm.personMap[key]}}),_vm._v(\" \"+_vm._s(_vm.personMap[key].full_name)+\" \")],1),(_vm.detailLevel === 'month')?_c('div',{staticClass:\"row-cell row-cell--average\"},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year }))+\" \")]):_vm._e(),(_vm.detailLevel === 'week')?_c('div',{staticClass:\"row-cell row-cell--average\"},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year }))+\" \")]):_vm._e(),(_vm.detailLevel === 'day')?_c('div',{staticClass:\"row-cell row-cell--average\"},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year, month: _vm.month }))+\" \")]):_vm._e()])})],2):_vm._e(),(this.quotaLength > 0 && !_vm.isLoading)?_c('div',{ref:\"body\",staticClass:\"quota-scrolled\"},[_c('div',{staticClass:\"quota-header quota-row\"},[_vm._l((_vm.monthRange),function(month){return (_vm.detailLevel === 'month')?_c('div',{key:'month-' + month,staticClass:\"header-cell row-cell\"},[_vm._v(\" \"+_vm._s(_vm.monthToString(month))+\" \")]):_vm._e()}),_vm._l((_vm.weekRange),function(week){return (_vm.detailLevel === 'week')?_c('div',{key:'week-' + week,staticClass:\"header-cell row-cell\"},[_vm._v(\" \"+_vm._s(week)+\" \")]):_vm._e()}),_vm._l((_vm.dayRange),function(day){return (_vm.detailLevel === 'day')?_c('div',{key:'day-' + day,staticClass:\"header-cell row-cell\"},[_vm._v(\" \"+_vm._s(day)+\" \")]):_vm._e()})],2),_vm._l((_vm.personIds),function(key){return _c('div',{key:key,staticClass:\"quota-row\"},[_vm._l((_vm.monthRange),function(month){return (_vm.detailLevel === 'month')?_c('div',{key:'month-' + month,class:{\n          'row-cell': true,\n          selected: _vm.isMonthSelected(key, _vm.year, month)\n        }},[(_vm.getQuota(key, {year: _vm.year, month: month}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n            name: 'quota-month-person',\n            params: {\n              person_id: key,\n              year: _vm.year,\n              month: month\n            }\n          })}},[_vm._v(\" \"+_vm._s(_vm.getQuota(key, {year: _vm.year, month: month}))+\" \")]):_c('span',[_vm._v(\"-\")])],1):_vm._e()}),_vm._l((_vm.weekRange),function(week){return (_vm.detailLevel === 'week')?_c('div',{key:'week-' + week,class:{\n          'row-cell': true,\n          selected: _vm.isWeekSelected(key, _vm.year, week)\n        }},[(_vm.getQuota(key, {year: _vm.year, week: week}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n            name: 'quota-week-person',\n            params: {\n              person_id: key,\n              year: _vm.year,\n              week: week\n            }\n          })}},[_vm._v(\" \"+_vm._s(_vm.getQuota(key, {year: _vm.year, week: week}))+\" \")]):_c('span',[_vm._v(\" - \")])],1):_vm._e()}),_vm._l((_vm.dayRange),function(day){return (_vm.detailLevel === 'day')?_c('div',{key:'day-' + day,class:{\n          'row-cell': true,\n          weekend: _vm.isWeekend(_vm.year, _vm.month, day),\n          selected: _vm.isDaySelected(key, _vm.year, _vm.month, day)\n        }},[(_vm.getQuota(key, {year: _vm.year, month: _vm.month, day: day}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n            name: 'quota-day-person',\n            params: {\n              person_id: key,\n              year: _vm.year,\n              month: _vm.month,\n              day: day\n            }\n          })}},[_vm._v(\" \"+_vm._s(_vm.getQuota(key, {year: _vm.year, month: _vm.month, day: day}))+\" \")]):_c('span',[_vm._v(\" - \")])],1):_vm._e()})],2)})],2):_vm._e(),(this.quotaLength === 0 && !_vm.isLoading)?_c('div',{staticClass:\"has-text-centered empty-quota\"},[_c('p',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.$t('quota.no_quota')))])]):_vm._e(),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"quota\">\n    <div\n      class=\"quota-fixed\"\n      v-if=\"this.quotaLength > 0 && !isLoading\"\n    >\n      <div class=\"quota-header quota-row\">\n        <div class=\"header-cell row-cell row-cell--name\">\n          {{ $t('quota.name') }}\n        </div>\n        <div class=\"header-cell row-cell row-cell--average\">\n          {{ $t('quota.average') }}\n        </div>\n      </div>\n      <div\n        class=\"quota-row\"\n        v-for=\"key in personIds\"\n        :key=\"'name-' + key\"\n      >\n        <div class=\"row-cell row-cell--name\">\n          <people-avatar :size=\"30\" :person=\"personMap[key]\"/>\n          {{ personMap[key].full_name }}\n        </div>\n        <div\n          class=\"row-cell row-cell--average\"\n          v-if=\"detailLevel === 'month'\"\n        >\n          {{ getQuotaAverage(key, { year }) }}\n        </div>\n        <div\n          class=\"row-cell row-cell--average\"\n          v-if=\"detailLevel === 'week'\"\n        >\n          {{ getQuotaAverage(key, { year }) }}\n        </div>\n        <div\n          class=\"row-cell row-cell--average\"\n          v-if=\"detailLevel === 'day'\"\n        >\n          {{ getQuotaAverage(key, { year, month }) }}\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"quota-scrolled\"\n      ref=\"body\"\n      v-if=\"this.quotaLength > 0 && !isLoading\"\n    >\n      <div class=\"quota-header quota-row\">\n        <div\n          class=\"header-cell row-cell\"\n          :key=\"'month-' + month\"\n          v-for=\"month in monthRange\"\n          v-if=\"detailLevel === 'month'\"\n        >\n          {{ monthToString(month) }}\n        </div>\n        <div\n          class=\"header-cell row-cell\"\n          :key=\"'week-' + week\"\n          v-for=\"week in weekRange\"\n          v-if=\"detailLevel === 'week'\"\n        >\n          {{ week }}\n        </div>\n\n        <div\n          class=\"header-cell row-cell\"\n          :key=\"'day-' + day\"\n          v-for=\"day in dayRange\"\n          v-if=\"detailLevel === 'day'\"\n        >\n          {{ day }}\n        </div>\n      </div>\n      <div\n        class=\"quota-row\"\n        v-for=\"key in personIds\"\n        :key=\"key\"\n      >\n        <div\n          :class=\"{\n            'row-cell': true,\n            selected: isMonthSelected(key, year, month)\n          }\"\n          :key=\"'month-' + month\"\n          v-for=\"month in monthRange\"\n          v-if=\"detailLevel === 'month'\"\n        >\n          <router-link\n            class=\"quota-button\"\n            :to=\"episodifyRoute({\n              name: 'quota-month-person',\n              params: {\n                person_id: key,\n                year: year,\n                month: month\n              }\n            })\"\n            v-if=\"getQuota(key, {year, month})\"\n          >\n            {{ getQuota(key, {year, month}) }}\n          </router-link>\n          <span v-else>-</span>\n        </div>\n\n        <div\n          :class=\"{\n            'row-cell': true,\n            selected: isWeekSelected(key, year, week)\n          }\"\n          :key=\"'week-' + week\"\n          v-for=\"week in weekRange\"\n          v-if=\"detailLevel === 'week'\"\n        >\n          <router-link\n            class=\"quota-button\"\n            :to=\"episodifyRoute({\n              name: 'quota-week-person',\n              params: {\n                person_id: key,\n                year: year,\n                week: week\n              }\n            })\"\n            v-if=\"getQuota(key, {year, week})\"\n          >\n            {{ getQuota(key, {year, week}) }}\n          </router-link>\n          <span v-else>\n          -\n          </span>\n        </div>\n\n        <div\n          :class=\"{\n            'row-cell': true,\n            weekend: isWeekend(year, month, day),\n            selected: isDaySelected(key, year, month, day)\n          }\"\n          :key=\"'day-' + day\"\n          v-for=\"day in dayRange\"\n          v-if=\"detailLevel === 'day'\"\n        >\n          <router-link\n            class=\"quota-button\"\n            :to=\"episodifyRoute({\n              name: 'quota-day-person',\n              params: {\n                person_id: key,\n                year: year,\n                month: month,\n                day: day\n              }\n            })\"\n            v-if=\"getQuota(key, {year, month, day})\"\n          >\n            {{ getQuota(key, {year, month, day}) }}\n          </router-link>\n          <span v-else>\n          -\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"has-text-centered empty-quota\"\n      v-if=\"this.quotaLength === 0 && !isLoading\"\n    >\n      <p class=\"info\">{{ $t('quota.no_quota') }}</p>\n    </div>\n\n    <table-info\n      :is-loading=\"isLoading\"\n      :is-error=\"isError\"\n    />\n  </div>\n</template>\n\n<script>\n\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\nimport { episodifyRoute } from '../../../lib/path'\nimport PeopleAvatar from '../../widgets/PeopleAvatar'\nimport TableInfo from '../../widgets/TableInfo'\nimport {\n  monthToString,\n  getMonthRange,\n  getWeekRange,\n  getDayRange\n} from '../../../lib/time'\n\nexport default {\n  name: 'quota',\n\n  components: {\n    PeopleAvatar,\n    TableInfo\n  },\n\n  props: {\n    taskTypeId: {\n      type: String,\n      required: true\n    },\n    detailLevel: {\n      type: String,\n      default: 'day',\n      required: true\n    },\n    countMode: {\n      type: String,\n      default: 'frames',\n      required: true\n    },\n    year: {\n      type: Number,\n      default: 0\n    },\n    month: {\n      type: Number,\n      default: 0\n    },\n    week: {\n      type: Number,\n      default: 0\n    },\n    day: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  data () {\n    return {\n      currentMonth: moment().month() + 1,\n      currentYear: moment().year(),\n      currentWeek: moment().week(),\n      detailsTitle: '',\n      detailsMap: {},\n      isPanelShown: false,\n      isLoading: true,\n      isError: false,\n      quotaMap: {},\n      quotaLength: 0,\n      selected: undefined\n    }\n  },\n\n  mounted () {\n    if (Object.keys(this.shotMap).length < 2) {\n      setTimeout(() => {\n        this.loadShots((err) => {\n          setTimeout(() => {\n            this.isLoading = false\n          }, 200)\n          if (!err) {\n            this.loadData()\n          }\n        })\n      }, 100)\n    } else {\n      if (!this.isShotsLoading) this.isLoading = false\n      this.loadData()\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'isShotsLoading',\n      'shotMap',\n      'personMap'\n    ]),\n\n    monthRange () {\n      return getMonthRange(this.year, this.currentYear, this.currentMonth)\n    },\n\n    dayRange () {\n      return getDayRange(\n        this.year,\n        this.month,\n        this.currentYear,\n        this.currentMonth\n      )\n    },\n\n    weekRange () {\n      return getWeekRange(this.year, this.currentYear, this.currentWeek)\n    },\n\n    personIds () {\n      const personIds = Object.keys(this.quotaMap)\n      return personIds.sort((a, b) => {\n        const personAName = this.personMap[a].full_name\n        const personBName = this.personMap[b].full_name\n        return personAName.localeCompare(personBName)\n      })\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'loadShots',\n      'computeQuota',\n      'getPeriodDetails'\n    ]),\n\n    episodifyRoute (route) {\n      if (this.currentEpisode) {\n        episodifyRoute(route, this.currentEpisode.id)\n      }\n      return route\n    },\n\n    isWeekend (year, month, day) {\n      let date = moment(`${year}-${month}-${day}`)\n      if (day < 10) date = moment(`${year}-${month}-0${day}`)\n      return [0, 6].includes(date.day())\n    },\n\n    loadData () {\n      if (this.taskTypeId) {\n        this.computeQuota({\n          taskTypeId: this.taskTypeId,\n          detailLevel: this.detailLevel,\n          countMode: this.countMode\n        })\n          .then(quotas => {\n            this.quotaMap = quotas\n            this.isLoading = false\n            this.quotaLength = Object.keys(this.quotaMap).length\n          })\n      }\n    },\n\n    loadDetails (personId, dateString) {\n      this.loadShots((err) => {\n        this.isLoading = true\n        if (err) {\n          console.error(err)\n        } else {\n          if (this.taskTypeId) {\n            this.getPeriodDetails({\n              taskTypeId: this.taskTypeId,\n              detailLevel: this.detailLevel,\n              personId,\n              dateString\n            })\n              .then(shots => {\n                this.detailsMap = shots\n                this.isLoading = false\n              })\n          }\n        }\n      })\n    },\n    monthToString,\n\n    dateDigit (date) {\n      return date.toString().padStart(2, '0')\n    },\n\n    getQuota (personId, opt = {}) {\n      if (opt.day) {\n        const yearKey =\n          `${opt.year}-${this.dateDigit(opt.month)}-${this.dateDigit(opt.day)}`\n        return this.quotaMap[personId][yearKey]\n      } else if (opt.week) {\n        const weekKey = `${opt.year}-${opt.week}`\n        return this.quotaMap[personId][weekKey]\n      } else {\n        const dayKey = `${opt.year}-${this.dateDigit(opt.month)}`\n        return this.quotaMap[personId][dayKey]\n      }\n    },\n\n    getQuotaAverage (personId, opt = {}) {\n      let average\n      if (opt.month) {\n        const monthKey = opt.year + '-' + this.dateDigit(opt.month)\n        average = this.quotaMap[personId].average[monthKey]\n      } else if (opt.week) {\n        const weekKey = `${opt.year}-${opt.week}`\n        average = this.quotaMap[personId].average[weekKey]\n      } else if (this.quotaMap[personId].average) {\n        average = this.quotaMap[personId].average[opt.year]\n      }\n      return average ? average.toFixed(2) : '-'\n    },\n\n    isDaySelected (personId, year, month, day) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        this.$route.params.year === year &&\n        this.$route.params.month === month &&\n        this.$route.params.day === day\n      )\n    },\n\n    isWeekSelected (personId, year, week) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        this.$route.params.year === year &&\n        this.$route.params.week === week\n      )\n    },\n\n    isMonthSelected (personId, year, month) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        this.$route.params.year === year &&\n        this.$route.params.month === month\n      )\n    }\n  },\n\n  watch: {\n    taskTypeId () {\n      if (this.taskTypeId) {\n        this.loadData()\n      }\n    },\n\n    detailLevel () {\n      this.loadData()\n    },\n\n    countMode () {\n      this.loadData()\n    },\n\n    shotMap () {\n      this.loadData()\n    },\n\n    $route () {\n      const els = document.getElementsByClassName('selected')\n      if (els.length === 0) { // selected element is not visible\n        setTimeout(() => {\n          this.$refs.body.scrollLeft += 380\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .dark {\n    .quota {\n      color: $white;\n    }\n    .quota-panel {\n      border-left-color: $dark-grey-light;\n    }\n    .row-cell {\n      border-bottom-color: $dark-grey-light;\n    }\n    .quota-row:nth-child(odd):not(.quota-header) .row-cell {\n      background-color: $dark-grey-lightmore;\n    }\n    .row-cell.weekend,\n    .quota-row:nth-child(odd):not(.quota-header) .row-cell.weekend {\n      background-color: $dark-grey;\n    }\n   .quota-button:hover {\n      color: #333;\n    }\n  }\n\n  .quota {\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n    max-width: 100%;\n    color: $dark-grey;\n  }\n\n  .quota-fixed {\n    display: flex;\n    flex-direction: column;\n    flex: 0 0 auto;\n  }\n\n  .quota-scrolled {\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    overflow: hidden;\n    overflow-x: auto;\n  }\n\n  .quota-panel {\n    padding: 1rem;\n    border-left: 1px solid $light-grey-light;\n  }\n\n  .quota-row {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n  }\n\n  .row-cell {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    width: 4rem;\n    height: 4rem;\n    max-height: 4rem;\n    padding: 1rem;\n    border-bottom: 1px solid $light-grey-light;\n    flex: 0 0 auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .header-cell {\n    height: auto;\n    max-height: auto;\n  }\n\n  .quota-row:nth-child(odd):not(.quota-header) .row-cell {\n    background-color: $white-grey-light;\n  }\n\n  .quota-row:last-child .row-cell {\n    border: 0;\n  }\n\n  .header-cell {\n    font-weight: bold;\n    font-size: 0.9em;\n    color: $grey-strong;\n    padding: 0.5rem;\n  }\n\n  .row-cell--name {\n    width: 12rem;\n    justify-content: flex-start;\n    .avatar {\n      margin-right: .5rem;\n    }\n  }\n\n  .row-cell--weekly {\n    width: 10rem;\n  }\n\n  .row-cell--average {\n    width: 8rem;\n  }\n\n  .quota-button {\n    border-radius: .5rem;\n    padding: .5rem;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    color: inherit;\n    font-size: inherit;\n    &:hover,\n    &:focus,\n    &.is-selected {\n      background-color: $dark-grey-lightest;\n    }\n  }\n\n  .details {\n    min-width: 14rem;\n    td, th {\n      color: $dark-grey;\n      font-size: .8rem;\n      padding: .25rem;\n      text-align: center;\n      &:first-child {\n        text-align: left;\n      }\n    }\n    tr {\n      border-bottom: 1px solid $light-grey-light;\n    }\n    tbody {\n      tr:nth-child(even) {\n        background-color: $white-grey-light;\n      }\n    }\n  }\n\n  .details-title {\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin-bottom: 1.5rem;\n  }\n\n  .empty-quota {\n    width: 100%;\n  }\n\n  .selected .quota-button {\n    background: $purple;\n    color: #333;\n  }\n\n  .quota-button:hover {\n    background: #BBEEBB;\n  }\n\n  .row-cell.weekend,\n  .quota-row:nth-child(odd):not(.quota-header) .row-cell.weekend {\n    background-color: $white-grey;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Quota.vue?vue&type=template&id=0d0c4364&scoped=true&\"\nimport script from \"./Quota.vue?vue&type=script&lang=js&\"\nexport * from \"./Quota.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Quota.vue?vue&type=style&index=0&id=0d0c4364&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d0c4364\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"people-timesheet-info\"},[_c('div',{staticClass:\"close\"},[_c('router-link',{staticClass:\"close-button\",attrs:{\"to\":_vm.closeRoute}},[_c('x-icon')],1)],1),_c('div',{staticClass:\"flexrow\"},[_c('people-avatar',{staticClass:\"flexrow-item\",attrs:{\"person\":_vm.person,\"no-cache\":true}}),_c('page-title',{staticClass:\"flexrow-item\",attrs:{\"text\":_vm.person.full_name}})],1),(_vm.isMonthInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" \"+_vm._s(_vm.monthString)+\" \"+_vm._s(_vm.year)+\" \")]):(_vm.isWeekInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" week \"+_vm._s(_vm.week)+\", \"+_vm._s(_vm.startDay)+\" - \"+_vm._s(_vm.endDay)+\" \"+_vm._s(_vm.weekMonth)+\" \"+_vm._s(_vm.year)+\" \")]):(_vm.isDayInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" \"+_vm._s(_vm.day)+\" \"+_vm._s(_vm.monthString)+\" \"+_vm._s(_vm.year)+\" \")]):_vm._e(),_c('quota-shot-list',{staticClass:\"time-spent-list\",attrs:{\"count-mode\":_vm.countMode,\"shots\":_vm.shots,\"is-loading\":_vm.isLoading,\"is-error\":_vm.isLoadingError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[(!_vm.isLoading)?_c('table',{staticClass:\"details table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('quota.details_name')))]),_c('th',[_vm._v(\" \"+_vm._s(this.countMode === 'seconds' ? _vm.$t('quota.details_seconds') : _vm.$t('quota.details_frames'))+\" \")])])]),_c('tbody',_vm._l((_vm.shots),function(shot){return _c('tr',{key:(\"shot-quota-\" + (shot.id))},[_c('td',[_vm._v(_vm._s(shot.full_name))]),_c('td',[_vm._v(_vm._s(_vm.getQuota(shot)))])])}),0)]):_vm._e(),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isLoadingError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"data-list\">\n  <table class=\"details table\" v-if=\"!isLoading\">\n    <thead>\n      <tr>\n        <th>{{ $t('quota.details_name') }}</th>\n        <th>\n        {{\n          this.countMode === 'seconds'\n            ? $t('quota.details_seconds')\n            : $t('quota.details_frames')\n        }}\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        :key=\"`shot-quota-${shot.id}`\"\n        v-for=\"shot in shots\"\n      >\n        <td>{{ shot.full_name }}</td>\n        <td>{{ getQuota(shot) }}</td>\n      </tr>\n    </tbody>\n  </table>\n\n  <table-info\n    :is-loading=\"isLoading\"\n    :is-error=\"isLoadingError\"\n  />\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { frameToSeconds } from '../../lib/video'\nimport TableInfo from '../widgets/TableInfo'\n\nexport default {\n  name: 'quota-shot-list',\n\n  components: {\n    TableInfo\n  },\n\n  data () {\n    return {\n      projectNames: {}\n    }\n  },\n\n  props: {\n    shots: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingError: {\n      type: Boolean,\n      default: false\n    },\n    countMode: {\n      type: String,\n      default: 'frames'\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'lastProductionScreen',\n      'taskTypeMap'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    getQuota (shot) {\n      if (this.countMode === 'seconds') {\n        return frameToSeconds(shot.nb_frames, this.currentProduction, shot)\n      } else {\n        return shot.nb_frames\n      }\n    }\n  },\n\n  watch: {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  header tr:hover {\n    background: transparent;\n  }\n\n  .table {\n    thead,\n    tbody tr:nth-child(odd) {\n      color: $white-grey;\n      background: #36393F;\n    }\n\n    tbody tr:nth-child(even) {\n      color: $white-grey;\n      background: #46494F;\n    }\n\n    thead th,\n    thead:hover {\n      color: $white-grey;\n      background: #36393F;\n      border-color: #666666;\n    }\n\n    tbody td {\n      border-color: #25282E;\n    }\n\n    tbody tr:hover {\n      color: $white-grey;\n      background: #5E6169;\n    }\n  }\n}\n\ntbody {\n  tr:nth-child(even) {\n    background: #F6F6F6;\n  }\n\n  tr:hover {\n    background: $light-green-lightest;\n  }\n}\n\n.name {\n  width: 300px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuotaShotList.vue?vue&type=template&id=b0f1b008&scoped=true&\"\nimport script from \"./QuotaShotList.vue?vue&type=script&lang=js&\"\nexport * from \"./QuotaShotList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuotaShotList.vue?vue&type=style&index=0&id=b0f1b008&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0f1b008\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"people-timesheet-info\">\n  <div class=\"close\">\n    <router-link class=\"close-button\" :to=\"closeRoute\">\n      <x-icon />\n    </router-link>\n  </div>\n\n  <div class=\"flexrow\">\n    <people-avatar class=\"flexrow-item\" :person=\"person\" :no-cache=true />\n    <page-title class=\"flexrow-item\" :text=\"person.full_name\" />\n  </div>\n  <div\n    class=\"info-date\"\n    v-if=\"isMonthInfo\"\n  >\n    {{ monthString }} {{ year }}\n  </div>\n\n  <div\n    class=\"info-date\"\n    v-else-if=\"isWeekInfo\"\n  >\n    week {{ week }}, {{ startDay }} - {{ endDay }} {{ weekMonth }} {{ year }}\n  </div>\n\n  <div\n    class=\"info-date\"\n    v-else-if=\"isDayInfo\"\n  >\n    {{ day }} {{ monthString }} {{ year }}\n  </div>\n\n  <quota-shot-list\n    class=\"time-spent-list\"\n    :count-mode=\"countMode\"\n    :shots=\"shots\"\n    :is-loading=\"isLoading\"\n    :is-error=\"isLoadingError\"\n  />\n</div>\n</template>\n\n<script>\nimport moment from 'moment-timezone'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { XIcon } from 'vue-feather-icons'\nimport PageTitle from '../widgets/PageTitle'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\nimport QuotaShotList from '../lists/QuotaShotList'\nimport { monthToString } from '../../lib/time'\n\nexport default {\n  name: 'shot-quota-info',\n\n  components: {\n    XIcon,\n    PageTitle,\n    PeopleAvatar,\n    QuotaShotList\n  },\n\n  props: {\n    person: {\n      type: Object,\n      default: () => {}\n    },\n    year: {\n      type: Number,\n      default: 0\n    },\n    month: {\n      type: Number,\n      default: 0\n    },\n    week: {\n      type: Number,\n      default: 0\n    },\n    day: {\n      type: Number,\n      default: 0\n    },\n    countMode: {\n      type: String,\n      default: 'frames'\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingError: {\n      type: Boolean,\n      default: false\n    },\n    shots: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction'\n    ]),\n\n    startDay () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .date()\n    },\n\n    endDay () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .add('days', 6)\n        .date()\n    },\n\n    weekMonth () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .format('MMM')\n    },\n\n    monthString () {\n      return monthToString(this.month)\n    },\n\n    isMonthInfo () {\n      return this.$route.path.indexOf('month') > 0\n    },\n\n    isWeekInfo () {\n      return this.$route.path.indexOf('week') > 0\n    },\n\n    isDayInfo () {\n      return this.$route.path.indexOf('day') > 0\n    },\n\n    closeRoute () {\n      if (!this.currentProduction) return {}\n      let route = {\n        name: 'quota',\n        production_id: this.currentProduction.id\n      }\n      if (this.isMonthInfo) {\n        route = {\n          name: 'quota-month',\n          params: {\n            year: this.year\n          }\n        }\n      } else if (this.isWeekInfo) {\n        route = {\n          name: 'quota-week',\n          params: {\n            year: this.year\n          }\n        }\n      } else if (this.isDayInfo) {\n        route = {\n          name: 'quota-day',\n          params: {\n            year: this.year,\n            month: this.month\n          }\n        }\n      }\n      if (this.currentEpisode) {\n        route.name = `episode-${route.name}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    onCloseClicked () {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .close-button:hover {\n  background: $dark-grey-lightest;\n}\n\n.data-list {\n  padding-bottom: 5em;\n}\n\n.people-timesheet-info {\n  padding: 1em;\n}\n\n.info-date {\n  font-size: 1.5em;\n  margin-top: 1em;\n  text-transform: capitalize;\n}\n\n.close {\n  text-align: right;\n}\n\n.close-button {\n  cursor: pointer;\n  display: inline-block;\n  text-align: center;\n  padding-top: 3px;\n  width: 30px;\n  height: 30px;\n}\n\n.close-button:hover {\n  display: inline-block;\n  background: $white-grey;\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeopleQuotaInfo.vue?vue&type=template&id=5ef21a06&scoped=true&\"\nimport script from \"./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PeopleQuotaInfo.vue?vue&type=style&index=0&id=5ef21a06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef21a06\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  class=\"columns fixed-page\"\n>\n  <div\n    class=\"column main-column\"\n  >\n    <div class=\"flexrow filters\">\n      <div class=\"flexrow-item\">\n        <combobox-task-type\n          class=\"flexrow-item\"\n          :label=\"$t('quota.type_label')\"\n          :task-type-list=\"shotTaskTypes\"\n          v-model=\"taskTypeId\"\n        />\n      </div>\n      <div class=\"flexrow-item\">\n        <combobox\n          class=\"flexrow-item\"\n          :label=\"$t('quota.detail_label')\"\n          :options=\"detailLevelOptions\"\n          v-model=\"detailLevelString\"\n        />\n      </div>\n\n      <combobox\n        class=\"flexrow-item\"\n        :label=\"$t('quota.month_label')\"\n        :options=\"monthOptions\"\n        v-model=\"monthString\"\n        v-if=\"detailLevelString === 'day'\"\n      />\n\n      <combobox\n        class=\"flexrow-item\"\n        :label=\"$t('quota.year_label')\"\n        :options=\"yearOptions\"\n        v-model=\"yearString\"\n      />\n\n      <div class=\"flexrow-item\">\n        <combobox\n          class=\"flexrow-item\"\n          :label=\"$t('quota.count_label')\"\n          :options=\"countModeOptions\"\n          v-model=\"countMode\"\n        />\n      </div>\n    </div>\n\n    <quota\n      :taskTypeId=\"taskTypeId\"\n      :detailLevel=\"detailLevelString\"\n      :year=\"currentYear\"\n      :month=\"currentMonth\"\n      :week=\"currentWeek\"\n      :day=\"currentDay\"\n      :currentPerson=\"currentPerson\"\n      :countMode=\"currentMode\"\n    />\n  </div>\n  <div\n    class=\"column side-column\"\n    v-if=\"showInfo\"\n  >\n    <people-quota-info\n      :person=\"currentPerson\"\n      :year=\"currentYear\"\n      :month=\"currentMonth\"\n      :week=\"currentWeek\"\n      :day=\"currentDay\"\n      :is-loading=\"false\"\n      :is-loading-error=\"false\"\n      :shots=\"personShots\"\n      :count-mode=\"countMode\"\n      @close=\"hideSideInfo\"\n    />\n  </div>\n</div>\n</template>\n\n<script>\nimport moment from 'moment-timezone'\nimport { monthToString, range } from '../../lib/time'\nimport { mapGetters, mapActions } from 'vuex'\nimport Combobox from '../widgets/Combobox'\nimport ComboboxTaskType from '../widgets/ComboboxTaskType'\nimport Quota from './quota/Quota'\nimport PeopleQuotaInfo from '../sides/PeopleQuotaInfo'\n\nexport default {\n  name: 'production-quota',\n  components: {\n    Combobox,\n    ComboboxTaskType,\n    PeopleQuotaInfo,\n    Quota\n  },\n\n  data () {\n    return {\n      taskTypeId: '',\n      countMode: 'frames',\n      countModeOptions: [\n        { label: 'Frames', value: 'frames' },\n        { label: 'Seconds', value: 'seconds' }\n      ],\n      detailLevelOptions: [\n        { label: 'Day', value: 'day' },\n        { label: 'Week', value: 'week' },\n        { label: 'Month', value: 'month' }\n      ],\n      currentYear: moment().year(),\n      currentMonth: moment().month() + 1,\n      currentWeek: moment().week(),\n      currentDay: moment().date(),\n      currentPerson: this.getCurrentPerson(),\n      currentMode: 'frames',\n\n      detailLevelString: 'day',\n      detailLevel: 'day',\n\n      isLoading: false,\n      isLoadingError: false,\n      monthString: `${moment().month() + 1}`,\n\n      personShots: [],\n      showInfo: false,\n      yearString: `${moment().year()}`\n    }\n  },\n\n  mounted () {\n    this.loadRoute()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'shotTaskTypes',\n      'personMap'\n    ]),\n\n    yearOptions () {\n      const year = 2018\n      const currentYear = moment().year()\n      return range(year, currentYear)\n        .map(year => ({\n          label: year,\n          value: `${year}`\n        }))\n    },\n\n    monthOptions () {\n      const currentYear = `${moment().year()}`\n      const month = 1\n      const currentMonth = moment().month() + 1\n      let monthRange = range(month, 12)\n      if (currentYear === this.yearString) {\n        monthRange = range(month, currentMonth)\n      }\n\n      return monthRange.map(month => ({\n        label: monthToString(month),\n        value: `${month}`\n      }))\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'computeQuota',\n      'getPersonShots',\n      'loadShots'\n    ]),\n\n    getCurrentPerson () {\n      const personId = this.$route.params.person_id\n      if (personId && this.personMap) {\n        return this.personMap[personId]\n      } else {\n        return {}\n      }\n    },\n\n    loadRoute () {\n      const { month, year, week, day } = this.$route.params\n      const { countMode, taskTypeId } = this.$route.query\n\n      if (this.$route.path.indexOf('week') > 0) this.detailLevel = 'week'\n      if (this.$route.path.indexOf('month') > 0) this.detailLevel = 'month'\n      if (this.$route.path.indexOf('day') > 0) this.detailLevel = 'day'\n\n      this.currentPerson = this.getCurrentPerson()\n      this.detailLevelString = this.detailLevel\n      if (countMode) {\n        this.countMode = countMode\n        this.currentMode = this.countMode\n      }\n      if (taskTypeId) {\n        this.taskTypeId = taskTypeId\n      } else {\n        const key = `quota:${this.currentProduction.id}:task-type-id`\n        this.taskTypeId =\n          localStorage.getItem(key) || this.shotTaskTypes[0].id\n      }\n      if (month) {\n        this.currentMonth = Number(month)\n        this.monthString = `${month}`\n      }\n      if (year) {\n        this.currentYear = Number(year)\n        this.yearString = `${year}`\n      }\n      if (week) {\n        this.currentWeek = Number(week)\n        this.weekString = `${week}`\n      }\n      if (day) {\n        this.currentDay = Number(day)\n      }\n\n      if (this.$route.path.indexOf('person') > 0) {\n        this.getPersonShots({\n          personId: this.currentPerson.id,\n          detailLevel: this.detailLevel,\n          taskTypeId: this.taskTypeId,\n          year,\n          month,\n          week,\n          day\n        })\n          .then(shots => {\n            this.personShots = shots\n            this.showSideInfo()\n          })\n      } else {\n        this.hideSideInfo()\n      }\n    },\n\n    showSideInfo () {\n      this.showInfo = true\n    },\n\n    hideSideInfo () {\n      this.showInfo = false\n    }\n  },\n\n  watch: {\n    detailLevelString () {\n      if (this.detailLevel !== this.detailLevelString) {\n        if (this.detailLevelString === 'month') {\n          this.$router.push({\n            name: 'quota-month',\n            params: {\n              year: this.currentYear\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        } else if (this.detailLevelString === 'week') {\n          this.$router.push({\n            name: 'quota-week',\n            params: {\n              year: this.currentYear\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        } else if (this.detailLevelString === 'day') {\n          this.$router.push({\n            name: 'quota-day',\n            params: {\n              year: this.currentYear,\n              month: this.currentMonth\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        }\n      }\n    },\n\n    yearString () {\n      const year = Number(this.yearString)\n      const currentMonth = moment().month() + 1\n      if (this.currentYear !== year) {\n        if (this.detailLevel === 'month') {\n          this.$router.push({\n            name: 'quota-month',\n            params: {\n              year: year\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        } else if (this.detailLevel === 'week') {\n          this.$router.push({\n            name: 'quota-week',\n            params: {\n              year: year\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        } else {\n          this.$router.push({\n            name: 'quota-day',\n            params: {\n              year: year,\n              month: Math.min(Number(this.monthString), currentMonth)\n            },\n            query: {\n              countMode: this.countMode\n            }\n          })\n        }\n      }\n    },\n\n    monthString () {\n      if (this.currentMonth !== Number(this.monthString)) {\n        this.$router.push({\n          name: 'quota-day',\n          params: {\n            year: this.currentYear,\n            month: Number(this.monthString)\n          },\n          query: {\n            countMode: this.countMode\n          }\n        })\n      }\n    },\n\n    countMode () {\n      if (this.currentMode !== this.countMode) {\n        this.$router.push({\n          query: {\n            countMode: this.countMode\n          }\n        })\n        this.currentMode = this.countMode\n      }\n    },\n\n    taskTypeId () {\n      const key = `quota:${this.currentProduction.id}:task-type-id`\n      localStorage.setItem(key, this.taskTypeId)\n      this.$router.push({\n        query: {\n          taskTypeId: this.taskTypeId\n        }\n      })\n    },\n\n    currentProduction () {\n      this.isLoading = true\n      this.loadShots(() => {\n        this.loadRoute()\n        this.isLoading = false\n      })\n    },\n\n    currentEpisode () {\n      this.isLoading = true\n      this.loadShots(() => {\n        this.loadRoute()\n        this.isLoading = false\n      })\n    },\n\n    $route () {\n      this.loadRoute()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .filters {\n    color: $white-grey;\n  }\n}\n\n.filters {\n  padding-bottom: 4rem;\n\n  .field {\n    padding-bottom: 0;\n    margin-bottom: 0;\n  }\n\n  .overall-man-days {\n    width: 120px;\n    font-size: 0.9em;\n    margin-right: 1em;\n  }\n}\n\n.fixed-page {\n  padding: 1em;\n  padding-top: 90px;\n  padding-left: 2em;\n}\n\n.main-column {\n  display: flex;\n  border: 0;\n  overflow: hidden;\n  flex-direction: column;\n}\n\n.zoom-level {\n  margin-top: -10px;\n}\n\n.side-column {\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionQuota.vue?vue&type=template&id=6e24cf3e&scoped=true&\"\nimport script from \"./ProductionQuota.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionQuota.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductionQuota.vue?vue&type=style&index=0&id=6e24cf3e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e24cf3e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=style&index=0&id=6e24cf3e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=style&index=0&id=6e24cf3e&lang=scss&scoped=true&\""],"sourceRoot":""}