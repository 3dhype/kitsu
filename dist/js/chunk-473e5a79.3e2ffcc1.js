(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-473e5a79"],{"49a1":function(t,e,o){"use strict";var i=o("eca3"),s=o.n(i);s.a},"4e82":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"productions page fixed-page"},[o("div",{staticClass:"level page-header"},[o("div",{staticClass:"level-left"},[o("page-title",{attrs:{text:t.$t("productions.title")}})],1),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item"},[o("button-link",{staticClass:"level-item",attrs:{text:t.$t("productions.new_production"),icon:"plus",path:"/productions/new"}})],1)])]),o("production-list",{attrs:{entries:t.productions,"is-loading":t.isProductionsLoading,"is-error":t.isProductionsLoadingError}}),o("edit-production-modal",{attrs:{active:t.modals.isNewDisplayed,"is-loading":t.editProduction.isLoading,"is-error":t.editProduction.isError,"cancel-route":"/productions","production-to-edit":t.productionToEdit},on:{fileselected:t.onProductionPictureSelected,confirm:t.confirmEditProduction}}),o("hard-delete-modal",{attrs:{active:t.modals.isDeleteDisplayed,"is-loading":t.deleteProduction.isLoading,"is-error":t.deleteProduction.isError,"cancel-route":{name:"productions"},text:t.deleteText(),"error-text":t.$t("productions.delete_error"),"lock-text":t.currentLockText},on:{confirm:t.confirmDeleteProduction}})],1)},s=[],r=(o("8e6e"),o("ac6a"),o("456d"),o("7f7f"),o("bd86")),n=o("2f62"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"data-list"},[o("div",{staticStyle:{overflow:"hidden"}},[o("table",{ref:"headerWrapper",staticClass:"table table-header"},[o("thead",[o("tr",[o("th",{staticClass:"project"},[t._v("Â ")]),o("th",{staticClass:"name"},[t._v(t._s(t.$t("productions.fields.name")))]),o("th",{staticClass:"type"},[t._v(t._s(t.$t("productions.fields.type")))]),o("th",{staticClass:"fps"},[t._v(t._s(t.$t("productions.fields.fps")))]),o("th",{staticClass:"ratio"},[t._v(t._s(t.$t("productions.fields.ratio")))]),o("th",{staticClass:"resolution"},[t._v(t._s(t.$t("productions.fields.resolution")))]),o("th",{staticClass:"actions"})])])])]),o("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),o("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onBodyScroll,expression:"onBodyScroll"}],staticClass:"table-body"},[o("table",{staticClass:"table splitted-table"},[o("tbody",[o("tr",{staticClass:"type-header"},[o("td",{attrs:{colspan:"30"}},[t._v("\n            "+t._s(t.$t("productions.status.open"))+"\n          ")])]),t._l(t.openProductions,(function(e){return o("tr",{key:e.id},[o("production-name-cell",{staticClass:"project",attrs:{"only-avatar":!0,entry:e,"last-production-screen":t.lastProductionScreen}}),o("production-name-cell",{staticClass:"name",attrs:{"with-avatar":!1,entry:e,"last-production-screen":t.lastProductionScreen}}),o("td",{staticClass:"type"},[t._v("\n            "+t._s(t.$t("productions.type."+(e.production_type||"short")))+"\n          ")]),o("td",{staticClass:"fps"},[t._v("\n            "+t._s(e.fps)+"\n          ")]),o("td",{staticClass:"ratio"},[t._v("\n            "+t._s(e.ratio)+"\n          ")]),o("td",{staticClass:"resolution"},[t._v("\n            "+t._s(e.resolution)+"\n          ")]),o("row-actions",{attrs:{"entry-id":e.id,"edit-route":{name:"edit-production",params:{production_edit_id:e.id}},"hide-delete":!0}})],1)}))],2)]),t.closedProductions.length>0?o("table",{staticClass:"table splitted-table"},[o("tbody",[o("tr",{staticClass:"type-header"},[o("td",{attrs:{colspan:"30"}},[t._v("\n            "+t._s(t.$t("productions.status.closed"))+"\n          ")])]),t._l(t.closedProductions,(function(e){return o("tr",{key:e.id},[o("production-name-cell",{staticClass:"project",attrs:{"only-avatar":!0,entry:e,"no-link":!0,"last-production-screen":t.lastProductionScreen}}),o("production-name-cell",{staticClass:"name",attrs:{"with-avatar":!1,entry:e,"no-link":!0,"last-production-screen":t.lastProductionScreen}}),o("td",{staticClass:"type"},[t._v("\n            "+t._s(t.$t("productions.type."+(e.production_type||"short")))+"\n          ")]),o("td",{staticClass:"fps"},[t._v("\n            "+t._s(e.fps)+"\n          ")]),o("td",{staticClass:"ratio"},[t._v("\n            "+t._s(e.ratio)+"\n          ")]),o("td",{staticClass:"resolution"},[t._v("\n            "+t._s(e.resolution)+"\n          ")]),o("row-actions",{attrs:{"entry-id":e.id,"edit-route":{name:"edit-production",params:{production_edit_id:e.id}},"delete-route":{name:"delete-production",params:{production_delete_id:e.id}}}})],1)}))],2)]):t._e()]),o("p",{staticClass:"has-text-centered nb-productions"},[t._v("\n    "+t._s(t.entries.length)+" "+t._s(t.$tc("productions.number",t.entries.length))+"\n  ")])],1)},c=[],d=o("09a4"),l=o("03b1"),u=o("e60b");function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(o,!0).forEach((function(e){Object(r["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h={name:"production-list",props:["entries","isLoading","isError"],data:function(){return{}},components:{ProductionNameCell:d["a"],RowActions:l["a"],TableInfo:u["a"]},computed:f({},Object(n["c"])(["openProductions","lastProductionScreen"]),{closedProductions:function(){return this.entries.filter((function(t){return"Closed"===t.project_status_name}))}}),methods:f({},Object(n["b"])([]),{getStatusLocale:function(t){var e={Active:"productions.status.open",Open:"productions.status.open",Closed:"productions.status.closed"};return e[t]},onBodyScroll:function(t,e){this.$refs.headerWrapper.style.left="-".concat(e.scrollLeft,"px")}})},v=h,m=(o("49a1"),o("2877")),y=Object(m["a"])(v,a,c,!1,null,"f5ef6a1e",null),P=y.exports,b=o("1d3d"),_=o("2c1a"),O=o("e211"),g=o("8d07");function D(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?D(o,!0).forEach((function(e){Object(r["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):D(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C={name:"productions",components:{ButtonLink:O["a"],HardDeleteModal:_["a"],EditProductionModal:b["a"],PageTitle:g["a"],ProductionList:P},data:function(){return{modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},productionToDelete:null,productionToEdit:null,choices:[]}},computed:w({},Object(n["c"])(["deleteProduction","editProduction","getProduction","isProductionsLoading","isProductionsLoadingError","productionAvatarFormData","productions"]),{currentLockText:function(){return this.productionToDelete?this.productionToDelete.name:""}}),created:function(){var t=this;this.loadProductions((function(e){e||t.handleModalsDisplay()}))},methods:w({},Object(n["b"])(["loadProductions","storeProductionPicture","uploadProductionAvatar"]),{confirmEditProduction:function(t){var e=this,o="newProduction",i=this.productionToEdit&&this.productionToEdit.id;this.productionToEdit&&this.productionToEdit.id&&(o="editProduction",t.id=this.productionToEdit.id),this.$store.dispatch(o,{data:t,callback:function(o){o||(i&&e.productionAvatarFormData?e.uploadProductionAvatar(t.id).then((function(){e.modals.isNewDisplayed=!1,e.$router.push("/productions")})):(e.modals.isNewDisplayed=!1,e.$router.push("/productions")))}})},confirmDeleteProduction:function(){var t=this;this.$store.dispatch("deleteProduction",{production:this.productionToDelete,callback:function(e){e||(t.modals.isDeleteDisplayed=!1)}})},deleteText:function(){var t=this.productionToDelete;return t?this.$t("productions.delete_text",{name:t.name}):""},handleModalsDisplay:function(){var t=this.$store.state.route.path;if(t.indexOf("new")>0)this.productionToEdit={},this.modals.isNewDisplayed=!0;else if(t.indexOf("edit")>0){var e=this.$store.state.route.params.production_edit_id;this.productionToEdit=this.getProduction(e),this.modals.isNewDisplayed=!0}else if(t.indexOf("delete")>0){var o=this.$store.state.route.params.production_delete_id;this.productionToDelete=this.getProduction(o),this.modals.isDeleteDisplayed=!0}else this.modals.isNewDisplayed=!1,this.modals.isDeleteDisplayed=!1},onProductionPictureSelected:function(t){this.storeProductionPicture(t)}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("productions.title")," - Kitsu")}}},j=C,$=Object(m["a"])(j,i,s,!1,null,"a3fda584",null);e["default"]=$.exports},eca3:function(t,e,o){}}]);
//# sourceMappingURL=chunk-473e5a79.3e2ffcc1.js.map