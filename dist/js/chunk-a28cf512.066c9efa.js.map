{"version":3,"sources":["webpack:///./src/components/pages/schedule/Schedule.vue?62e7","webpack:///./src/components/pages/ProductionSchedule.vue?db39","webpack:///./src/components/widgets/ComboboxNumber.vue?093d","webpack:///src/components/widgets/ComboboxNumber.vue","webpack:///./src/components/widgets/ComboboxNumber.vue?da14","webpack:///./src/components/widgets/ComboboxNumber.vue?d86d","webpack:///./src/components/pages/schedule/Schedule.vue?e62c","webpack:///./src/components/modals/EditMilestoneModal.vue?fd36","webpack:///src/components/modals/EditMilestoneModal.vue","webpack:///./src/components/modals/EditMilestoneModal.vue?121d","webpack:///./src/components/modals/EditMilestoneModal.vue","webpack:///src/components/pages/schedule/Schedule.vue","webpack:///./src/components/pages/schedule/Schedule.vue?29aa","webpack:///./src/components/pages/schedule/Schedule.vue?6dfe","webpack:///src/components/pages/ProductionSchedule.vue","webpack:///./src/components/pages/ProductionSchedule.vue?4158","webpack:///./src/components/pages/ProductionSchedule.vue?b69c","webpack:///./src/components/pages/ProductionSchedule.vue?b585","webpack:///./src/components/widgets/ComboboxNumber.vue?af49"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Schedule_vue_vue_type_style_index_0_id_99a1855c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Schedule_vue_vue_type_style_index_0_id_99a1855c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","wrapper-class","input-class","language","locale","disabled-dates","days","monday-first","format","model","value","callback","$$v","selectedStartDate","expression","selectedEndDate","directives","name","rawName","type","label","disabled","isCurrentUserAdmin","overallManDays","options","zoomOptions","zoomLevel","start-date","startDate","end-date","endDate","hierarchy","scheduleItems","zoom-level","is-loading","loading","schedule","is-error","errors","on","item-changed","saveScheduleItem","change-zoom","changeZoom","root-element-expanded","expandTaskTypeElement","task","currentTask","_e","staticRenderFns","ComboboxNumbervue_type_template_id_4e1af092_scoped_true_render","isSimple","ref","keyup","$event","indexOf","_k","keyCode","key","emitEnter","change","updateValue","_l","option","i","domProps","selected","getOptionLabel","length","class","select","ComboboxNumbervue_type_template_id_4e1af092_scoped_true_staticRenderFns","ComboboxNumbervue_type_script_lang_js_","props","default","String","Number","Array","localeKeyPrefix","Boolean","computed","methods","$emit","parseInt","$refs","toLowerCase","widgets_ComboboxNumbervue_type_script_lang_js_","component","Object","componentNormalizer","ComboboxNumber","Schedulevue_type_template_id_99a1855c_scoped_true_render","scheduleClass","mousedown","startBrowsingY","totalManDays","rootElement","id","style","entityLineStyle","click","expandRootElement","expanded","placeholder","input","target","composing","$set","childrenStyle","staticStyle","width","margin","childElement","j","childNameStyle","startBrowsingX","day","index","text","dayStyle","milestones","showEditMilestoneModal","_m","title","addMilestoneTitle","newMonth","monthText","dayClass","weekend","dayText","dayNumber","startBrowsing","mousewheel","values","milestone","date","milestoneLineStyle","timebarStyle","timebar-left-hand","moveTimebarLeftSide","moveTimebar","timebar-right-hand","moveTimebarRightSide","opacity","timebarChildStyle","active","modals","edit","milestone-to-edit","milestoneToEdit","confirm","confirmEditMilestone","cancel","hideEditMilestoneModal","remove-milestone","removeMilestone","Schedulevue_type_template_id_99a1855c_scoped_true_staticRenderFns","EditMilestoneModalvue_type_template_id_46a29dbc_scoped_true_render","modal","is-active","isEdit","enter","form","error-text","isLoading","is-disabled","isFormFilled","EditMilestoneModalvue_type_template_id_46a29dbc_scoped_true_staticRenderFns","EditMilestoneModalvue_type_script_lang_js_","mixins","base_modal","components","ButtonSimple","ModalFooter","TextField","isError","data","mounted","reset","objectSpread","vuex_esm","undefined","concat","watch","_this","$nextTick","nameField","focus","modals_EditMilestoneModalvue_type_script_lang_js_","EditMilestoneModal_component","EditMilestoneModal","Schedulevue_type_script_lang_js_","ChevronDownIcon","vue_feather_icons_es","ChevronRightIcon","Edit2Icon","Spinner","currentMilestoneDate","isBrowsingX","isBrowsingY","isChangeSize","moment_timezone_default","timelineDisplayedDaysIndex","required","resetScheduleSize","document","addEventListener","stopBrowsing","onMouseMove","window","destroyed","removeEventListener","body","cursor","cellWidth","daysAvailable","clone","add","dayDate","toDate","endDayDate","isoweekday","isoWeekday","monthday","month","nextDay","Date","setDate","getDate","newWeek","getMonth","includes","momentDay","push","displayedDays","filter","nbDisplayedDays","displayedDaysIndex","dayIndex","forEach","d","className","unselectable","timelinePositionStyle","reduce","acc","timeElement","manDays","man_days","entityList","timelineContent","timelineContentWrapper","timelineHeader","timelinePosition","height","offsetHeight","event","isChangeStartDate","changeStartDate","isChangeEndDate","changeEndDate","isChangeDates","changeDates","scrollScheduleLeft","scrollScheduleTop","updatePositionBarPosition","position","scrollLeft","clientX","Math","round","left","initialClientX","dayChange","ceil","startDateString","lastStartDate","endDateString","lastEndDate","startDateIndex","endDateIndex","currentIndex","newStartDate","newEndDate","currentElement","floor","previousLeft","newLeft","movementX","previousTop","scrollTop","newTop","movementY","isChangeEnd","businessDiff","first","endOf","last","startOf","diff","wfirst","wlast","businessDays","isBefore","arguments","day-name","new-week","new-month","min-width","max-width","background-color","color","getTimebarLeft","getTimebarWidth","background","startDiff","lengthDiff","expandChildElement","element","isOdd","level","colors","lightenColor","border-bottom","saveMilestone","then","catch","err","console","error","_this2","deleteMilestone","socket","schedule_Schedulevue_type_script_lang_js_","Schedule_component","Schedule","ProductionSchedulevue_type_script_lang_js_","Datepicker","vuejs_datepicker_esm","TaskInfo","user","dist_locale","loadData","loadScheduleItems","currentProduction","map","item","taskType","taskTypeMap","task_type_id","for_shots","priority","start_date","end_date","children","sorting","loadMilestones","wheelDelta","a","utc","convertScheduleItems","taskTypeElement","parameters","production","action","isTVShow","editProduction","metaInfo","currentEpisode","pages_ProductionSchedulevue_type_script_lang_js_","ProductionSchedule_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductionSchedule_vue_vue_type_style_index_0_id_ac9226d4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductionSchedule_vue_vue_type_style_index_0_id_ac9226d4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ComboboxNumber_vue_vue_type_style_index_0_id_4e1af092_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ComboboxNumber_vue_vue_type_style_index_0_id_4e1af092_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-a28cf512.066c9efa.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=style&index=0&id=99a1855c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=style&index=0&id=99a1855c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"flexrow project-dates\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('main.start_date'))+\"\\n        \")]),_c('datepicker',{attrs:{\"wrapper-class\":\"datepicker\",\"input-class\":\"date-input input\",\"language\":_vm.locale,\"disabled-dates\":{ days: [6, 0] },\"monday-first\":true,\"format\":\"d MMMM yyyy\"},model:{value:(_vm.selectedStartDate),callback:function ($$v) {_vm.selectedStartDate=$$v},expression:\"selectedStartDate\"}})],1),_c('div',{staticClass:\"flexrow-item field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('main.end_date'))+\"\\n        \")]),_c('datepicker',{attrs:{\"wrapper-class\":\"datepicker\",\"input-class\":\"date-input input\",\"language\":_vm.locale,\"disabled-dates\":{ days: [6, 0] },\"monday-first\":true,\"format\":\"d MMMM yyyy\"},model:{value:(_vm.selectedEndDate),callback:function ($$v) {_vm.selectedEndDate=$$v},expression:\"selectedEndDate\"}})],1),_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"flexrow-item overall-man-days\",attrs:{\"type\":\"number\",\"label\":_vm.$t('schedule.overall_man_days'),\"disabled\":!_vm.isCurrentUserAdmin},model:{value:(_vm.overallManDays),callback:function ($$v) {_vm.overallManDays=$$v},expression:\"overallManDays\"}}),_c('combobox-number',{staticClass:\"flexrow-item zoom-level\",attrs:{\"label\":_vm.$t('schedule.zoom_level'),\"options\":_vm.zoomOptions},model:{value:(_vm.zoomLevel),callback:function ($$v) {_vm.zoomLevel=$$v},expression:\"zoomLevel\"}})],1),_c('schedule',{attrs:{\"start-date\":_vm.startDate,\"end-date\":_vm.endDate,\"hierarchy\":_vm.scheduleItems,\"zoom-level\":_vm.zoomLevel,\"is-loading\":_vm.loading.schedule,\"is-error\":_vm.errors.schedule},on:{\"item-changed\":_vm.saveScheduleItem,\"change-zoom\":_vm.changeZoom,\"root-element-expanded\":_vm.expandTaskTypeElement}})],1),(_vm.currentTask)?_c('div',{staticClass:\"column side-column is-hidden-mobile hide-small-screen\"},[_c('task-info',{attrs:{\"task\":_vm.currentTask,\"is-loading\":false}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isSimple)?_c('div',{staticClass:\"field\"},[(_vm.label.length > 0)?_c('label',{staticClass:\"label\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]):_vm._e(),_c('p',{staticClass:\"control\"},[_c('span',{class:{\n        select: true,\n      }},[_c('select',{ref:\"select\",staticClass:\"select-input\",attrs:{\"disabled\":_vm.disabled},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.emitEnter()},\"change\":_vm.updateValue}},_vm._l((_vm.options),function(option,i){return _c('option',{key:i + '-' + option.label + '-' + option.value,domProps:{\"value\":option.value || option.label,\"selected\":_vm.value === option.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.getOptionLabel(option))+\"\\n        \")])}),0)])])]):_c('span',{staticClass:\"select\"},[_c('select',{ref:\"select\",staticClass:\"select-input\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.emitEnter()},\"change\":_vm.updateValue}},_vm._l((_vm.options),function(option,i){return _c('option',{key:i + '-' + option.label + '-' + option.value,domProps:{\"value\":option.value || option.label,\"selected\":_vm.value === option.value}},[_vm._v(\"\\n      \"+_vm._s(_vm.getOptionLabel(option))+\"\\n    \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"field\" v-if=\"!isSimple\">\n  <label class=\"label\" v-if=\"label.length > 0\">\n    {{ label }}\n  </label>\n  <p class=\"control\">\n    <span\n      :class=\"{\n        select: true,\n      }\"\n    >\n      <select\n        class=\"select-input\"\n        ref=\"select\"\n        :disabled=\"disabled\"\n        @keyup.enter=\"emitEnter()\"\n        @change=\"updateValue\"\n      >\n        <option\n          v-for=\"(option, i) in options\"\n          :key=\"i + '-' + option.label + '-' + option.value\"\n          :value=\"option.value || option.label\"\n          :selected=\"value === option.value\"\n        >\n          {{ getOptionLabel(option) }}\n        </option>\n      </select>\n    </span>\n  </p>\n</div>\n<span\n  class=\"select\"\n  v-else\n>\n  <select\n    class=\"select-input\"\n    ref=\"select\"\n    @keyup.enter=\"emitEnter()\"\n    @change=\"updateValue\"\n  >\n    <option\n      v-for=\"(option, i) in options\"\n      :key=\"i + '-' + option.label + '-' + option.value\"\n      :value=\"option.value || option.label\"\n      :selected=\"value === option.value\"\n    >\n      {{ getOptionLabel(option) }}\n    </option>\n  </select>\n</span>\n\n</template>\n\n<script>\nexport default {\n  name: 'combobox',\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    value: {\n      default: 0,\n      type: Number\n    },\n    options: {\n      default: () => [],\n      type: Array\n    },\n    localeKeyPrefix: {\n      default: '',\n      type: String\n    },\n    isSimple: {\n      default: false,\n      type: Boolean\n    },\n    disabled: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  computed: {\n  },\n\n  methods: {\n    updateValue () {\n      this.$emit('input', parseInt(this.$refs.select.value))\n    },\n    emitEnter () {\n      this.$emit('enter', parseInt(this.$refs.select.value))\n    },\n\n    getOptionLabel (option) {\n      if (this.localeKeyPrefix.length > 0) {\n        return this.$t(this.localeKeyPrefix + option.label.toLowerCase())\n      } else {\n        return option.label\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark select:disabled {\n  background: $dark-grey;\n  border-color: $dark-grey-strong;\n}\n\n.select-input {\n  height: 3em;\n}\n\n.select::after {\n  border: 1px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -2px;\n}\n\n.select.is-top::after {\n  border: 2px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -4px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComboboxNumber.vue?vue&type=template&id=4e1af092&scoped=true&\"\nimport script from \"./ComboboxNumber.vue?vue&type=script&lang=js&\"\nexport * from \"./ComboboxNumber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e1af092\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule-wrapper\"},[_c('div',{ref:\"schedule\",class:_vm.scheduleClass},[_c('div',{ref:\"entity-list\",staticClass:\"entities\",on:{\"mousedown\":_vm.startBrowsingY}},[_c('div',{staticClass:\"has-text-right total-man-days mr0\"},[_c('span',{staticClass:\"total-value\"},[_vm._v(_vm._s(_vm.totalManDays))]),_c('span',[_vm._v(_vm._s(_vm.$t('schedule.md')))])]),_vm._l((_vm.hierarchy),function(rootElement){return _c('div',{key:'entity-' + rootElement.id},[_c('div',{staticClass:\"entity-line entity-name flexrow\",style:(_vm.entityLineStyle(rootElement))},[_c('span',{staticClass:\"expand flexrow-item mr1\",on:{\"click\":function($event){return _vm.expandRootElement(rootElement)}}},[(!rootElement.expanded)?_c('chevron-right-icon'):_c('chevron-down-icon')],1),_c('span',{staticClass:\"filler flexrow-item\"},[_vm._v(\"\\n            \"+_vm._s(rootElement.name)+\"\\n          \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(rootElement.man_days),expression:\"rootElement.man_days\"}],staticClass:\"flexrow-item\",attrs:{\"type\":\"number\",\"placeholder\":\"0\"},domProps:{\"value\":(rootElement.man_days)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(rootElement, \"man_days\", $event.target.value)},function($event){return _vm.$emit('item-changed', rootElement)}]}}),_c('span',{staticClass:\"man-days-unit flexrow-item\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('schedule.md'))+\"\\n          \")])]),(rootElement.expanded)?_c('div',{staticClass:\"children\",style:(_vm.childrenStyle(rootElement))},[(rootElement.loading)?_c('div',{staticClass:\"flexrow\"},[_c('spinner',{staticClass:\"child-spinner flexrow-item\",staticStyle:{\"width\":\"20px\",\"margin\":\"0 0 10px 10px\"}})],1):_vm._e(),_vm._l((rootElement.children),function(childElement,j){return _c('div',{key:'entity-' + childElement.id,staticClass:\"child-name\"},[_c('div',{staticClass:\"entity-line entity-name child-line flexrow\",style:(_vm.childNameStyle(rootElement, j))},[_c('span',{staticClass:\"filler flexrow-item\"},[_vm._v(\"\\n                \"+_vm._s(childElement.name)+\"\\n              \")])])])})],2):_vm._e()])})],2),_c('div',{staticClass:\"timeline\"},[_c('div',{ref:\"timeline-header\",staticClass:\"timeline-header\",on:{\"mousedown\":_vm.startBrowsingX}},_vm._l((_vm.daysAvailable),function(day,index){return _c('div',{key:'header-' + day.text,staticClass:\"day\",style:(_vm.dayStyle(day))},[(_vm.milestones[day.text])?_c('div',{staticClass:\"milestone\",on:{\"click\":function($event){return _vm.showEditMilestoneModal(day, _vm.milestones[day.text])}}},[_c('div',{staticClass:\"milestone-tooltip flexrow\"},[_c('span',{staticClass:\"bull flexrow-item\"},[_vm._v(\"•\")]),_c('span',{staticClass:\"flexrow-item\"},[_vm._v(\"\\n                \"+_vm._s(_vm.milestones[day.text].name)+\"\\n              \")]),_c('span',{staticClass:\"filler\"}),_c('edit2-icon',{staticClass:\"edit-icon flexrow-item\"})],1),_vm._m(0,true)]):_c('div',{staticClass:\"milestone\"},[_vm._m(1,true)]),_c('div',{staticClass:\"date-widget\"},[_c('div',{staticClass:\"add-milestone\",attrs:{\"title\":_vm.addMilestoneTitle(day)},on:{\"click\":function($event){return _vm.showEditMilestoneModal(day, _vm.milestones[day.text])}}},[_c('span',[_vm._v(\"+\")])]),_c('div',{staticClass:\"date-name\"},[(day.newMonth || index === 0)?_c('span',{staticClass:\"month-name\"},[_vm._v(\"\\n                \"+_vm._s(day.monthText)+\"\\n              \")]):_vm._e(),_c('div',{class:_vm.dayClass(day, index)},[(!day.weekend && _vm.zoomLevel > 2)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(day.dayText)+\" /\\n                \")]):_vm._e(),(!day.weekend)?_c('span',{staticClass:\"day-number\"},[_vm._v(\"\\n                  \"+_vm._s(day.dayNumber)+\"\\n                \")]):_vm._e()])])])])}),0),_c('div',{ref:\"timeline-content-wrapper\",staticClass:\"timeline-content-wrapper\"},[_c('div',{ref:\"timeline-content\",staticClass:\"timeline-content\",on:{\"mousedown\":_vm.startBrowsing,\"mousewheel\":function($event){return _vm.$emit('change-zoom', $event)}}},[_c('div',{ref:\"timeline-position\",staticClass:\"timeline-position\",style:(_vm.timelinePositionStyle)}),_vm._l((Object.values(_vm.milestones)),function(milestone){return _c('div',{key:'milestone-' + milestone.date,staticClass:\"milestone-vertical-line\",style:(_vm.milestoneLineStyle(milestone))})}),_vm._l((_vm.hierarchy),function(rootElement){return _c('div',{key:'entity-line-' + rootElement.id},[_c('div',{staticClass:\"entity-line\",style:(_vm.entityLineStyle(rootElement))},[_c('div',{staticClass:\"timebar\",style:(_vm.timebarStyle(rootElement))},[_c('div',{class:{\n                    'timebar-left-hand': _vm.isCurrentUserAdmin\n                  },on:{\"mousedown\":function($event){return _vm.moveTimebarLeftSide(rootElement, $event)}}}),_c('div',{staticClass:\"filler\",on:{\"mousedown\":function($event){return _vm.moveTimebar(rootElement, $event)}}}),_c('div',{class:{\n                    'timebar-right-hand': _vm.isCurrentUserAdmin\n                  },on:{\"mousedown\":function($event){return _vm.moveTimebarRightSide(rootElement, $event)}}})])]),(rootElement.expanded)?_c('div',{staticClass:\"children\",style:(_vm.childrenStyle(rootElement))},[(rootElement.loading)?_c('div',{staticClass:\"flexrow\"},[_c('spinner',{staticClass:\"child-spinner flexrow-item\",staticStyle:{\"width\":\"20px\",\"margin\":\"0 0 10px 10px\",\"opacity\":\"0\"}})],1):_vm._e(),_vm._l((rootElement.children),function(childElement){return _c('div',{key:'entity-line-' + childElement.id,staticClass:\"entity-line child-line\"},[_c('div',{staticClass:\"timebar\",style:(_vm.timebarChildStyle(childElement, rootElement, true)),attrs:{\"title\":childElement.name}},[_c('div',{class:{\n                      'timebar-left-hand': _vm.isCurrentUserAdmin\n                    },on:{\"mousedown\":function($event){return _vm.moveTimebarLeftSide(childElement, $event)}}}),_c('div',{staticClass:\"filler\",on:{\"mousedown\":function($event){return _vm.moveTimebar(childElement, $event)}}},[_vm._v(\"\\n                   \"+_vm._s(childElement.name)+\"\\n                  \")]),_c('div',{class:{\n                      'timebar-right-hand': _vm.isCurrentUserAdmin\n                    },on:{\"mousedown\":function($event){return _vm.moveTimebarRightSide(childElement, $event)}}})])])})],2):_vm._e()])})],2)])])]),(true)?_c('spinner',{staticClass:\"mt1\"}):_vm._e(),_c('edit-milestone-modal',{ref:\"edit-milestone-modal\",attrs:{\"active\":_vm.modals.edit,\"is-loading\":_vm.loading.edit,\"is-error\":_vm.errors.edit,\"milestone-to-edit\":_vm.milestoneToEdit},on:{\"confirm\":_vm.confirmEditMilestone,\"cancel\":_vm.hideEditMilestoneModal,\"remove-milestone\":_vm.removeMilestone}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"bull\"},[_vm._v(\"•\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"bull\"},[_vm._v(\" \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box content\"},[(!_vm.isEdit)?_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('schedule.milestone.add_milestone'))+\": \"+_vm._s(_vm.milestoneToEdit.date.format('YYYY-MM-DD'))+\"\\n      \")]):_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('schedule.milestone.edit_milestone'))+\": \"+_vm._s(_vm.milestoneToEdit.date.format('YYYY-MM-DD'))+\"\\n      \")]),_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],ref:\"nameField\",attrs:{\"label\":_vm.$t('schedule.milestone.name')},on:{\"enter\":_vm.confirm},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('button-simple',{staticClass:\"button is-link error\",attrs:{\"text\":\"Delete milestone\"},on:{\"click\":function($event){return _vm.$emit('remove-milestone', _vm.milestoneToEdit)}}}),_c('modal-footer',{attrs:{\"error-text\":_vm.$t('schedule.milestone.error'),\"is-loading\":_vm.isLoading,\"is-disabled\":!_vm.isFormFilled},on:{\"confirm\":_vm.confirm,\"cancel\":function($event){return _vm.$emit('cancel')}}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\"></div>\n\n  <div class=\"modal-content\">\n    <div class=\"box content\">\n      <h1 class=\"title\" v-if=\"!isEdit\">\n        {{ $t('schedule.milestone.add_milestone') }}: {{ milestoneToEdit.date.format('YYYY-MM-DD') }}\n      </h1>\n      <h1 class=\"title\" v-else>\n        {{ $t('schedule.milestone.edit_milestone') }}: {{ milestoneToEdit.date.format('YYYY-MM-DD') }}\n      </h1>\n      <text-field\n        ref=\"nameField\"\n        :label=\"$t('schedule.milestone.name')\"\n        v-model=\"form.name\"\n        @enter=\"confirm\"\n        v-focus\n      />\n      <button-simple\n        class=\"button is-link error\"\n        text=\"Delete milestone\"\n        @click=\"$emit('remove-milestone', milestoneToEdit)\"\n      />\n\n      <modal-footer\n        :error-text=\"$t('schedule.milestone.error')\"\n        :is-loading=\"isLoading\"\n        :is-disabled=\"!isFormFilled\"\n        @confirm=\"confirm\"\n        @cancel=\"$emit('cancel')\"\n      />\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n/*\n * Modal used to edit and create milestones.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport { modalMixin } from './base_modal'\n\nimport ButtonSimple from '../widgets/ButtonSimple'\nimport ModalFooter from './ModalFooter'\nimport TextField from '../widgets/TextField'\n\nexport default {\n  name: 'edit-milestone-modal',\n  mixins: [modalMixin],\n\n  components: {\n    ButtonSimple,\n    ModalFooter,\n    TextField\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    milestoneToEdit: {\n      type: Object,\n      default: () => {}\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      form: {\n        name: ''\n      }\n    }\n  },\n\n  mounted () {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n    ]),\n\n    isEdit () {\n      return this.milestoneToEdit.id !== undefined\n    },\n\n    isFormFilled () {\n      return this.form.name.length > 0\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    confirm () {\n      return this.$emit('confirm', this.form)\n    },\n\n    reset () {\n      this.form = {\n        id: this.milestoneToEdit.id || undefined,\n        name: `${this.milestoneToEdit.name || ''}`,\n        date: this.milestoneToEdit.date\n      }\n    }\n  },\n\n  watch: {\n    active () {\n      if (this.active) {\n        this.reset()\n        this.$nextTick(() => { this.$refs.nameField.focus() })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMilestoneModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMilestoneModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditMilestoneModal.vue?vue&type=template&id=46a29dbc&scoped=true&\"\nimport script from \"./EditMilestoneModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditMilestoneModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46a29dbc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  class=\"schedule-wrapper\"\n>\n  <div\n    :class=\"scheduleClass\"\n    ref=\"schedule\"\n  >\n    <div\n      ref=\"entity-list\"\n      class=\"entities\"\n      @mousedown=\"startBrowsingY\"\n    >\n      <div\n        class=\"has-text-right total-man-days mr0\"\n      >\n        <span class=\"total-value\">{{ totalManDays }}</span>\n        <span>{{ $t('schedule.md') }}</span>\n      </div>\n\n      <div\n        class=\"\"\n        :key=\"'entity-' + rootElement.id\"\n        v-for=\"rootElement in hierarchy\"\n      >\n        <div\n          class=\"entity-line entity-name flexrow\"\n          :style=\"entityLineStyle(rootElement)\"\n        >\n          <span\n            class=\"expand flexrow-item mr1\"\n            @click=\"expandRootElement(rootElement)\"\n          >\n            <chevron-right-icon v-if=\"!rootElement.expanded\"/>\n            <chevron-down-icon v-else />\n          </span>\n          <span class=\"filler flexrow-item\">\n            {{ rootElement.name }}\n          </span>\n          <input\n            class=\"flexrow-item\"\n            type=\"number\"\n            placeholder=\"0\"\n            @input=\"$emit('item-changed', rootElement)\"\n            v-model=\"rootElement.man_days\"\n          />\n          <span class=\"man-days-unit flexrow-item\">\n            {{ $t('schedule.md') }}\n          </span>\n        </div>\n\n        <div\n          class=\"children\"\n          :style=\"childrenStyle(rootElement)\"\n          v-if=\"rootElement.expanded\"\n        >\n          <div class=\"flexrow\" v-if=\"rootElement.loading\">\n            <spinner\n              style=\"width: 20px; margin: 0 0 10px 10px;\"\n              class=\"child-spinner flexrow-item\"\n            />\n          </div>\n          <div\n            class=\"child-name\"\n            :key=\"'entity-' + childElement.id\"\n            v-for=\"(childElement, j) in rootElement.children\"\n          >\n            <div\n              class=\"entity-line entity-name child-line flexrow\"\n              :style=\"childNameStyle(rootElement, j)\"\n            >\n              <span class=\"filler flexrow-item\">\n                {{ childElement.name }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"timeline\">\n      <div\n        ref=\"timeline-header\"\n        class=\"timeline-header\"\n        @mousedown=\"startBrowsingX\"\n      >\n        <div\n          class=\"day\"\n          :key=\"'header-' + day.text\"\n          :style=\"dayStyle(day)\"\n          v-for=\"(day, index) in daysAvailable\"\n        >\n          <div\n            class=\"milestone\"\n            @click=\"showEditMilestoneModal(day, milestones[day.text])\"\n            v-if=\"milestones[day.text]\"\n          >\n            <div class=\"milestone-tooltip flexrow\">\n              <span class=\"bull flexrow-item\">&bull;</span>\n              <span class=\"flexrow-item\">\n                {{ milestones[day.text].name }}\n              </span>\n              <span class=\"filler\">\n              </span>\n              <edit2-icon class=\"edit-icon flexrow-item\" />\n            </div>\n            <div>\n              <span class=\"bull\">&bull;</span>\n            </div>\n          </div>\n          <div\n            class=\"milestone\"\n            v-else\n          >\n            <div>\n              <span class=\"bull\">&nbsp;</span>\n            </div>\n          </div>\n\n          <div class=\"date-widget\">\n            <div\n              class=\"add-milestone\"\n              :title=\"addMilestoneTitle(day)\"\n              @click=\"showEditMilestoneModal(day, milestones[day.text])\"\n            >\n              <span>+</span>\n            </div>\n            <div class=\"date-name\">\n              <span\n                class=\"month-name\"\n                v-if=\"day.newMonth || index === 0\"\n              >\n                {{ day.monthText }}\n              </span>\n              <div\n                :class=\"dayClass(day, index)\"\n              >\n                <span\n                  v-if=\"!day.weekend && zoomLevel > 2\"\n                >\n                  {{ day.dayText }} /\n                </span>\n                <span\n                  class=\"day-number\"\n                  v-if=\"!day.weekend\"\n                >\n                  {{ day.dayNumber }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div\n        ref=\"timeline-content-wrapper\"\n        class=\"timeline-content-wrapper\"\n      >\n        <div\n          ref=\"timeline-content\"\n          class=\"timeline-content\"\n          @mousedown=\"startBrowsing\"\n          @mousewheel=\"$emit('change-zoom', $event)\"\n        >\n          <div\n            ref=\"timeline-position\"\n            class=\"timeline-position\"\n            :style=\"timelinePositionStyle\"\n          >\n          </div>\n          <div\n            class=\"milestone-vertical-line\"\n            :style=\"milestoneLineStyle(milestone)\"\n            :key=\"'milestone-' + milestone.date\"\n            v-for=\"milestone in Object.values(milestones)\"\n          >\n          </div>\n          <div\n            :key=\"'entity-line-' + rootElement.id\"\n            v-for=\"rootElement in hierarchy\"\n          >\n\n            <div\n              class=\"entity-line\"\n              :style=\"entityLineStyle(rootElement)\"\n            >\n              <div\n                class=\"timebar\"\n                :style=\"timebarStyle(rootElement)\"\n              >\n                <div\n                  :class=\"{\n                    'timebar-left-hand': isCurrentUserAdmin\n                  }\"\n                  @mousedown=\"moveTimebarLeftSide(rootElement, $event)\"\n                >\n                </div>\n                <div\n                  class=\"filler\"\n                  @mousedown=\"moveTimebar(rootElement, $event)\"\n                >\n                </div>\n                <div\n                  :class=\"{\n                    'timebar-right-hand': isCurrentUserAdmin\n                  }\"\n                  @mousedown=\"moveTimebarRightSide(rootElement, $event)\"\n                >\n                </div>\n              </div>\n            </div>\n\n            <div\n              class=\"children\"\n              :style=\"childrenStyle(rootElement)\"\n              v-if=\"rootElement.expanded\"\n            >\n              <div class=\"flexrow\" v-if=\"rootElement.loading\">\n                <spinner\n                  style=\"width: 20px; margin: 0 0 10px 10px; opacity: 0\"\n                  class=\"child-spinner flexrow-item\"\n                />\n              </div>\n\n              <div\n                class=\"entity-line child-line\"\n                :key=\"'entity-line-' + childElement.id\"\n                v-for=\"childElement in rootElement.children\"\n              >\n                <div\n                  class=\"timebar\"\n                  :title=\"childElement.name\"\n                  :style=\"timebarChildStyle(childElement, rootElement, true)\"\n                >\n                  <div\n                    :class=\"{\n                      'timebar-left-hand': isCurrentUserAdmin\n                    }\"\n                    @mousedown=\"moveTimebarLeftSide(childElement, $event)\"\n                  >\n                  </div>\n                  <div\n                    class=\"filler\"\n                    @mousedown=\"moveTimebar(childElement, $event)\"\n                  >\n                   {{ childElement.name }}\n                  </div>\n                  <div\n                    :class=\"{\n                      'timebar-right-hand': isCurrentUserAdmin\n                    }\"\n                    @mousedown=\"moveTimebarRightSide(childElement, $event)\"\n                  >\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <spinner\n    class=\"mt1\"\n    v-if=\"true\"\n  />\n\n  <edit-milestone-modal\n    ref=\"edit-milestone-modal\"\n    :active=\"modals.edit\"\n    :is-loading=\"loading.edit\"\n    :is-error=\"errors.edit\"\n    :milestone-to-edit=\"milestoneToEdit\"\n    @confirm=\"confirmEditMilestone\"\n    @cancel=\"hideEditMilestoneModal\"\n    @remove-milestone=\"removeMilestone\"\n  />\n\n</div>\n</template>\n\n<script>\n/*\n * Component to facilitate the build of schedule pages.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\nimport colors from '../../../lib/colors'\n\nimport EditMilestoneModal from '../../modals/EditMilestoneModal'\nimport Spinner from '../../widgets/Spinner'\nimport { ChevronRightIcon, ChevronDownIcon, Edit2Icon } from 'vue-feather-icons'\n\nexport default {\n  name: 'schedule',\n  components: {\n    ChevronDownIcon,\n    ChevronRightIcon,\n    Edit2Icon,\n    EditMilestoneModal,\n    Spinner\n  },\n\n  data () {\n    return {\n      currentMilestoneDate: null,\n      isBrowsingX: false,\n      isBrowsingY: false,\n      isChangeSize: false,\n      milestoneToEdit: {\n        date: moment()\n      },\n      timelineDisplayedDaysIndex: {},\n      modals: {\n        edit: false\n      },\n      errors: {\n        edit: false\n      },\n      loading: {\n        edit: false\n      }\n    }\n  },\n\n  props: {\n    endDate: {\n      type: Object,\n      required: true\n    },\n    hierarchy: {\n      default: () => [],\n      type: Array\n    },\n    startDate: {\n      type: Object,\n      required: true\n    },\n    zoomLevel: {\n      type: Number,\n      default: 2\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  mounted () {\n    this.resetScheduleSize()\n    document.addEventListener('mouseup', this.stopBrowsing)\n    document.addEventListener('mousemove', this.onMouseMove)\n    window.addEventListener('resize', this.resetScheduleSize)\n  },\n\n  destroyed () {\n    document.removeEventListener('mouseup', this.stopBrowsing)\n    document.removeEventListener('mousemove', this.onMouseMove)\n    window.removeEventListener('resize', this.resetScheduleSize)\n    document.body.style.cursor = 'default'\n  },\n\n  computed: {\n    ...mapGetters([\n      'isCurrentUserAdmin',\n      'milestones'\n    ]),\n\n    cellWidth () {\n      return this.zoomLevel * 20\n    },\n\n    daysAvailable () {\n      const days = []\n      let day = this.startDate.clone().add(-1, 'days')\n      let dayDate = day.toDate()\n      let endDayDate = this.endDate.toDate()\n      dayDate.isoweekday = day.isoWeekday()\n      dayDate.monthday = day.month()\n\n      while (dayDate < endDayDate) {\n        let nextDay = new Date(Number(dayDate))\n        nextDay.setDate(dayDate.getDate() + 1) // Add 1 day\n\n        nextDay.isoweekday = dayDate.isoweekday + 1\n        if (nextDay.isoweekday > 7) {\n          nextDay.isoweekday = 1\n          nextDay.newWeek = true\n        }\n        nextDay.monthday = dayDate.monthday + 1\n        if (nextDay.monthday > 27 &&\n            nextDay.getMonth() !== dayDate.getMonth()) {\n          nextDay.newMonth = true\n          nextDay.monthday = 1\n        }\n        if ([6, 7].includes(nextDay.isoweekday)) nextDay.weekend = true\n\n        let momentDay = moment(nextDay)\n        momentDay.newWeek = nextDay.newWeek\n        momentDay.newMonth = nextDay.newMonth\n        momentDay.weekend = nextDay.weekend\n        momentDay.text = momentDay.format('YYYY-MM-DD')\n        momentDay.monthText = momentDay.format('MMMM')\n        momentDay.dayNumber = momentDay.format('DD')\n        momentDay.dayText = momentDay.format('ddd')[0]\n        days.push(momentDay)\n        dayDate = nextDay\n      }\n      return days\n    },\n\n    displayedDays () {\n      return this.daysAvailable.filter(day => !day.weekend)\n    },\n\n    nbDisplayedDays () {\n      return this.displayedDays.length\n    },\n\n    displayedDaysIndex () {\n      let index = 0\n      const dayIndex = {}\n      this.displayedDays.forEach((d) => {\n        dayIndex[d.text] = index\n        index++\n      })\n      return dayIndex\n    },\n\n    scheduleClass () {\n      const className = {\n        schedule: true,\n        unselectable: true\n      }\n      className['zoom-level-' + this.zoomLevel] = true\n      return className\n    },\n\n    timelinePositionStyle () {\n      return { width: this.cellWidth + 'px' }\n    },\n\n    totalManDays () {\n      return this.hierarchy.reduce((acc, timeElement) => {\n        let value = acc\n        let manDays = timeElement.man_days\n        if (timeElement.man_days) {\n          if (typeof manDays === 'string') manDays = parseInt(manDays)\n          value = acc + manDays\n        }\n        return value\n      }, 0)\n    },\n\n    // References\n\n    entityList () {\n      return this.$refs['entity-list']\n    },\n\n    schedule () {\n      return this.$refs['schedule']\n    },\n\n    timelineContent () {\n      return this.$refs['timeline-content']\n    },\n\n    timelineContentWrapper () {\n      return this.$refs['timeline-content-wrapper']\n    },\n\n    timelineHeader () {\n      return this.$refs['timeline-header']\n    },\n\n    timelinePosition () {\n      return this.$refs['timeline-position']\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'deletMilestone',\n      'saveMilestone'\n    ]),\n\n    resetScheduleSize () {\n      if (this.timelineContent) {\n        this.timelineContent.style.width =\n          this.nbDisplayedDays * this.cellWidth + 'px'\n        this.timelineContentWrapper.style.height =\n          this.schedule.offsetHeight - 250 + 'px'\n        this.entityList.style.height =\n          this.schedule.offsetHeight - 227 + 'px'\n      }\n    },\n\n    onMouseMove (event) {\n      if (this.isChangeStartDate) {\n        this.changeStartDate(event)\n      } else if (this.isChangeEndDate) {\n        this.changeEndDate(event)\n      } else if (this.isChangeDates) {\n        this.changeDates(event)\n      } else {\n        if (this.isBrowsingX) this.scrollScheduleLeft(event)\n        if (this.isBrowsingY) this.scrollScheduleTop(event)\n      }\n\n      this.updatePositionBarPosition(event)\n    },\n\n    updatePositionBarPosition (event) {\n      let position = this.timelineContentWrapper.scrollLeft + event.clientX\n      position -= 262\n      position = Math.round(position / this.cellWidth) * this.cellWidth\n      this.timelinePosition.style.left = position + 'px'\n    },\n\n    changeDates (event) {\n      const change = event.clientX - this.initialClientX - this.cellWidth / 2\n      const dayChange = Math.ceil(change / this.cellWidth)\n\n      const startDateString = this.lastStartDate.format('YYYY-MM-DD')\n      const endDateString = this.lastEndDate.format('YYYY-MM-DD')\n      const startDateIndex = this.displayedDaysIndex[startDateString]\n      const endDateIndex = this.displayedDaysIndex[endDateString]\n      const length = endDateIndex - startDateIndex\n      let currentIndex = this.displayedDaysIndex[startDateString]\n\n      currentIndex += dayChange\n      if (currentIndex < 0) currentIndex = 0\n\n      let newStartDate = this.displayedDays[currentIndex]\n      if (newStartDate) {\n        let newEndDate = this.displayedDays[currentIndex + length]\n        if (newEndDate) {\n          this.currentElement.startDate = newStartDate\n          this.currentElement.endDate = newEndDate\n          this.$emit('item-changed', this.currentElement)\n        }\n      }\n    },\n\n    changeStartDate (event) {\n      const change = event.clientX - this.initialClientX\n      const dayChange = Math.floor(change / this.cellWidth)\n\n      const startDateString = this.lastStartDate.format('YYYY-MM-DD')\n      let currentIndex = this.displayedDaysIndex[startDateString]\n      currentIndex += dayChange\n\n      let newStartDate = this.displayedDays[currentIndex]\n      this.currentElement.startDate = newStartDate\n      this.$emit('item-changed', this.currentElement)\n    },\n\n    changeEndDate (event) {\n      const change = event.clientX - this.initialClientX + this.cellWidth / 2\n      const dayChange = Math.ceil(change / this.cellWidth)\n\n      const startDateString =\n        this.currentElement.startDate.format('YYYY-MM-DD')\n      const endDateString = this.lastEndDate.format('YYYY-MM-DD')\n      let startDateIndex = this.displayedDaysIndex[startDateString]\n      let currentIndex = this.displayedDaysIndex[endDateString]\n\n      currentIndex += dayChange - 1\n      if (currentIndex < startDateIndex) currentIndex = startDateIndex + 1\n      if (currentIndex > this.displayedDaysIndex.length) {\n        currentIndex = this.displayedDaysIndex.length - 1\n      }\n\n      let newEndDate = this.displayedDays[currentIndex]\n      this.currentElement.endDate = newEndDate\n      this.$emit('item-changed', this.currentElement)\n    },\n\n    scrollScheduleLeft (event) {\n      const previousLeft = this.timelineContentWrapper.scrollLeft\n      let newLeft = previousLeft - event.movementX\n      this.timelineContentWrapper.scrollLeft = newLeft\n      this.timelineHeader.scrollLeft = newLeft\n    },\n\n    scrollScheduleTop (event) {\n      const previousTop = this.timelineContentWrapper.scrollTop\n      const newTop = previousTop - event.movementY\n      this.timelineContentWrapper.scrollTop = newTop\n      this.entityList.scrollTop = newTop\n    },\n\n    startBrowsing (event) {\n      if (\n        !this.isChangeStartDate &&\n        !this.isChangeEndDate &&\n        !this.isChangeDates\n      ) {\n        document.body.style.cursor = 'grabbing'\n        this.isBrowsingX = true\n        this.isBrowsingY = true\n      }\n    },\n\n    startBrowsingX (event) {\n      document.body.style.cursor = 'grabbing'\n      this.isBrowsingX = true\n    },\n\n    startBrowsingY (event) {\n      document.body.style.cursor = 'grabbing'\n      this.isBrowsingY = true\n    },\n\n    stopBrowsing (event) {\n      document.body.style.cursor = 'default'\n      this.isChangeStartDate = false\n      this.isChangeEndDate = false\n      this.isChangeDates = false\n      this.isBrowsingX = false\n      this.isBrowsingY = false\n    },\n\n    moveTimebar (timeElement, event) {\n      if (!this.isChangeStartDate && this.isCurrentUserAdmin) {\n        this.isChangeDates = true\n        this.isChangeStartDate = false\n        this.isChangeEnd = false\n        this.currentElement = timeElement\n        this.lastStartDate = timeElement.startDate.clone()\n        this.lastEndDate = timeElement.endDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'ew-resize'\n      }\n    },\n\n    moveTimebarLeftSide (timeElement, event) {\n      if (!this.isChangeDates && this.isCurrentUserAdmin) {\n        this.isChangeDates = false\n        this.isChangeStartDate = true\n        this.isChangeEnd = false\n        this.currentElement = timeElement\n        this.lastStartDate = timeElement.startDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'w-resize'\n      }\n    },\n\n    moveTimebarRightSide (timeElement, event) {\n      if (!this.isChangeDates && this.isCurrentUserAdmin) {\n        this.isChangeDates = false\n        this.isChangeStartDate = false\n        this.isChangeEndDate = true\n        this.currentElement = timeElement\n        if (!timeElement.endDate) {\n          timeElement.endDate = timeElement.startDate.clone().add('days', 1)\n        }\n        this.lastEndDate = timeElement.endDate.clone()\n        this.initialClientX = event.clientX\n        document.body.style.cursor = 'e-resize'\n      }\n    },\n\n    // Helpers\n\n    businessDiff (startDate, endDate) {\n      const first = startDate.clone().endOf('week')\n      const last = endDate.clone().startOf('week')\n      const diff = last.diff(first, 'days')\n\n      if (endDate.diff(startDate, 'days') > 6) {\n        const days = diff * 5 / 7\n\n        let wfirst = first.day() - startDate.day()\n        if (startDate.day() === 0) --wfirst\n\n        let wlast = endDate.day() - last.day()\n        if (endDate.day() === 6) --wlast\n\n        return Math.ceil(wfirst + days + wlast - 1)\n      } else {\n        let day = moment(startDate)\n        let businessDays = 0\n        while (day.isBefore(endDate, 'day')) {\n          if (day.day() !== 0 && day.day() !== 6) businessDays++\n          day.add(1, 'days')\n        }\n        return businessDays\n      }\n    },\n\n    // Styles\n\n    dayClass (day, index = 0) {\n      return {\n        'day-name': true,\n        'new-week': day.newWeek || false,\n        'new-month': day.newMonth || index === 0 || false\n      }\n    },\n\n    dayStyle (day) {\n      return {\n        'min-width': day.weekend ? '0px' : this.cellWidth + 'px',\n        'max-width': day.weekend ? '0px' : this.cellWidth + 'px'\n      }\n    },\n\n    entityLineStyle (timeElement) {\n      const style = {\n        'background-color': timeElement.color\n      }\n      if (timeElement.expanded) {\n        style['margin-bottom'] = '0'\n      }\n      return style\n    },\n\n    timebarStyle (timeElement) {\n      return {\n        left: this.getTimebarLeft(timeElement) + 'px',\n        width: this.getTimebarWidth(timeElement) + 'px',\n        cursor: this.isCurrentUserAdmin ? 'ew-resize' : 'default'\n      }\n    },\n\n    timebarChildStyle (timeElement, rootElement) {\n      return {\n        left: this.getTimebarLeft(timeElement) + 'px',\n        width: this.getTimebarWidth(timeElement) + 'px',\n        cursor: this.isCurrentUserAdmin ? 'ew-resize' : 'default',\n        background: rootElement.color\n      }\n    },\n\n    getTimebarLeft (timeElement) {\n      const startDate = timeElement.startDate || this.startDate\n      let startDiff = this.businessDiff(this.startDate, startDate) || 0\n      return ((startDiff) * this.cellWidth) + 5\n    },\n\n    getTimebarWidth (timeElement) {\n      const startDate =\n        timeElement.startDate || this.startDate\n      const endDate =\n        timeElement.endDate ||\n        (\n          timeElement.startDate &&\n          timeElement.startDate.clone().add(1, 'days')\n        ) ||\n        this.startDate.clone().add(1, 'days')\n      let lengthDiff = this.businessDiff(startDate, endDate) || 1\n      return (lengthDiff + 1) * this.cellWidth - 10\n    },\n\n    // Children\n\n    expandRootElement (rootElement) {\n      this.$emit('root-element-expanded', rootElement)\n    },\n\n    expandChildElement (element) {\n      if (element) {\n      }\n    },\n\n    childNameStyle (rootElement, index) {\n      const isOdd = index % 2 === 0\n      const level = isOdd ? 0.7 : 0.9\n      return {\n        'background': colors.lightenColor(rootElement.color, level)\n      }\n    },\n\n    childrenStyle (rootElement) {\n      return {\n        'border-bottom': '1px solid ' + rootElement.color\n      }\n    },\n\n    // Milestones\n\n    showEditMilestoneModal (day, milestone) {\n      this.modals.edit = true\n      if (milestone) {\n        milestone.date = moment(milestone.date, 'YYYY-MM-DD', 'en')\n        this.milestoneToEdit = milestone\n      } else {\n        this.milestoneToEdit = { date: day }\n      }\n    },\n\n    hideEditMilestoneModal () {\n      this.modals.edit = false\n    },\n\n    confirmEditMilestone (milestone) {\n      this.loading.edit = true\n      this.saveMilestone(milestone)\n        .then(() => {\n          this.modals.edit = false\n          this.loading.edit = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    removeMilestone (milestone) {\n      this.loading.edit = true\n      this.deleteMilestone(milestone)\n        .then(() => {\n          this.modals.edit = false\n          this.loading.edit = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    milestoneLineStyle (milestone) {\n      const endDate = moment(milestone.date, 'YYYY-MM-DD', 'en')\n      const lengthDiff = this.businessDiff(this.startDate, endDate)\n      return {\n        left: (lengthDiff + 0.5) * this.cellWidth + 'px'\n      }\n    },\n\n    addMilestoneTitle (day) {\n      return `${this.$t('schedule.milestone.add_milestone')} ${day.format('YYYY-MM-DD')}`\n    }\n  },\n\n  socket: {},\n\n  watch: {\n    startDate () {\n      this.resetScheduleSize()\n    },\n    endDate () {\n      this.resetScheduleSize()\n    },\n    zoomLevel () {\n      this.resetScheduleSize()\n    },\n    isLoading () {\n      this.$nextTick(this.resetScheduleSize)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .entities {\n    background: #36393F;\n  }\n\n  .schedule.zoom-level-1 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-1.png');\n    }\n  }\n\n  .schedule.zoom-level-2 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-2.png');\n    }\n  }\n\n  .schedule.zoom-level-3 {\n    .timeline-content {\n      background-image: url('../../../assets/background/schedule-dark-3.png');\n    }\n  }\n\n  .timeline {\n    .timeline-header {\n      background: #36393F;\n      color: white;\n\n      .day {\n        .day-number {\n          color: white;\n        }\n\n        .day-name {\n          margin: 0;\n          padding-bottom: 0;\n          &.new-month,\n          &.new-week {\n            border-left: 2px solid white;\n          }\n        }\n\n        .month-name {\n          border-left: 2px solid white;\n          color: white;\n        }\n      }\n    }\n\n    .timeline-content-wrapper {\n      .timeline-content {\n        .entity-line.child-line {\n          .timebar {\n            background: rgba(200, 200, 250, 0.8);\n            color: $dark-grey;\n          }\n        }\n\n        .milestone-vertical-line {\n          border-left: 1px dashed white;\n        }\n      }\n    }\n  }\n\n  .total-man-days {\n    color: white;\n  }\n\n  .child-name .entity-name span {\n    color: $white;\n  }\n\n  .milestone {\n    .milestone-tooltip {\n      background: $dark-grey-lighter;\n      border: 1px solid $dark-grey;\n      box-shadow: 0 2px 2px 0px $dark-grey-strong;\n    }\n    .milestone-tooltip:after {\n      border-color: transparent;\n      border-top-color: $dark-grey-lighter;\n    }\n    .milestone-tooltip:before {\n      border-color: transparent;\n      border-top-color: $dark-grey-lighter;\n    }\n  }\n}\n\n.schedule-wrapper {\n  position: relative;\n}\n\n.schedule {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  height: 100vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n}\n\n.entities {\n  background: white;\n  margin-top: 57px;\n  min-width: 230px;\n  overflow: hidden;\n  z-index: 2;\n\n  .entity-line {\n    max-width: 230px;\n    min-width: 230px;\n  }\n}\n\n.entity-line {\n  color: white;\n  font-size: 1.2em;\n  height: 40px;\n  margin-bottom: 20px;\n  padding: 0.5em;\n\n  .flexrow-item {\n    margin: 0;\n  }\n\n  .expand {\n    cursor: pointer;\n    margin-right: 0.5em;\n  }\n\n  &.child-line {\n    height: 40px;\n    margin-bottom: 0px;\n    font-size: 1em;\n\n    &:nth-child(even) {\n      background: transparent;\n    }\n\n    &:nth-child(odd) {\n      background: rgba(200, 200, 200, 0.2);\n    }\n  }\n}\n\n.timeline {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding-top: 0px;\n\n  .timeline-header {\n    white-space: nowrap;\n    position: relative;\n    margin-left: 1px;\n    background: white;\n    padding-bottom: 4px;\n    overflow: hidden;\n    padding-top: 20px;\n\n    .day {\n      display: inline-block;\n      font-size: 0.8em;\n      padding-bottom: 0;\n      height: 30px;\n\n      .day-name {\n        border-left: 2px solid transparent;\n        color: $grey;\n        padding-bottom: 0em;\n        margin-bottom: 0em;\n        padding-left: 10px;\n        padding-top: 0em;\n        text-transform: uppercase;\n\n        &.new-month,\n        &.new-week {\n          border-left: 2px solid black;\n        }\n      }\n\n      .day-number {\n        color: black;\n        padding-top: 0.5em;\n      }\n\n      .month-name {\n        border-left: 2px solid black;\n        font-size: 0.9em;\n        position: absolute;\n        padding-bottom: 12px;\n        padding-left: 1em;\n        top: 15px;\n        bottom: 0;\n        text-transform: uppercase;\n        color: black;\n      }\n    }\n  }\n\n  .timeline-content-wrapper {\n    background-repeat: repeat;\n    margin-left: 2px;\n    overflow-x: auto;\n    overflow-y: auto;\n\n    .timeline-content {\n      position: relative;\n\n      .timeline-position {\n        visibility: hidden;\n        position: absolute;\n        left: 0px;\n        top: 0;\n        bottom: 0;\n        background: rgba(200, 255, 200, 0.3);\n        z-index: 100;\n      }\n\n      .milestone-vertical-line {\n        position: absolute;\n        left: 0px;\n        top: 0;\n        bottom: 0;\n        background: rgba(200, 255, 200, 0.3);\n        z-index: 100;\n        width: 1px;\n        border-left: 1px dashed black;\n      }\n\n      .entity-line {\n        width: 100%;\n        position: relative;\n\n        .timebar {\n          position: absolute;\n          top: 13px;\n          height: 14px;\n          background: rgba(255, 255, 255, 0.4);\n          border-radius: 1em;\n          display: flex;\n          z-index: 101;\n\n          .timebar-left-hand {\n            cursor: w-resize;\n            width: 30px;\n          }\n\n          .timebar-right-hand {\n            cursor: e-resize;\n            width: 30px;\n          }\n        }\n\n        &.child-line {\n          padding: 0;\n\n          .timebar {\n            background: rgba(0, 0, 50, 0.2);\n            top: 13px;\n            font-size: 0.6em;\n          }\n        }\n      }\n    }\n\n    .timeline-content:hover {\n      .timeline-position {\n        visibility: visible;\n      }\n    }\n  }\n}\n\n.zoom-level-1 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-1.png');\n  }\n\n  .timeline {\n    .timeline-header {\n      .day {\n        font-size: 0.8em;\n        padding-left: 0px;\n\n        .day-name {\n          padding-left: 0px;\n          &.new-week {\n            border-left: solid 2px transparent;\n          }\n          &.new-month {\n            padding-left: 4px;\n            border-left: solid 2px white;\n          }\n        }\n      }\n    }\n  }\n}\n\n.schedule.zoom-level-2 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-2.png');\n  }\n}\n\n.schedule.zoom-level-3 {\n  .timeline-content {\n    background-image: url('../../../assets/background/schedule-white-3.png');\n  }\n}\n\n.entity-name {\n  display: flex;\n  align-items: center;\n  line-height: 1.1em;\n\n  span {\n    color: white;\n  }\n\n  input {\n    width: 50px;\n    text-align: right;\n    background: transparent;\n    color: white;\n    margin-right: 0.2em;\n    font-size: 1.1em;\n\n    &::placeholder {\n      color: white;\n    }\n  }\n\n  .man-days-unit {\n    font-size: 0.7em;\n  }\n}\n\n.children {\n  margin-bottom: 1em;\n}\n\n.child-name .entity-name span {\n  color: $dark-grey;\n  padding-left: 2.5em;\n\n  .filler {\n    margin: 0;\n    margin: 0;\n  }\n}\n\n.total-man-days {\n  padding-bottom: 10px;\n  margin-right: 0.5em;\n\n  .total-value {\n    margin-right: 15px;\n    font-size: 20px;\n  }\n}\n\n.child-spinner {\n  font-size: 10px;\n  padding-top: 20px;\n}\n\n.milestone {\n  cursor: pointer;\n  margin-bottom: 0px;\n  position: relative;\n  text-align: center;\n  min-height: 35px;\n\n  .flexrow-item {\n    margin-left: 5px;\n    margin-right: 0px;\n  }\n\n  .bull {\n    font-size: 20px;\n    line-height: 10px;\n  }\n\n  .milestone-tooltip {\n    border: 1px solid #EEE;\n    border-radius: 5px;\n    box-shadow: 0 2px 2px 0px #EEE;\n    font-size: 0.8em;\n    font-weight: bold;\n    opacity: 0;\n    padding: 2px;\n    position: relative;\n    border: 1px solid #eeeeee;\n    width: 140px;\n    left: -40px;\n    top: -5px;\n    background: white;\n    z-index: 100;\n\n    .bull {\n      font-size: 10px;\n    }\n\n    .edit-icon {\n      width: 10px;\n      height: 10px;\n      color: #AAA;\n    }\n  }\n\n  &:hover {\n    .milestone-tooltip {\n      opacity: 1;\n    }\n  }\n\n  .milestone-tooltip:after, .milestone-tooltip:before {\n    top: 100%;\n    left: 50%;\n    border: solid transparent;\n    content: \" \";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n  }\n\n  .milestone-tooltip:after {\n    border-color: rgba(255, 255, 255, 0);\n    border-top-color: #ffffff;\n    border-width: 5px;\n    margin-left: -5px;\n  }\n  .milestone-tooltip:before {\n    border-color: rgba(238, 238, 238, 0);\n    border-top-color: #eeeeee;\n    border-width: 6px;\n    margin-left: -6px;\n  }\n}\n\n.date-widget {\n  padding-top: 8px;\n\n  .add-milestone {\n    display: none;\n    cursor: pointer;\n    text-align: center;\n\n    span {\n      background: black;\n      color: white;\n      border-radius: 50%;\n      font-size: 1.4em;\n      line-height: 0.6em;\n      font-weight: bold;\n      padding: 0 6px 2px 6px;\n    }\n  }\n\n  &:hover {\n    background: $light-green-light;\n    height: 100%;\n    .add-milestone {\n      display: block;\n    }\n\n    .date-name {\n      display: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Schedule.vue?vue&type=template&id=99a1855c&scoped=true&\"\nimport script from \"./Schedule.vue?vue&type=script&lang=js&\"\nexport * from \"./Schedule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Schedule.vue?vue&type=style&index=0&id=99a1855c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99a1855c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  class=\"columns fixed-page\"\n>\n  <div\n    class=\"column main-column\"\n  >\n    <div class=\"flexrow project-dates\">\n      <div class=\"flexrow-item\">\n        <label class=\"label\">\n          {{ $t('main.start_date') }}\n        </label>\n        <datepicker\n          wrapper-class=\"datepicker\"\n          input-class=\"date-input input\"\n          :language=\"locale\"\n          :disabled-dates=\"{ days: [6, 0] }\"\n          :monday-first=\"true\"\n          format=\"d MMMM yyyy\"\n          v-model=\"selectedStartDate\"\n        />\n      </div>\n      <div class=\"flexrow-item field\">\n        <label class=\"label\">\n          {{ $t('main.end_date') }}\n        </label>\n        <datepicker\n          wrapper-class=\"datepicker\"\n          input-class=\"date-input input\"\n          :language=\"locale\"\n          :disabled-dates=\"{ days: [6, 0] }\"\n          :monday-first=\"true\"\n          format=\"d MMMM yyyy\"\n          v-model=\"selectedEndDate\"\n        />\n      </div>\n      <text-field\n        class=\"flexrow-item overall-man-days\"\n        type=\"number\"\n        v-model=\"overallManDays\"\n        :label=\"$t('schedule.overall_man_days')\"\n        :disabled=\"!isCurrentUserAdmin\"\n        v-focus\n      />\n      <combobox-number\n        class=\"flexrow-item zoom-level\"\n        :label=\"$t('schedule.zoom_level')\"\n        :options=\"zoomOptions\"\n        v-model=\"zoomLevel\"\n      />\n    </div>\n\n    <schedule\n      :start-date=\"startDate\"\n      :end-date=\"endDate\"\n      :hierarchy=\"scheduleItems\"\n      :zoom-level=\"zoomLevel\"\n      :is-loading=\"loading.schedule\"\n      :is-error=\"errors.schedule\"\n      @item-changed=\"saveScheduleItem\"\n      @change-zoom=\"changeZoom\"\n      @root-element-expanded=\"expandTaskTypeElement\"\n    />\n  </div>\n\n  <div\n    class=\"column side-column is-hidden-mobile hide-small-screen\"\n    v-if=\"currentTask\"\n  >\n    <task-info\n      :task=\"currentTask\"\n      :is-loading=\"false\"\n    />\n  </div>\n</div>\n\n</template>\n\n<script>\n/*\n * Page to manage the schedule of the big steps of the production. It allows\n * to set milestones too.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\nimport { en, fr } from 'vuejs-datepicker/dist/locale'\nimport Datepicker from 'vuejs-datepicker'\n\nimport { sortScheduleItems } from '../../lib/sorting'\n\nimport ComboboxNumber from '../widgets/ComboboxNumber'\nimport TaskInfo from '../sides/TaskInfo'\nimport TextField from '../widgets/TextField'\nimport Schedule from './schedule/Schedule'\n\nexport default {\n  name: 'production-schedule',\n  components: {\n    ComboboxNumber,\n    Datepicker,\n    Schedule,\n    TaskInfo,\n    TextField\n  },\n\n  data () {\n    return {\n      currentTask: null,\n      overallManDays: 0,\n      endDate: moment().add(6, 'months'),\n      scheduleItems: [],\n      startDate: moment(),\n      selectedStartDate: null,\n      selectedEndDate: null,\n      zoomLevel: 3,\n      zoomOptions: [\n        { label: '1', value: 1 },\n        { label: '2', value: 2 },\n        { label: '3', value: 3 }\n      ],\n      loading: {\n        schedule: false\n      },\n      errors: {\n        schedule: false\n      }\n    }\n  },\n\n  mounted () {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetTypeMap',\n      'currentEpisode',\n      'currentProduction',\n      'isCurrentUserAdmin',\n      'isTVShow',\n      'taskTypeMap',\n      'timezone',\n      'user'\n    ]),\n\n    locale () {\n      if (this.user.locale === 'fr_FR') {\n        return fr\n      } else {\n        return en\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'editProduction',\n      'loadAssetTypeScheduleItems',\n      'loadEpisodeScheduleItems',\n      'loadMilestones',\n      'loadScheduleItems',\n      'loadSequenceScheduleItems',\n      'saveScheduleItem'\n    ]),\n\n    loadData () {\n      this.loading.schedule = true\n      this.loadScheduleItems(this.currentProduction)\n        .then((scheduleItems) => {\n          scheduleItems = scheduleItems.map((item) => {\n            const taskType = this.taskTypeMap[item.task_type_id]\n            return {\n              ...item,\n              color: taskType.color,\n              for_shots: taskType.for_shots,\n              name: taskType.name,\n              priority: taskType.priority,\n              startDate: moment(item.start_date, 'YYYY-MM-DD'),\n              endDate: moment(item.end_date, 'YYYY-MM-DD'),\n              expanded: false,\n              loading: false,\n              children: []\n            }\n          })\n          this.scheduleItems =\n            sortScheduleItems(scheduleItems, this.taskTypeMap)\n          this.loading.schedule = false\n        })\n        .then(this.loadMilestones)\n        .catch((err) => {\n          console.error(err)\n          this.loading.schedule = false\n        })\n    },\n\n    changeZoom (event) {\n      if (event.wheelDelta < 0 && this.zoomLevel > 1) this.zoomLevel--\n      if (event.wheelDelta > 0 && this.zoomLevel < 3) this.zoomLevel++\n    },\n\n    reset () {\n      if (this.currentProduction.start_date) {\n        this.startDate =\n          moment.utc(this.currentProduction.start_date, 'YYYY-MM-DD', 'en')\n      }\n      if (this.currentProduction.end_date) {\n        this.endDate = moment(this.currentProduction.end_date)\n      }\n      this.overallManDays = this.currentProduction.man_days\n      this.selectedStartDate = this.startDate.toDate()\n      this.selectedEndDate = this.endDate.toDate()\n      this.loadData()\n    },\n\n    convertScheduleItems (scheduleItems) {\n      return scheduleItems.map((item) => {\n        return {\n          ...item,\n          startDate: moment(item.start_date, 'YYYY-MM-DD', 'en'),\n          endDate: moment(item.end_date, 'YYYY-MM-DD', 'en'),\n          expanded: false,\n          loading: false,\n          children: []\n        }\n      })\n    },\n\n    expandTaskTypeElement (taskTypeElement) {\n      const parameters = {\n        production: this.currentProduction,\n        taskType: this.taskTypeMap[taskTypeElement.task_type_id]\n      }\n\n      taskTypeElement.expanded = !taskTypeElement.expanded\n      if (taskTypeElement.expanded) {\n        taskTypeElement.loading = true\n        let action = 'loadAssetTypeScheduleItems'\n        if (taskTypeElement.for_shots) {\n          if (this.isTVShow) action = 'loadEpisodeScheduleItems'\n          else action = 'loadSequenceScheduleItems'\n        }\n\n        this[action](parameters)\n          .then((scheduleItems) => {\n            taskTypeElement.loading = false\n            taskTypeElement.children = this.convertScheduleItems(scheduleItems)\n          })\n          .catch((err) => {\n            console.error(err)\n            taskTypeElement.loading = false\n            taskTypeElement.children = []\n          })\n      }\n    }\n  },\n\n  socket: {\n  },\n\n  watch: {\n    selectedStartDate () {\n      this.startDate = moment.utc(this.selectedStartDate, 'YYYY-MM-DD', 'en')\n      this.editProduction({\n        data: {\n          ...this.currentProduction,\n          start_date: this.startDate.format('YYYY-MM-DD')\n        }\n      })\n    },\n\n    selectedEndDate () {\n      this.endDate = moment(this.selectedEndDate)\n      this.editProduction({\n        data: {\n          ...this.currentProduction,\n          end_date: this.endDate.format('YYYY-MM-DD')\n        }\n      })\n    },\n\n    overallManDays () {\n      if (this.overallManDays !== this.currentProduction.man_days) {\n        this.editProduction({\n          data: {\n            ...this.currentProduction,\n            man_days: this.overallManDays\n          }\n        })\n      }\n    },\n\n    currentProduction () {\n      this.reset()\n    }\n  },\n\n  metaInfo () {\n    if (this.isTVShow) {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''}` +\n               ` - ${this.currentEpisode ? this.currentEpisode.name : ''}` +\n               ` | ${this.$t('schedule.title')} - Kitsu`\n      }\n    } else {\n      return {\n        title: `${this.currentProduction.name} ` +\n               `| ${this.$t('schedule.title')} - Kitsu`\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .project-dates {\n    color: $white-grey;\n    border-bottom: 1px solid $grey;\n  }\n}\n\n.project-dates {\n  border-bottom: 1px solid #EEE;\n  margin-left: 235px;\n  padding-bottom: 1em;\n\n  .field {\n    padding-bottom: 0;\n    margin-bottom: 0;\n  }\n\n  .overall-man-days {\n    width: 120px;\n    font-size: 0.9em;\n    margin-right: 1em;\n  }\n}\n\n.fixed-page {\n  padding: 1em;\n  padding-top: 90px;\n  padding-left: 2em;\n}\n\n.main-column {\n  display: flex;\n  border: 0;\n  overflow: hidden;\n  flex-direction: column;\n}\n\n.zoom-level {\n  margin-top: -10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionSchedule.vue?vue&type=template&id=ac9226d4&scoped=true&\"\nimport script from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductionSchedule.vue?vue&type=style&index=0&id=ac9226d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac9226d4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=ac9226d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=ac9226d4&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxNumber.vue?vue&type=style&index=0&id=4e1af092&lang=scss&scoped=true&\""],"sourceRoot":""}