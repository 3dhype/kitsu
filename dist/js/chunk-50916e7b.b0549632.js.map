{"version":3,"sources":["webpack:///./src/components/widgets/ErrorText.vue?483f","webpack:///src/components/widgets/ErrorText.vue","webpack:///./src/components/widgets/ErrorText.vue?f04f","webpack:///./src/components/widgets/ErrorText.vue","webpack:///./src/components/modals/EditPlaylistModal.vue?d1a8","webpack:///./src/components/pages/playlists/PlaylistedShot.vue?933e","webpack:///./src/components/pages/Playlist.vue?f2e1","webpack:///./src/components/pages/playlists/PlaylistPlayer.vue?33b7","webpack:///./src/components/modals/EditPlaylistModal.vue?a85f","webpack:///src/components/modals/EditPlaylistModal.vue","webpack:///./src/components/modals/EditPlaylistModal.vue?2d2c","webpack:///./src/components/modals/EditPlaylistModal.vue?725c","webpack:///./src/components/pages/playlists/PlaylistedShot.vue?3f3f","webpack:///src/components/pages/playlists/PlaylistedShot.vue","webpack:///./src/components/pages/playlists/PlaylistedShot.vue?a15d","webpack:///./src/components/pages/playlists/PlaylistedShot.vue?aee1","webpack:///./src/components/pages/playlists/RawVideoPlayer.vue?8a2f","webpack:///src/components/pages/playlists/RawVideoPlayer.vue","webpack:///./src/components/pages/playlists/RawVideoPlayer.vue?9765","webpack:///./src/components/pages/playlists/RawVideoPlayer.vue?4fa7","webpack:///src/components/pages/playlists/PlaylistPlayer.vue","webpack:///./src/components/pages/playlists/PlaylistPlayer.vue?cdbe","webpack:///./src/components/pages/playlists/PlaylistPlayer.vue?a890","webpack:///src/components/pages/Playlist.vue","webpack:///./src/components/pages/Playlist.vue?2e53","webpack:///./src/components/pages/Playlist.vue?f8fd","webpack:///./src/components/pages/Playlist.vue?f549","webpack:///./src/components/pages/playlists/RawVideoPlayer.vue?ba13","webpack:///./src/components/pages/playlists/PlaylistPlayer.vue?52c4"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","error","has-text-right","alignRight","is-hidden","hidden","_v","_s","text","staticRenderFns","ErrorTextvue_type_script_lang_js_","name","props","default","type","String","Boolean","widgets_ErrorTextvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPlaylistModal_vue_vue_type_style_index_0_id_7645d689_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPlaylistModal_vue_vue_type_style_index_0_id_7645d689_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlaylistedShot_vue_vue_type_style_index_0_id_6807972f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlaylistedShot_vue_vue_type_style_index_0_id_6807972f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","staticClass","key","button","is-loading","loading","addPlaylist","on","click","$t","_e","playlists","_l","playlist","id","playlist-item","selected","currentPlaylist","attrs","to","getPlaylistPath","formatDate","created_at","errors","ref","shots","currentShots","preview-changed","onPreviewChanged","playlist-deleted","goFirstPlaylist","remove-shot","removeShot","order-change","onOrderChange","annotationchanged","onAnnotationChanged","add-sequence","addWeekly","disabled","isAdditionLoading","addAllPending","addDaily","addDailyPending","episodes","length","isTVShow","sequenceOptions","label","options","model","value","callback","$$v","sequenceId","expression","addSequence","sequenceShots","shot","addition-shot","playlisted","undefined","$event","preventDefault","addShotToPlaylist","entity","empty-width","empty-height","PlaylistPlayervue_type_template_id_77fbe520_scoped_true_render","icon","showEditModal","showDeleteModal","shotList","shot-change","onShotChange","time-update","onTimeUpdate","max-duration-update","onMaxDurationUpdate","shotListToCompare","flexrow-item","task-info-column","isCommentsHidden","task","is-preview","min","onProgressBarClicked","annotations","max-duration-raw","maxDurationRaw","select-annotation","loadAnnotation","isPlaying","onPlayClicked","currentTime","maxDuration","currentFrame","onPreviousFrameClicked","onNextFrameClicked","playingShotIndex","onPlayPreviousShotClicked","onPlayNextShotClicked","comparison-button","playlist-button","active","isComparing","onCompareClicked","taskTypeOptions","taskTypeToCompare","isDrawing","onAnnotateClicked","onDeleteClicked","onCommentClicked","onFilmClicked","staticStyle","position","dl-button","zip-button","isDlButtonsHidden","href","zipDlPath","mp4-button","onBuildClicked","build-list","build_jobs","job","getBuildPath","status","onRemoveBuildJob","toggleDlButtons","onFullscreenClicked","playlisted-shots","flexrow","isShotsHidden","index","refInFor","is-playing","play-click","playShot","shot-dropped","onShotDropped","modals","edit","editPlaylist","is-error","editError","playlist-to-edit","cancel","hideEditModal","confirm","confirmEditPlaylist","delete","deletePlaylist","deleteText","error-text","confirmRemovePlaylist","hideDeleteModal","PlaylistPlayervue_type_template_id_77fbe520_scoped_true_staticRenderFns","EditPlaylistModalvue_type_template_id_7645d689_scoped_true_render","modal","is-active","playlistToEdit","submit","directives","rawName","enter","runConfirmation","form","$set","is-primary","isLoading","$emit","EditPlaylistModalvue_type_template_id_7645d689_scoped_true_staticRenderFns","EditPlaylistModalvue_type_script_lang_js_","mixins","base_modal","components","TextField","watch","_this","setTimeout","$refs","nameField","focus","data","methods","modals_EditPlaylistModalvue_type_script_lang_js_","EditPlaylistModal","PlaylistedShotvue_type_template_id_6807972f_scoped_true_render","transfer-data","drag","onDragged","playlisted-shot","playing","onPlayClick","title","onRemoveClick","preview-file-id","previewFileId","sequence_name","isCurrentUserManager","taskTypeId","previewFileOptions","drop","onDropped","PlaylistedShotvue_type_template_id_6807972f_scoped_true_staticRenderFns","PlaylistedShotvue_type_script_lang_js_","Combobox","EntityThumbnail","XIcon","vue_feather_icons_es","preview_file_id","Number","mounted","setCurrentParameters","setListeners","computed","objectSpread","vuex_esm","dropArea","keys","preview_files","map","taskTypeMap","sort","thenBy_module_default","thenBy","taskType","previewFiles","previewFile","concat","revision","getTaskTypeIdForPreviewFile","taskTypeIds","_this2","find","some","addEventListener","onDragover","onDragleave","style","background","shotId","before","after","event","stopPropagation","_this3","isPreviewFile","playlists_PlaylistedShotvue_type_script_lang_js_","PlaylistedShot_component","PlaylistedShot","RawVideoPlayervue_type_template_id_fc2c9bcc_scoped_true_render","preload","ended","playNext","RawVideoPlayervue_type_template_id_fc2c9bcc_scoped_true_staticRenderFns","RawVideoPlayervue_type_script_lang_js_","Array","currentPlayer","player1","nextPlayer","player2","playingIndex","resetHeight","window","beforeDestroy","removeEventListener","container","fps","currentProduction","getMoviePath","previewId","getNextIndex","i","preview_file_extension","getPreviousIndex","clear","src","removeAttribute","load","goPreviousFrame","newTime","setCurrentTime","goNextFrame","duration","video","loadPreviousShot","loadShot","currentIndex","loadNextShot","arguments","nextIndex","nextShot","updateMaxDuration","display","updateTime","pause","play","switchPlayers","$nextTick","height","offsetHeight","getCurrentTime","tmpPlayer","time","playlists_RawVideoPlayervue_type_script_lang_js_","RawVideoPlayer_component","RawVideoPlayer","PlaylistPlayervue_type_script_lang_js_","AnnotationBar","ButtonSimple","DeleteModal","Spinner","TaskInfo","currentTimeRaw","fabricCanvas","values","updateProgressBar","onKeyDown","onWindowResize","$el","onmousemove","onMouseMove","setupCanvas","isFullScreenEnabled","document","fullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","webkitSupportsFullscreen","webkitFullscreenEnabled","createElement","webkitRequestFullScreen","canvas","Math","floor","padStart","rawPlayer","rawPlayerComparison","progress","progressBar","progressCursor","movie","timezone","user","moment_timezone_default","a","tz","guess","creationDate","date","format","formatTime","seconds","milliseconds","round","Date","toISOString","substr","err","console","log","getTimelinePosition","offsetWidth","displayBars","opacity","cursor","hideBars","_this4","factor","width","progressCoordinates","getBoundingClientRect","x","left","top","y","updateTaskPanel","taskMap","preview_file_task_id","scrollToShot","shotWidget","playlistEl","preview_file_annotations","margin","rect","listRect","isRight","right","isLeft","scrollingRequired","scrollLeft","_scrollingRequired","scrollToRight","hideCanvas","clearCanvas","showCanvas","shotIndex","clearAnnotations","annotation","getAnnotation","_this5","$options","silent","findIndex","s","splice","setFullScreen","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","setAttribute","exitFullScreen","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","isFullScreen","fullScreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","e","pos","pageX","offsetLeft","onPlayPauseClicked","includes","target","tagName","keyCode","deleteSelection","now","getTime","lastCall","_this6","_this7","focusCommentTextarea","_this8","buttonBar","isMovieFullScreen","timer","clearTimeout","comparisonIndex","info","_this9","resetCanvas","resetCanvasSize","renderAll","setDimensions","rebuildComparisonOptions","_this10","forEach","shotTaskTypeIds","filter","rebuildShotListToCompare","_this11","preview","buildShotListToCompare","resetComparison","_this12","player","_this13","getObjects","obj","remove","_this14","isDrawingMode","_this15","fabric","Canvas","freeDrawingBrush","color","saveAnnotations","_this16","scaleMultiplierX","scaleMultiplierY","drawing","objects","base","fill","stroke","strokeWidth","radius","scaleX","scaleY","strokeMultiplier","canvasWidth","path","Path","setControlsVisibility","mt","mb","ml","mr","bl","br","tl","tr","mtr","add","_this17","toJSON","push","b","task_id","getActiveObject","runPlaylistBuild","playlist_id","removeBuildJob","_this18","_this19","playlists_PlaylistPlayervue_type_script_lang_js_","PlaylistPlayer_component","PlaylistPlayer","Playlistvue_type_script_lang_js_","ErrorText","PageSubtitle","PlusIcon","currentShot","isDeleteDisplayed","isEditDisplayed","playlistLoading","dateString","lib_time","playlistId","section","route","params","production_id","currentEpisode","episode_id","loadShotsData","loadShots","setAdditionSequences","loadPlaylistsData","loadPlaylists","setCurrentPlaylist","rebuildCurrentShots","tmpShots","shotPreview","addShotToCurrentShots","playlistShotMap","shotMap","shot_id","playlistShot","entity_name","tasks","extension","clearCurrentPlaylist","resetPlaylist","newPlaylist","$router","_callback","$route","playlistMap","loadPlaylist","playlistsPath","clearAdditionColumn","sequences","sequence","parent_id","setAdditionShots","sequence_id","addShot","Promise","resolve","reject","loadShotPreviewFiles","shotInfo","addShotPreviewToPlaylist","then","toConsumableArray","reverse","addShots","getPending","pop","removeShotPreviewFromPlaylist","changePlaylistPreview","changePlaylistOrder","_ref","taskId","updatePreviewAnnotation","metaInfo","socket","events","playlist:new","eventData","refreshPlaylist","playlist:update","assign","playlist:delete","$store","commit","build-job:new","build_job_id","build-job:success","models","build-job:delete","pages_Playlistvue_type_script_lang_js_","Playlist_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Playlist_vue_vue_type_style_index_0_id_2d62a6d5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Playlist_vue_vue_type_style_index_0_id_2d62a6d5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RawVideoPlayer_vue_vue_type_style_index_0_id_fc2c9bcc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RawVideoPlayer_vue_vue_type_style_index_0_id_fc2c9bcc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlaylistPlayer_vue_vue_type_style_index_0_id_77fbe520_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlaylistPlayer_vue_vue_type_style_index_0_id_77fbe520_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-50916e7b.b0549632.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{class:{\n  'error': true,\n  'has-text-right': _vm.alignRight,\n  'is-hidden': _vm.hidden\n}},[_vm._v(\"\\n  \"+_vm._s(_vm.text)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<p :class=\"{\n  'error': true,\n  'has-text-right': alignRight,\n  'is-hidden': hidden\n}\">\n  {{ text }}\n</p>\n</template>\n\n<script>\nexport default {\n  name: 'error-text',\n  props: {\n    text: {\n      default: '',\n      type: String\n    },\n    hidden: {\n      default: false,\n      type: Boolean\n    },\n    alignRight: {\n      default: false,\n      type: Boolean\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorText.vue?vue&type=template&id=1338c033&\"\nimport script from \"./ErrorText.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=7645d689&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=style&index=0&id=7645d689&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistedShot.vue?vue&type=style&index=0&id=6807972f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistedShot.vue?vue&type=style&index=0&id=6807972f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"productions page fixed-page\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"playlist-list-column column\"},[(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n          button: true,\n          'is-loading': _vm.loading.addPlaylist\n        },on:{\"click\":_vm.addPlaylist}},[_c('plus-icon',{staticClass:\"icon is-small\"}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('playlists.new_playlist'))+\"\\n      \")],1):_vm._e(),(!_vm.loading.playlists)?_c('div',{staticClass:\"playlists\"},_vm._l((_vm.playlists),function(playlist){return _c('router-link',{key:playlist.id,class:{\n            'playlist-item': true,\n            selected: playlist.id === _vm.currentPlaylist.id\n          },attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('span',[_vm._v(\"\\n          \"+_vm._s(playlist.name)+\"\\n          \")]),_c('span',{staticClass:\"playlist-date\"},[_vm._v(\"\\n          \"+_vm._s(_vm.formatDate(playlist.created_at))+\"\\n          \")])])}),1):_c('spinner',{staticClass:\"mt2\"}),(_vm.errors.playlistLoading)?_c('error-text',{attrs:{\"text\":\"$t('playlists.loading_error')\"}}):_vm._e()],1),_c('div',{staticClass:\"playlist-column column\"},[_c('playlist-player',{ref:\"playlist-player\",attrs:{\"playlist\":_vm.currentPlaylist,\"shots\":_vm.currentShots,\"is-loading\":_vm.loading.playlist},on:{\"preview-changed\":_vm.onPreviewChanged,\"playlist-deleted\":_vm.goFirstPlaylist,\"remove-shot\":_vm.removeShot,\"order-change\":_vm.onOrderChange,\"annotationchanged\":_vm.onAnnotationChanged}})],1),(_vm.isCurrentUserManager)?_c('div',{staticClass:\"addition-column column\"},[(_vm.isShotsLoading)?_c('spinner',{key:\"shot-loader\",staticClass:\"mt2\"}):_c('div',[_c('div',{staticClass:\"addition-header\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('playlists.add_shots')}}),_c('button',{class:{\n              button: true,\n              'add-sequence': true,\n              'is-loading': this.loading.addWeekly\n            },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addAllPending}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('playlists.build_weekly'))+\"\\n          \")]),_c('button',{class:{\n              button: true,\n              'add-sequence': true,\n              'is-loading': this.loading.addDaily\n            },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addDailyPending}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('playlists.build_daily'))+\"\\n          \")]),(_vm.episodes.length > 0 || !_vm.isTVShow)?_c('div',{key:\"shot-list-header\",staticClass:\"mt1\"},[_c('div',[(_vm.sequenceOptions.length > 0)?_c('combobox',{staticClass:\"select-sequence-combobox\",attrs:{\"label\":_vm.$t('shots.fields.sequence'),\"options\":_vm.sequenceOptions},model:{value:(_vm.sequenceId),callback:function ($$v) {_vm.sequenceId=$$v},expression:\"sequenceId\"}}):_vm._e(),(_vm.sequenceOptions.length === 0)?_c('div',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('playlists.no_sequence_for_episode'))+\"\\n              \")]):_vm._e(),(_vm.sequenceOptions.length > 0)?_c('button',{class:{\n                  button: true,\n                  'add-sequence': true,\n                  'is-loading': this.loading.addSequence\n                },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addSequence}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('playlists.add_sequence'))+\"\\n              \")]):_vm._e()],1)]):_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('playlists.no_shot_for_production'))+\"\\n          \")]),(_vm.sequenceShots.length === 0 && _vm.sequenceId)?_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('playlists.no_shot_for_sequence'))+\"\\n          \")]):_vm._e()],1),_vm._l((_vm.sequenceShots),function(shot){return _c('div',{key:shot.id,class:{\n            'addition-shot': true,\n            playlisted: _vm.currentShots[shot.id] !== undefined\n          },on:{\"click\":function($event){$event.preventDefault();return _vm.addShotToPlaylist(shot)}}},[_c('entity-thumbnail',{attrs:{\"entity\":shot,\"empty-width\":150,\"empty-height\":100}}),_vm._v(\"\\n          \"+_vm._s(shot.name)+\"\\n        \")],1)})],2)],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"playlist-player dark\"},[_c('div',{ref:\"header\",staticClass:\"playlist-header flexrow\"},[_c('span',{staticClass:\"flexrow-item playlist-name\"},[_vm._v(\"\\n      \"+_vm._s(_vm.playlist.name)+\"\\n    \")]),_c('button-simple',{staticClass:\"edit-button playlist-button flexrow-item\",attrs:{\"icon\":\"edit\"},on:{\"click\":_vm.showEditModal}}),_c('button-simple',{staticClass:\"delete-button playlist-button flexrow-item\",attrs:{\"icon\":\"delete\"},on:{\"click\":_vm.showDeleteModal}})],1),_c('div',{ref:\"video-container\",staticClass:\"filler flexrow video-container\"},[_c('raw-video-player',{ref:\"raw-player\",staticClass:\"raw-player\",attrs:{\"shots\":_vm.shotList},on:{\"shot-change\":_vm.onShotChange,\"time-update\":_vm.onTimeUpdate,\"max-duration-update\":_vm.onMaxDurationUpdate}}),(_vm.isComparing)?_c('raw-video-player',{ref:\"raw-player-comparison\",staticClass:\"raw-player\",attrs:{\"shots\":_vm.shotListToCompare}}):_vm._e(),_c('div',{staticClass:\"canvas-wrapper\"},[_c('canvas',{ref:\"annotation-canvas\",staticClass:\"canvas\",attrs:{\"id\":\"annotation-canvas\"}})]),_c('task-info',{ref:\"task-info\",class:{\n        'flexrow-item': true,\n        'task-info-column': true,\n        'hidden': _vm.isCommentsHidden\n      },attrs:{\"task\":_vm.task,\"is-preview\":false}})],1),_c('div',{ref:\"progress-cursor\",staticClass:\"progress-cursor\"}),_c('div',{ref:\"playlist-progress\",staticClass:\"playlist-progress\"},[_c('div',{staticClass:\"video-progress\"},[_c('progress',{ref:\"progress\",attrs:{\"value\":\"0\",\"min\":\"0\"},on:{\"click\":_vm.onProgressBarClicked}},[_c('span',{ref:\"progress-bar\",attrs:{\"id\":\"progress-bar\"}})])])]),(_vm.playlist.id)?_c('annotation-bar',{ref:\"playlist-annotation\",staticClass:\"playlist-annotations\",attrs:{\"annotations\":_vm.annotations,\"max-duration-raw\":_vm.maxDurationRaw},on:{\"select-annotation\":_vm.loadAnnotation}}):_vm._e(),(_vm.playlist.id)?_c('div',{ref:\"button-bar\",staticClass:\"playlist-footer flexrow\"},[(!_vm.isPlaying)?_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"play\"},on:{\"click\":_vm.onPlayClicked}}):_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"pause\"},on:{\"click\":_vm.onPlayClicked}}),_c('span',{staticClass:\"flexrow-item time-indicator\"},[_vm._v(\"\\n      \"+_vm._s(_vm.currentTime)+\"\\n    \")]),_c('span',{staticClass:\"flexrow-item time-indicator\"},[_vm._v(\"\\n    /\\n    \")]),_c('span',{staticClass:\"flexrow-item time-indicator\"},[_vm._v(\"\\n      \"+_vm._s(_vm.maxDuration)+\"\\n    \")]),_c('span',{staticClass:\"flexrow-item time-indicator mr1\"},[_vm._v(\"\\n      (\"+_vm._s(_vm.currentFrame)+\")\\n    \")]),_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"left\"},on:{\"click\":_vm.onPreviousFrameClicked}}),_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"right\"},on:{\"click\":_vm.onNextFrameClicked}}),_c('span',{staticClass:\"flexrow-item time-indicator\"},[_vm._v(\"\\n      \"+_vm._s(_vm.shotList.length > 0 ? _vm.playingShotIndex + 1 : 0)+\"\\n    \")]),_c('span',{staticClass:\"flexrow-item time-indicator\"},[_vm._v(\"\\n    /\\n    \")]),_c('span',{staticClass:\"flexrow-item time-indicator mr1\"},[_vm._v(\"\\n      \"+_vm._s(_vm.shotList.length)+\"\\n    \")]),_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"back\"},on:{\"click\":_vm.onPlayPreviousShotClicked}}),_c('button-simple',{staticClass:\"playlist-button flexrow-item\",attrs:{\"icon\":\"forward\"},on:{\"click\":_vm.onPlayNextShotClicked}}),(_vm.taskTypeOptions)?_c('button-simple',{class:{\n        'comparison-button': true,\n        'flexrow-item': true,\n        'playlist-button': true,\n        active: _vm.isComparing\n      },attrs:{\"icon\":\"compare\"},on:{\"click\":_vm.onCompareClicked}}):_vm._e(),(_vm.isComparing)?_c('combobox',{staticClass:\"playlist-button flexrow-item comparison-list\",attrs:{\"options\":_vm.taskTypeOptions},model:{value:(_vm.taskTypeToCompare),callback:function ($$v) {_vm.taskTypeToCompare=$$v},expression:\"taskTypeToCompare\"}}):_vm._e(),_c('span',{staticClass:\"filler\"}),_c('button-simple',{class:{\n        'playlist-button': true,\n        'flexrow-item': true,\n        active: _vm.isDrawing\n      },attrs:{\"icon\":\"pencil\"},on:{\"click\":_vm.onAnnotateClicked}}),_c('button-simple',{staticClass:\"playlist-button flexrow-item\",attrs:{\"icon\":\"remove\"},on:{\"click\":_vm.onDeleteClicked}}),_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"comment\"},on:{\"click\":_vm.onCommentClicked}}),_c('button-simple',{staticClass:\"playlist-button flexrow-item\",attrs:{\"icon\":\"film\"},on:{\"click\":_vm.onFilmClicked}}),_c('div',{staticClass:\"flexrow-item playlist-button\",staticStyle:{\"position\":\"relative\"}},[_c('a',{class:{\n          'dl-button': true,\n          'zip-button': true,\n          hidden: _vm.isDlButtonsHidden\n        },attrs:{\"href\":_vm.zipDlPath}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('playlists.download_zip'))+\"\\n      \")]),_c('span',{class:{\n          'dl-button': true,\n          'mp4-button': true,\n          hidden: _vm.isDlButtonsHidden\n        },on:{\"click\":_vm.onBuildClicked}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('playlists.build_mp4'))+\"\\n      \")]),_c('div',{class:{\n          'build-list': true,\n          hidden: _vm.isDlButtonsHidden\n        }},[(!_vm.playlist.build_jobs || _vm.playlist.build_jobs.length === 0)?_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('playlists.no_build'))+\"\\n        \")]):_c('div',[_c('div',{staticClass:\"build-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('playlists.available_build'))+\"\\n          \")]),_vm._l((_vm.playlist.build_jobs),function(job){return _c('div',{key:job.id,staticClass:\"flexrow\"},[_c('a',{staticClass:\"flexrow-item\",attrs:{\"href\":_vm.getBuildPath(job)}},[_vm._v(\"\\n              \"+_vm._s(_vm.formatDate(job.created_at))+\"\\n            \")]),_c('span',{staticClass:\"filler\"}),(job.status === 'running')?_c('spinner',{staticClass:\"build-spinner\"}):_c('button',{staticClass:\"delete-job-button\",on:{\"click\":function($event){return _vm.onRemoveBuildJob(job)}}},[_vm._v(\"\\n              x\\n            \")])],1)})],2)]),_c('button-simple',{staticClass:\"playlist-button\",attrs:{\"icon\":\"download\"},on:{\"click\":_vm.toggleDlButtons}})],1),(_vm.isFullScreenEnabled)?_c('button-simple',{staticClass:\"button playlist-button flexrow-item\",attrs:{\"icon\":\"maximize\"},on:{\"click\":_vm.onFullscreenClicked}}):_vm._e()],1):_vm._e(),(_vm.playlist.id)?_c('div',{ref:\"playlisted-shots\",class:{\n      'playlisted-shots': true,\n      flexrow: true,\n      hidden: _vm.isShotsHidden\n    }},[(_vm.isLoading)?_c('spinner',{staticClass:\"spinner\"}):_vm._l((_vm.shotList),function(shot,index){return _c('div',{key:shot.id,staticClass:\"flexrow-item has-text-centered\"},[_c('playlisted-shot',{ref:'shot-' + index,refInFor:true,attrs:{\"index\":index,\"shot\":shot,\"is-playing\":_vm.playingShotIndex === index},on:{\"play-click\":_vm.playShot,\"remove-shot\":_vm.removeShot,\"preview-changed\":_vm.onPreviewChanged,\"shot-dropped\":_vm.onShotDropped}})],1)})],2):_vm._e(),_c('edit-playlist-modal',{attrs:{\"active\":_vm.modals.edit,\"is-loading\":_vm.loading.editPlaylist,\"is-error\":_vm.errors.editError,\"playlist-to-edit\":_vm.playlist},on:{\"cancel\":_vm.hideEditModal,\"confirm\":_vm.confirmEditPlaylist}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.delete,\"is-loading\":_vm.loading.deletePlaylist,\"is-error\":_vm.errors.deletePlaylist,\"text\":_vm.deleteText,\"error-text\":_vm.$t('playlists.delete_error')},on:{\"confirm\":_vm.confirmRemovePlaylist,\"cancel\":_vm.hideDeleteModal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box\"},[(_vm.playlistToEdit && _vm.playlistToEdit.id)?_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"playlists.edit_title\"))+\" \"+_vm._s(_vm.playlistToEdit.name)+\"\\n      \")]):_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"playlists.no_playlist\"))+\"\\n      \")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('text-field',{directives:[{name:\"focus\",rawName:\"v-focus\"}],ref:\"nameField\",attrs:{\"label\":_vm.$t('playlists.fields.name')},on:{\"enter\":_vm.runConfirmation},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('p',{staticClass:\"has-text-right\"},[_c('a',{class:{\n            button: true,\n            'is-primary': true,\n            'is-loading': _vm.isLoading\n          },on:{\"click\":_vm.runConfirmation}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"main.confirmation\"))+\"\\n        \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"main.cancel\"))+\"\\n        \")])]),(_vm.isError)?_c('p',{staticClass:\"error has-text-right info-message\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"assets.edit_fail\"))+\"\\n      \")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-content\">\n    <div class=\"box\">\n      <h1 class=\"title\" v-if=\"playlistToEdit && playlistToEdit.id\">\n        {{ $t(\"playlists.edit_title\") }} {{ playlistToEdit.name }}\n      </h1>\n      <h1 class=\"title\" v-else>\n        {{ $t(\"playlists.no_playlist\") }}\n      </h1>\n\n      <form v-on:submit.prevent>\n        <text-field\n          ref=\"nameField\"\n          :label=\"$t('playlists.fields.name')\"\n          v-model=\"form.name\"\n          @enter=\"runConfirmation\"\n          v-focus\n        >\n        </text-field>\n      </form>\n\n      <p class=\"has-text-right\">\n        <a\n          :class=\"{\n            button: true,\n            'is-primary': true,\n            'is-loading': isLoading\n          }\"\n          @click=\"runConfirmation\">\n          {{ $t(\"main.confirmation\") }}\n        </a>\n        <button\n          @click=\"$emit('cancel')\"\n          class=\"button is-link\">\n          {{ $t(\"main.cancel\") }}\n        </button>\n      </p>\n\n      <p class=\"error has-text-right info-message\" v-if=\"isError\">\n        {{ $t(\"assets.edit_fail\") }}\n      </p>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport TextField from '../widgets/TextField'\n\nimport { modalMixin } from './base_modal'\n\nexport default {\n  name: 'edit-playlist-modal',\n  mixins: [modalMixin],\n  components: {\n    TextField\n  },\n\n  props: [\n    'active',\n    'cancelRoute',\n    'isLoading',\n    'isError',\n    'playlistToEdit'\n  ],\n\n  watch: {\n    playlistToEdit () {\n      if (this.playlistToEdit && this.playlistToEdit.id) {\n        this.form.name = this.playlistToEdit.name\n      } else {\n        this.form = {\n          name: ''\n        }\n      }\n    },\n\n    active () {\n      if (this.active) {\n        setTimeout(() => {\n          this.$refs.nameField.focus()\n        }, 100)\n      }\n    }\n  },\n\n  data () {\n    if (this.playlistToEdit && this.playlistToEdit.id) {\n      return {\n        form: {\n          name: this.playlistToEdit.name\n        }\n      }\n    } else {\n      return {\n        form: {\n          name: ''\n        }\n      }\n    }\n  },\n\n  methods: {\n    runConfirmation () {\n      this.$emit('confirm', this.form)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.is-danger {\n  color: #ff3860;\n  font-style: italic;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlaylistModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPlaylistModal.vue?vue&type=template&id=7645d689&scoped=true&\"\nimport script from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPlaylistModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPlaylistModal.vue?vue&type=style&index=0&id=7645d689&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7645d689\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flexrow wrapper\"},[_c('drag',{attrs:{\"transfer-data\":_vm.shot.id},on:{\"drag\":_vm.onDragged}},[_c('div',{class:{\n        'playlisted-shot': true,\n        playing: _vm.isPlaying\n      }},[_c('div',{staticClass:\"thumbnail-wrapper\",on:{\"click\":function($event){$event.preventDefault();return _vm.onPlayClick($event)}}},[(_vm.isCurrentUserManager)?_c('span',{staticClass:\"remove-button flexrow-item\",attrs:{\"title\":_vm.$t('playlists.remove')},on:{\"click\":function($event){$event.preventDefault();return _vm.onRemoveClick($event)}}},[_c('x-icon')],1):_vm._e(),_c('entity-thumbnail',{staticClass:\"shot-thumbnail\",attrs:{\"empty-width\":150,\"empty-height\":103,\"entity\":_vm.shot,\"preview-file-id\":_vm.previewFileId}})],1),_c('div',{staticClass:\"shot-title\"},[_vm._v(_vm._s(_vm.shot.sequence_name)+\" / \"+_vm._s(_vm.shot.name))]),(_vm.taskTypeOptions.length > 0)?_c('div',{staticClass:\"preview-choice\"},[_c('div',[_c('combobox',{attrs:{\"options\":_vm.taskTypeOptions,\"disabled\":!_vm.isCurrentUserManager},model:{value:(_vm.taskTypeId),callback:function ($$v) {_vm.taskTypeId=$$v},expression:\"taskTypeId\"}})],1),_c('div',{staticClass:\"flexrow\"},[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"options\":_vm.previewFileOptions,\"disabled\":!_vm.isCurrentUserManager},model:{value:(_vm.previewFileId),callback:function ($$v) {_vm.previewFileId=$$v},expression:\"previewFileId\"}}),_c('span',{staticClass:\"filler\"})],1)]):_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('playlists.no_preview'))+\"\\n      \")])])]),_c('drop',{on:{\"drop\":_vm.onDropped}},[_c('div',{ref:\"drop-area\",staticClass:\"drop-area\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"flexrow wrapper\">\n  <drag @drag=\"onDragged\" :transfer-data=\"shot.id\">\n    <div\n      :class=\"{\n        'playlisted-shot': true,\n        playing: isPlaying\n      }\"\n    >\n      <div class=\"thumbnail-wrapper\" @click.prevent=\"onPlayClick\">\n        <span\n          class=\"remove-button flexrow-item\"\n          :title=\"$t('playlists.remove')\"\n          @click.prevent=\"onRemoveClick\"\n          v-if=\"isCurrentUserManager\"\n        >\n          <x-icon />\n        </span>\n        <entity-thumbnail\n          class=\"shot-thumbnail\"\n          :empty-width=\"150\"\n          :empty-height=\"103\"\n          :entity=\"shot\"\n          :preview-file-id=\"previewFileId\"\n        />\n      </div>\n\n      <div class=\"shot-title\">{{ shot.sequence_name }} / {{ shot.name }}</div>\n\n      <div\n        class=\"preview-choice\"\n        v-if=\"taskTypeOptions.length > 0\"\n      >\n        <div>\n          <combobox\n            :options=\"taskTypeOptions\"\n            :disabled=\"!isCurrentUserManager\"\n            v-model=\"taskTypeId\"\n          />\n        </div>\n        <div class=\"flexrow\">\n          <combobox\n            class=\"flexrow-item\"\n            :options=\"previewFileOptions\"\n            :disabled=\"!isCurrentUserManager\"\n            v-model=\"previewFileId\"\n          />\n          <span class=\"filler\"></span>\n        </div>\n      </div>\n      <div v-else>\n        {{ $t('playlists.no_preview') }}\n      </div>\n    </div>\n  </drag>\n  <drop @drop=\"onDropped\">\n    <div class=\"drop-area\" ref=\"drop-area\"></div>\n  </drop>\n</div>\n</template>\n\n<script>\n/*\n * Widget to describe a shot listed in a playlist. It allows to select a given\n * prevision for a given task type for current shot.\n * It fires events about drag'n'drop reordering too.\n */\nimport firstBy from 'thenby'\nimport { mapGetters } from 'vuex'\nimport { XIcon } from 'vue-feather-icons'\n\nimport Combobox from '../../widgets/Combobox'\nimport EntityThumbnail from '../../widgets/EntityThumbnail'\n\nexport default {\n  name: 'playlisted-shot',\n\n  components: {\n    Combobox,\n    EntityThumbnail,\n    XIcon\n  },\n\n  data () {\n    return {\n      taskTypeId: null,\n      previewFileId: this.shot.preview_file_id\n    }\n  },\n\n  props: {\n    index: {\n      default: 0,\n      type: Number\n    },\n    isPlaying: {\n      default: false,\n      type: Boolean\n    },\n    shot: {\n      default: () => {},\n      type: Object\n    }\n  },\n\n  mounted () {\n    this.setCurrentParameters()\n    this.setListeners()\n  },\n\n  computed: {\n    ...mapGetters([\n      'taskTypeMap',\n      'isCurrentUserManager'\n    ]),\n\n    dropArea () {\n      return this.$refs['drop-area']\n    },\n\n    taskTypeOptions () {\n      return Object\n        .keys(this.shot.preview_files)\n        .map(id => this.taskTypeMap[id])\n        .sort(firstBy('priority', -1).thenBy('name'))\n        .map((taskType) => {\n          return {\n            label: taskType.name,\n            value: taskType.id\n          }\n        })\n    },\n\n    previewFileOptions () {\n      const previewFiles = this.shot.preview_files[this.taskTypeId] || []\n      return previewFiles.map(previewFile => ({\n        label: `v${previewFile.revision}`,\n        value: previewFile.id\n      }))\n    }\n  },\n\n  methods: {\n    getTaskTypeIdForPreviewFile (taskTypeIds, previewFileId) {\n      return taskTypeIds.find((taskTypeId) => {\n        const previewFiles = this.shot.preview_files[taskTypeId]\n        return previewFiles.some(previewFile => {\n          return previewFile.id === previewFileId\n        })\n      })\n    },\n\n    setCurrentParameters () {\n      // Find task type matching current preview.\n      const taskTypeIds = Object.keys(this.shot.preview_files)\n      if (taskTypeIds.length > 0) {\n        if (this.shot.preview_file_id) {\n          this.taskTypeId = this.getTaskTypeIdForPreviewFile(\n            taskTypeIds,\n            this.shot.preview_file_id\n          )\n        }\n        if (!this.taskTypeId) {\n          this.taskTypeId = taskTypeIds[0]\n        }\n      }\n    },\n\n    setListeners () {\n      this.dropArea.addEventListener('dragover', this.onDragover)\n      this.dropArea.addEventListener('dragleave', this.onDragleave)\n    },\n\n    onDragged () {\n    },\n\n    onDragleave () {\n      this.dropArea.style.background = 'transparent'\n    },\n\n    onDragover () {\n      this.dropArea.style.background = '#00B242'\n    },\n\n    onDropped (shotId) {\n      this.$refs['drop-area'].style.background = 'transparent'\n      this.$emit('shot-dropped', {\n        before: this.shot.id,\n        after: shotId\n      })\n    },\n\n    onPlayClick () {\n      this.$emit('play-click', this.index)\n    },\n\n    onRemoveClick (event) {\n      event.preventDefault()\n      event.stopPropagation()\n      this.$emit('remove-shot', this.shot)\n    }\n  },\n\n  watch: {\n    taskTypeId () {\n      // Set current preview was last preview selected. If there is no preview\n      // matching this task type, it selects the first preview available for\n      // this task type.\n      const previewFiles = this.shot.preview_files[this.taskTypeId]\n      if (previewFiles && previewFiles.length > 0) {\n        const isPreviewFile = previewFiles.some(previewFile => {\n          return previewFile.id === this.shot.preview_file_id\n        })\n        if (isPreviewFile) {\n          this.previewFileId = this.shot.preview_file_id\n        } else {\n          this.previewFileId = previewFiles[0].id\n        }\n      }\n    },\n\n    previewFileId () {\n      this.$emit('preview-changed', this.shot, this.previewFileId)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  align-items: stretch;\n}\n\n.drop-area {\n  width: 10px;\n  margin-left: 10px;\n  height: 100%;\n}\n\n.playlisted-shot {\n  border-top: 3px solid transparent;\n  display: flex;\n  flex-direction: column;\n  min-width: 150px;\n  padding:0;\n\n  &.playing {\n    border-top: 3px solid $green;\n  }\n}\n\n.shot-title {\n  margin-bottom: 0.6em;\n}\n\n.thumbnail-wrapper {\n  position: relative;\n}\n\n.field {\n  margin-bottom: 0em;\n}\n\n.remove-button {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: 0;\n  margin: 0.4em;\n  border-radius: 2em;\n  text-align: center;\n  background: rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n  z-index: 100;\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.2);\n  }\n\n  svg {\n    width: 10px;\n    height: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistedShot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistedShot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlaylistedShot.vue?vue&type=template&id=6807972f&scoped=true&\"\nimport script from \"./PlaylistedShot.vue?vue&type=script&lang=js&\"\nexport * from \"./PlaylistedShot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlaylistedShot.vue?vue&type=style&index=0&id=6807972f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6807972f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"video-wrapper filler flexrow-item\"},[_c('video',{ref:\"player1\",attrs:{\"preload\":\"auto\"},on:{\"ended\":_vm.playNext}}),_c('video',{ref:\"player2\",attrs:{\"preload\":\"auto\"},on:{\"ended\":_vm.playNext}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div ref=\"container\" class=\"video-wrapper filler flexrow-item\">\n  <video\n    ref=\"player1\"\n    preload=\"auto\"\n    @ended=\"playNext\"\n  />\n  <video\n    ref=\"player2\"\n    preload=\"auto\"\n    @ended=\"playNext\"\n  />\n</div>\n</template>\n\n<script>\n/*\n * To play several videos, to avoid blinking effects, it's required to use\n * two video players. When switching from a shot to another, we hide and show\n * players so the blink does not occur.\n */\nimport { mapGetters } from 'vuex'\nimport { roundToFrame } from '../../../lib/video'\n\nexport default {\n  name: 'raw-video-player',\n\n  components: {\n  },\n\n  props: {\n    shots: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data () {\n    return {\n      currentPlayer: this.player1,\n      isPlaying: false,\n      nextPlayer: this.player2,\n      playingIndex: 0\n    }\n  },\n\n  // Video need to be resized after each window size change. It's due\n  // to a HTML5 limitation related to video height.\n  mounted () {\n    this.resetHeight()\n    window.addEventListener('resize', this.resetHeight)\n  },\n\n  beforeDestroy () {\n    window.removeEventListener('resize', this.resetHeight)\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction'\n    ]),\n\n    container () {\n      return this.$refs.container\n    },\n\n    fps () {\n      return this.currentProduction.fps || 24\n    },\n\n    player1 () {\n      return this.$refs.player1\n    },\n\n    player2 () {\n      return this.$refs.player2\n    }\n  },\n\n  methods: {\n    getMoviePath (previewId) {\n      return `/api/movies/originals/preview-files/${previewId}.mp4`\n    },\n\n    getNextIndex (index) {\n      let i = index + 1 >= this.shots.length ? 0 : index + 1\n      // While we don't come back to initial shot and we have video previews\n      while (i !== index && this.shots[i].preview_file_extension !== 'mp4') {\n        i++\n        if (i >= this.shots.length) i = 0\n      }\n      return i\n    },\n\n    getPreviousIndex (index) {\n      let i = index - 1 >= 0 ? index - 1 : this.shots.length - 1\n      // While we don't come back to initial shot and we have video previews\n      while (i !== index && this.shots[i].preview_file_extension !== 'mp4') {\n        i--\n        if (i < 0) i = this.shots.length\n      }\n      return i\n    },\n\n    clear () {\n      if (this.currentPlayer) {\n        this.currentPlayer.src = ''\n        this.currentPlayer.removeAttribute('src')\n        this.currentPlayer.load()\n      }\n    },\n\n    goPreviousFrame () {\n      let newTime = this.currentPlayer.currentTime - 1 / this.fps\n      if (newTime < 0) {\n        this.setCurrentTime(0)\n      } else {\n        this.setCurrentTime(newTime)\n      }\n    },\n\n    goNextFrame () {\n      let newTime = this.currentPlayer.currentTime + 1 / this.fps\n      if (newTime > this.currentPlayer.duration) {\n        this.setCurrentTime(this.video.duration)\n      } else {\n        this.setCurrentTime(newTime)\n      }\n    },\n\n    loadPreviousShot () {\n      this.loadShot(this.getPreviousIndex(this.currentIndex))\n      this.$emit('shot-change', this.currentIndex)\n    },\n\n    loadNextShot () {\n      this.loadShot(this.getNextIndex(this.currentIndex))\n      this.$emit('shot-change', this.currentIndex)\n    },\n\n    loadShot (index = 0) {\n      if (index < this.shots.length) {\n        const nextIndex = this.getNextIndex(index)\n        const shot = this.shots[index]\n        const nextShot = this.shots[nextIndex]\n\n        this.currentIndex = index\n        this.currentPlayer = this.player1\n        this.nextPlayer = this.player2\n        this.currentPlayer.removeEventListener(\n          'loadedmetadata',\n          this.updateMaxDuration\n        )\n        this.currentPlayer.addEventListener(\n          'loadedmetadata',\n          this.updateMaxDuration\n        )\n\n        this.currentPlayer.src = this.getMoviePath(shot.preview_file_id)\n        this.nextPlayer.src = this.getMoviePath(nextShot.preview_file_id)\n        this.currentPlayer.style.display = 'block'\n        this.nextPlayer.style.display = 'none'\n        this.resetHeight()\n\n        this.currentPlayer.removeEventListener('timeupdate', this.updateTime)\n        this.currentPlayer.addEventListener('timeupdate', this.updateTime)\n\n        this.$emit('shot-change', this.currentIndex)\n      }\n    },\n\n    pause () {\n      if (this.currentPlayer) this.currentPlayer.pause()\n      this.isPlaying = false\n    },\n\n    play () {\n      let shot = this.shots[this.currentIndex]\n      if (shot) {\n        if (!shot.preview_file_id) this.loadNextShot()\n        shot = this.shots[this.currentIndex]\n        if (shot.preview_file_id) {\n          if (this.currentPlayer) this.currentPlayer.play()\n          this.isPlaying = true\n        }\n      }\n    },\n\n    playNext () {\n      let nextIndex = this.getNextIndex(this.currentIndex)\n      this.currentIndex = nextIndex\n      this.$emit('shot-change', this.currentIndex)\n\n      this.currentPlayer.style.display = 'none'\n      this.nextPlayer.style.display = 'block'\n      this.nextPlayer.play()\n\n      this.switchPlayers()\n      this.updateMaxDuration()\n    },\n\n    resetHeight () {\n      this.$nextTick(() => {\n        if (this.currentPlayer) this.currentPlayer.style.height = `0px`\n        if (this.nextPlayer) this.nextPlayer.style.height = `0px`\n        let height = this.container.offsetHeight\n        if (this.currentPlayer) this.currentPlayer.style.height = `${height}px`\n        if (this.nextPlayer) this.nextPlayer.style.height = `${height}px`\n      })\n    },\n\n    getCurrentTime () {\n      return this.currentPlayer.currentTime\n    },\n\n    setCurrentTime (currentTime) {\n      currentTime = roundToFrame(currentTime, this.fps)\n      if (this.currentPlayer) this.currentPlayer.currentTime = currentTime\n    },\n\n    switchPlayers () {\n      const nextIndex = this.getNextIndex(this.currentIndex)\n      const nextShot = this.shots[nextIndex]\n      this.tmpPlayer = this.currentPlayer\n      this.currentPlayer = this.nextPlayer\n      this.nextPlayer = this.tmpPlayer\n      this.nextPlayer.src = this.getMoviePath(nextShot.preview_file_id)\n      this.resetHeight()\n\n      this.currentPlayer.removeEventListener('timeupdate', this.updateTime)\n      this.nextPlayer.removeEventListener('timeupdate', this.updateTime)\n      this.currentPlayer.addEventListener('timeupdate', this.updateTime)\n    },\n\n    updateTime (time) {\n      this.$emit('time-update', time)\n    },\n\n    updateMaxDuration () {\n      this.$emit('max-duration-update', this.currentPlayer.duration)\n    }\n  },\n\n  watch: {\n    shots () {\n      if (this.shots.length > 0) {\n        this.loadShot(0)\n        this.pause()\n        this.setCurrentTime(0)\n\n        const shot = this.shots[this.currentIndex]\n        if (shot && !shot.preview_file_id) this.loadNextShot()\n      }\n      setTimeout(this.resetHeight, 300)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.video-wrapper {\n  height: 100%;\n}\n\n.container {\n  max-height: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RawVideoPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RawVideoPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RawVideoPlayer.vue?vue&type=template&id=fc2c9bcc&scoped=true&\"\nimport script from \"./RawVideoPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./RawVideoPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RawVideoPlayer.vue?vue&type=style&index=0&id=fc2c9bcc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc2c9bcc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\n<div ref=\"container\" class=\"playlist-player dark\">\n  <div class=\"playlist-header flexrow\" ref=\"header\">\n    <span class=\"flexrow-item playlist-name\">\n      {{ playlist.name }}\n    </span>\n    <button-simple\n      @click=\"showEditModal\"\n      class=\"edit-button playlist-button flexrow-item\"\n      icon=\"edit\"\n    />\n    <button-simple\n      @click=\"showDeleteModal\"\n      class=\"delete-button playlist-button flexrow-item\"\n      icon=\"delete\"\n    />\n  </div>\n\n  <div class=\"filler flexrow video-container\" ref=\"video-container\">\n    <raw-video-player\n      class=\"raw-player\"\n      ref=\"raw-player\"\n      :shots=\"shotList\"\n      @shot-change=\"onShotChange\"\n      @time-update=\"onTimeUpdate\"\n      @max-duration-update=\"onMaxDurationUpdate\"\n    />\n    <raw-video-player\n      class=\"raw-player\"\n      ref=\"raw-player-comparison\"\n      :shots=\"shotListToCompare\"\n      v-if=\"isComparing\"\n    />\n    <div class=\"canvas-wrapper\">\n      <canvas\n        id=\"annotation-canvas\"\n        ref=\"annotation-canvas\"\n        class=\"canvas\"\n      >\n      </canvas>\n    </div>\n\n    <task-info\n      ref=\"task-info\"\n      :class=\"{\n        'flexrow-item': true,\n        'task-info-column': true,\n        'hidden': isCommentsHidden\n      }\"\n      :task=\"task\"\n      :is-preview=\"false\"\n    />\n  </div>\n\n  <div\n    class=\"progress-cursor\"\n    ref=\"progress-cursor\"\n  ></div>\n  <div\n    class=\"playlist-progress\"\n    ref=\"playlist-progress\"\n  >\n    <div class=\"video-progress\">\n      <progress\n        ref=\"progress\"\n        value=\"0\"\n        min=\"0\"\n        @click=\"onProgressBarClicked\"\n      >\n        <span\n          id=\"progress-bar\"\n          ref=\"progress-bar\"\n        ></span>\n      </progress>\n    </div>\n  </div>\n\n  <annotation-bar\n    class=\"playlist-annotations\"\n    ref=\"playlist-annotation\"\n    :annotations=\"annotations\"\n    :max-duration-raw=\"maxDurationRaw\"\n    @select-annotation=\"loadAnnotation\"\n    v-if=\"playlist.id\"\n  />\n\n  <div\n    class=\"playlist-footer flexrow\"\n    ref=\"button-bar\"\n    v-if=\"playlist.id\"\n  >\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onPlayClicked\"\n      icon=\"play\"\n      v-if=\"!isPlaying\"\n    />\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onPlayClicked\"\n      icon=\"pause\"\n      v-else\n    />\n    <span class=\"flexrow-item time-indicator\">\n      {{ currentTime }}\n    </span>\n    <span class=\"flexrow-item time-indicator\">\n    /\n    </span>\n    <span class=\"flexrow-item time-indicator\">\n      {{ maxDuration }}\n    </span>\n    <span class=\"flexrow-item time-indicator mr1\">\n      ({{ currentFrame }})\n    </span>\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onPreviousFrameClicked\"\n      icon=\"left\"\n    />\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onNextFrameClicked\"\n      icon=\"right\"\n    />\n\n    <span class=\"flexrow-item time-indicator\">\n      {{ shotList.length > 0 ? playingShotIndex + 1 : 0 }}\n    </span>\n    <span class=\"flexrow-item time-indicator\">\n    /\n    </span>\n    <span class=\"flexrow-item time-indicator mr1\">\n      {{ shotList.length }}\n    </span>\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onPlayPreviousShotClicked\"\n      icon=\"back\"\n    />\n    <button-simple\n      class=\"playlist-button flexrow-item\"\n      @click=\"onPlayNextShotClicked\"\n      icon=\"forward\"\n    />\n    <button-simple\n      :class=\"{\n        'comparison-button': true,\n        'flexrow-item': true,\n        'playlist-button': true,\n        active: isComparing\n      }\"\n      icon=\"compare\"\n      @click=\"onCompareClicked\"\n      v-if=\"taskTypeOptions\"\n    />\n    <combobox\n      class=\"playlist-button flexrow-item comparison-list\"\n      :options=\"taskTypeOptions\"\n      v-model=\"taskTypeToCompare\"\n      v-if=\"isComparing\"\n    />\n    <span class=\"filler\"></span>\n\n    <button-simple\n      :class=\"{\n        'playlist-button': true,\n        'flexrow-item': true,\n        active: isDrawing\n      }\"\n      @click=\"onAnnotateClicked\"\n      icon=\"pencil\"\n    />\n    <button-simple\n      class=\"playlist-button flexrow-item\"\n      icon=\"remove\"\n      @click=\"onDeleteClicked\"\n    />\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onCommentClicked\"\n      icon=\"comment\"\n    />\n    <button-simple\n      class=\"playlist-button flexrow-item\"\n      @click=\"onFilmClicked\"\n      icon=\"film\"\n    />\n\n    <div class=\"flexrow-item playlist-button\" style=\"position: relative\">\n      <a\n        :class=\"{\n          'dl-button': true,\n          'zip-button': true,\n          hidden: isDlButtonsHidden\n        }\"\n        :href=\"zipDlPath\"\n      >\n        {{ $t('playlists.download_zip') }}\n      </a>\n      <span\n        :class=\"{\n          'dl-button': true,\n          'mp4-button': true,\n          hidden: isDlButtonsHidden\n        }\"\n        @click=\"onBuildClicked\"\n      >\n        {{ $t('playlists.build_mp4') }}\n      </span>\n      <div\n        :class=\"{\n          'build-list': true,\n          hidden: isDlButtonsHidden\n        }\"\n      >\n        <span v-if=\"!playlist.build_jobs || playlist.build_jobs.length === 0\">\n        {{ $t('playlists.no_build') }}\n        </span>\n        <div\n          v-else\n        >\n          <div class=\"build-title\">\n            {{ $t('playlists.available_build') }}\n          </div>\n          <div\n            class=\"flexrow\"\n            :key=\"job.id\"\n            v-for=\"job in playlist.build_jobs\"\n          >\n            <a\n              class=\"flexrow-item\"\n              :href=\"getBuildPath(job)\"\n            >\n              {{ formatDate(job.created_at) }}\n            </a>\n            <span class=\"filler\"></span>\n            <spinner\n              class=\"build-spinner\"\n              v-if=\"job.status === 'running'\"\n            />\n            <button\n              class=\"delete-job-button\"\n              @click=\"onRemoveBuildJob(job)\"\n              v-else\n            >\n              x\n            </button>\n          </div>\n        </div>\n      </div>\n      <button-simple\n        class=\"playlist-button\"\n        icon=\"download\"\n        @click=\"toggleDlButtons\"\n      />\n    </div>\n\n    <button-simple\n      class=\"button playlist-button flexrow-item\"\n      @click=\"onFullscreenClicked\"\n      icon=\"maximize\"\n      v-if=\"isFullScreenEnabled\"\n    />\n  </div>\n\n  <div\n    :class=\"{\n      'playlisted-shots': true,\n      flexrow: true,\n      hidden: isShotsHidden\n    }\"\n    ref=\"playlisted-shots\"\n    v-if=\"playlist.id\"\n  >\n    <spinner class=\"spinner\" v-if=\"isLoading\" />\n    <div\n      class=\"flexrow-item has-text-centered\"\n      :key=\"shot.id\"\n      v-for=\"(shot, index) in shotList\"\n      v-else\n    >\n      <playlisted-shot\n        :ref=\"'shot-' + index\"\n        :index=\"index\"\n        :shot=\"shot\"\n        :is-playing=\"playingShotIndex === index\"\n        @play-click=\"playShot\"\n        @remove-shot=\"removeShot\"\n        @preview-changed=\"onPreviewChanged\"\n        @shot-dropped=\"onShotDropped\"\n      />\n    </div>\n  </div>\n\n  <edit-playlist-modal\n    :active=\"modals.edit\"\n    :is-loading=\"loading.editPlaylist\"\n    :is-error=\"errors.editError\"\n    :playlist-to-edit=\"playlist\"\n    @cancel=\"hideEditModal\"\n    @confirm=\"confirmEditPlaylist\"\n  />\n\n  <delete-modal\n    :active=\"modals.delete\"\n    :is-loading=\"loading.deletePlaylist\"\n    :is-error=\"errors.deletePlaylist\"\n    :text=\"deleteText\"\n    :error-text=\"$t('playlists.delete_error')\"\n    @confirm=\"confirmRemovePlaylist\"\n    @cancel=\"hideDeleteModal\"\n  />\n</div>\n</template>\n\n<script>\n/*\n * This modules manages all the options available while playing a playlist.\n * It is made to work with a single playlist.\n */\nimport moment from 'moment-timezone'\nimport { mapActions, mapGetters } from 'vuex'\nimport { fabric } from 'fabric'\n\nimport { roundToFrame } from '../../../lib/video'\nimport AnnotationBar from './AnnotationBar'\nimport ButtonSimple from '../../widgets/ButtonSimple'\nimport Combobox from '../../widgets/Combobox'\nimport DeleteModal from '../../modals/DeleteModal'\nimport EditPlaylistModal from '../../modals/EditPlaylistModal'\nimport PlaylistedShot from './PlaylistedShot'\nimport RawVideoPlayer from './RawVideoPlayer'\nimport Spinner from '../../widgets/Spinner'\nimport TaskInfo from '../../sides/TaskInfo'\n\nexport default {\n  name: 'playlist-player',\n\n  components: {\n    AnnotationBar,\n    ButtonSimple,\n    Combobox,\n    DeleteModal,\n    EditPlaylistModal,\n    PlaylistedShot,\n    RawVideoPlayer,\n    Spinner,\n    TaskInfo\n  },\n\n  props: {\n    playlist: {\n      type: Object,\n      default: () => {}\n    },\n    shots: {\n      type: Object,\n      default: () => {}\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      annotations: [],\n      currentTime: '00:00.00',\n      currentTimeRaw: 0,\n      fabricCanvas: null,\n      isDlButtonsHidden: true,\n      isCommentsHidden: true,\n      isComparing: false,\n      isDrawing: false,\n      isPlaying: false,\n      isShotsHidden: false,\n      maxDuration: '00:00.00',\n      maxDurationRaw: 0,\n      playingShotIndex: 0,\n      shotList: [],\n      shotListToCompare: [],\n      task: null,\n      taskTypeOptions: [],\n      taskTypeToCompare: null,\n      modals: {\n        edit: false,\n        delete: false\n      },\n      loading: {\n        playlists: false,\n        editPlaylist: false,\n        deletePlaylist: false\n      },\n      errors: {\n        playlists: false,\n        editPlaylist: false,\n        deletePlaylist: false\n      }\n    }\n  },\n\n  mounted () {\n    this.shotList = Object.values(this.shots)\n    this.updateProgressBar()\n    this.$nextTick(() => {\n      window.addEventListener('keydown', this.onKeyDown, false)\n      window.addEventListener('resize', this.onWindowResize)\n      this.$el.onmousemove = this.onMouseMove\n      this.setupCanvas()\n    })\n  },\n\n  beforeDestroy () {\n    window.removeEventListener('keydown', this.onKeyDown)\n    window.removeEventListener('resize', this.onWindowResize)\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'taskMap',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    isFullScreenEnabled () {\n      return !!(\n        document.fullscreenEnabled ||\n        document.mozFullScreenEnabled ||\n        document.msFullscreenEnabled ||\n        document.webkitSupportsFullscreen ||\n\n        document.webkitFullscreenEnabled ||\n        document.createElement('video').webkitRequestFullScreen\n      )\n    },\n\n    zipDlPath () {\n      return `/api/data/playlists/${this.playlist.id}/download/zip`\n    },\n\n    canvas () {\n      return this.$refs['annotation-canvas']\n    },\n\n    container () {\n      return this.$refs.container\n    },\n\n    currentFrame () {\n      return `${Math.floor(this.currentTimeRaw * this.fps)}`.padStart(3, '0')\n    },\n\n    fps () {\n      return this.currentProduction.fps || 24\n    },\n\n    rawPlayer () {\n      return this.$refs['raw-player']\n    },\n\n    rawPlayerComparison () {\n      return this.$refs['raw-player-comparison']\n    },\n\n    progress () {\n      return this.$refs.progress\n    },\n\n    progressBar () {\n      return this.$refs['progress-bar']\n    },\n\n    progressCursor () {\n      return this.$refs['progress-cursor']\n    },\n\n    video () {\n      return this.$refs.movie\n    },\n\n    deleteText () {\n      if (this.playlist) {\n        return this.$t('playlists.delete_text', { name: this.playlist.name })\n      } else {\n        return ''\n      }\n    },\n\n    timezone () {\n      return this.user.timezone || moment.tz.guess()\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'deletePlaylist',\n      'editPlaylist',\n      'removeBuildJob',\n      'runPlaylistBuild'\n    ]),\n\n    getBuildPath (job) {\n      return `/api/data/playlists/${this.playlist.id}/jobs/${job.id}/build/mp4`\n    },\n\n    formatDate (creationDate) {\n      const date = moment.tz(creationDate, 'UTC').tz(this.timezone)\n      return date.format('YYYY-MM-DD HH:mm')\n    },\n\n    formatTime (seconds) {\n      let milliseconds = `.${Math.round((seconds % 1) * 100)}`\n      if (milliseconds.length === 2) milliseconds += '0'\n      try {\n        return new Date(1000 * seconds)\n          .toISOString()\n          .substr(14, 5) + milliseconds\n      } catch (err) {\n        console.log(err)\n        return '00:00.00'\n      }\n    },\n\n    getTimelinePosition (time, index) {\n      if (this.$refs.movie) {\n        let position = Math.round(\n          (time / this.$refs.movie.duration) * this.progress.offsetWidth\n        )\n        position = position - index * 10 - 5\n        if (position < 0) position = 0\n        if (position + 10 > this.progress.offsetWidth) {\n          position = position - 5\n        }\n        return position\n      } else {\n        return 0\n      }\n    },\n\n    displayBars () {\n      this.$refs['header'].style.display = 'flex'\n      this.$refs['button-bar'].style.display = 'flex'\n      this.$refs['playlist-progress'].style.display = 'flex'\n      this.$refs['header'].style.opacity = 1\n      this.$refs['button-bar'].style.opacity = 1\n      this.$refs['playlist-progress'].style.opacity = 1\n      this.$refs['container'].style.cursor = 'default'\n    },\n\n    hideBars () {\n      this.$refs['header'].style.opacity = 0\n      this.$refs['button-bar'].style.opacity = 0\n      this.$refs['playlist-progress'].style.opacity = 0\n      setTimeout(() => {\n        this.$refs['header'].style.display = 'none'\n        this.$refs['button-bar'].style.display = 'none'\n        this.$refs['playlist-progress'].style.display = 'none'\n        this.$refs['container'].style.cursor = 'none'\n      }, 500)\n    },\n\n    showEditModal () {\n      this.modals.edit = true\n    },\n\n    hideEditModal () {\n      this.modals.edit = false\n    },\n\n    showDeleteModal () {\n      this.modals.delete = true\n    },\n\n    hideDeleteModal () {\n      this.modals.delete = false\n    },\n\n    confirmRemovePlaylist () {\n      this.loading.deletePlaylist = true\n      this.errors.deletePlaylist = false\n      this.deletePlaylist({\n        playlist: this.playlist,\n        callback: (err) => {\n          if (err) this.errors.deletePlaylist = true\n          this.loading.deletePlaylist = false\n          this.$emit('playlist-deleted')\n          this.modals.delete = false\n        }\n      })\n    },\n\n    confirmEditPlaylist (form) {\n      this.loading.editPlaylist = true\n      this.errors.editPlaylist = false\n      this.editPlaylist({\n        data: {\n          name: form.name,\n          id: this.playlist.id\n        },\n        callback: (err) => {\n          if (err) this.errors.editPlaylist = true\n          this.loading.editPlaylist = false\n          this.modals.edit = false\n          this.playlist.name = form.name\n        }\n      })\n    },\n\n    updateProgressBar () {\n      const factor = this.currentTimeRaw / this.maxDurationRaw\n      this.progress.value = this.currentTimeRaw\n      this.progressBar.style.width = Math.floor(factor * 100) + '%'\n      const progressCoordinates = this.progress.getBoundingClientRect()\n      const x = progressCoordinates.width * factor + progressCoordinates.x\n      this.progressCursor.style.left = Math.round(x - 7) + 'px'\n      this.progressCursor.style.top = Math.round(progressCoordinates.y - 3) + 'px'\n    },\n\n    updateTaskPanel () {\n      if (this.shotList.length > 0) {\n        const shot = this.shotList[this.playingShotIndex]\n        if (shot) this.task = this.taskMap[shot.preview_file_task_id]\n        else this.task = null\n      } else {\n        this.task = null\n      }\n    },\n\n    scrollToShot (index) {\n      if (this.$refs['shot-' + index]) {\n        const shotWidget = this.$refs['shot-' + index][0].$el\n        const playlistEl = this.$refs['playlisted-shots']\n        const shot = this.shotList[index]\n        this.annotations = shot.preview_file_annotations || []\n        if (shotWidget) {\n          const margin = 30\n          const rect = shotWidget.getBoundingClientRect()\n          const listRect = playlistEl.getBoundingClientRect()\n          const isRight = rect.right > listRect.right - margin\n          const isLeft = rect.left < listRect.left - margin\n\n          if (isLeft) {\n            const scrollingRequired = rect.left - listRect.left - margin\n            playlistEl.scrollLeft = playlistEl.scrollLeft + scrollingRequired\n          } else if (isRight) {\n            const scrollingRequired = rect.right - listRect.right + margin\n            playlistEl.scrollLeft = playlistEl.scrollLeft + scrollingRequired\n          }\n        }\n      }\n    },\n\n    scrollToRight () {\n      if (this.shotList.length > 0) {\n        this.scrollToShot(this.shotList.length - 1)\n      }\n    },\n\n    play () {\n      this.rawPlayer.play()\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].play()\n      }\n      this.isPlaying = this.$refs['raw-player'].isPlaying\n      this.hideCanvas()\n      this.clearCanvas()\n    },\n\n    pause () {\n      this.showCanvas()\n      this.rawPlayer.pause()\n      if (this.isComparing) this.$refs['raw-player-comparison'].pause()\n      this.isPlaying = false\n    },\n\n    playShot (shotIndex) {\n      const shot = this.shotList[shotIndex]\n      this.clearCanvas()\n      if (shot.preview_file_extension === 'mp4') {\n        this.annotations = shot.preview_file_annotations || []\n        this.playingShotIndex = shotIndex\n        this.scrollToShot(this.playingShotIndex)\n        this.rawPlayer.loadShot(shotIndex)\n        if (this.isComparing) {\n          this.$refs['raw-player-comparison'].loadShot(shotIndex)\n        }\n        if (this.isPlaying) {\n          this.rawPlayer.play()\n          if (this.isComparing) this.$refs['raw-player-comparison'].play()\n        }\n      } else {\n        this.annotations = []\n      }\n    },\n\n    goPreviousFrame () {\n      this.clearAnnotations()\n      this.rawPlayer.goPreviousFrame()\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].goPreviousFrame()\n      }\n      const annotation = this.getAnnotation(this.rawPlayer.getCurrentTime())\n      if (annotation) this.loadAnnotation(annotation)\n    },\n\n    goNextFrame () {\n      this.clearAnnotations()\n      this.rawPlayer.goNextFrame()\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].goNextFrame()\n      }\n      const annotation = this.getAnnotation(this.rawPlayer.getCurrentTime())\n      if (annotation) this.loadAnnotation(annotation)\n    },\n\n    removeShot (shot) {\n      this.$emit('remove-shot', shot)\n      this.$options.silent = true\n      const shotIndex = this.shotList.findIndex(s => s.id === shot.id)\n      this.shotList.splice(shotIndex, 1)\n      setTimeout(() => {\n        this.$options.silent = false\n      }, 1000)\n    },\n\n    setFullScreen () {\n      if (this.container.requestFullscreen) {\n        this.container.requestFullscreen()\n      } else if (this.container.mozRequestFullScreen) {\n        this.container.mozRequestFullScreen()\n      } else if (this.container.webkitRequestFullScreen) {\n        this.container.webkitRequestFullScreen()\n      } else if (this.container.msRequestFullscreen) {\n        this.container.msRequestFullscreen()\n      }\n      this.container.setAttribute('data-fullscreen', !!true)\n    },\n\n    exitFullScreen () {\n      if (document.exitFullscreen) {\n        document.exitFullscreen()\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen()\n      } else if (document.webkitCancelFullScreen) {\n        document.webkitCancelFullScreen()\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen()\n      }\n      this.container.setAttribute('data-fullscreen', !!false)\n    },\n\n    isFullScreen () {\n      return !!(\n        document.fullScreen ||\n        document.webkitIsFullScreen ||\n        document.mozFullScreen ||\n        document.msFullscreenElement ||\n        document.fullscreenElement\n      )\n    },\n\n    onProgressBarClicked (e) {\n      this.clearCanvas()\n      var pos =\n        (e.pageX - this.progress.offsetLeft) / this.progress.offsetWidth\n      const currentTime = pos * this.maxDurationRaw\n      this.rawPlayer.setCurrentTime(currentTime)\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].setCurrentTime(currentTime)\n      }\n    },\n\n    onPreviousFrameClicked () {\n      this.goPreviousFrame()\n    },\n\n    onNextFrameClicked () {\n      this.goNextFrame()\n    },\n\n    onPlayPreviousShotClicked () {\n      this.rawPlayer.loadPreviousShot()\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].loadPreviousShot()\n      }\n      if (this.isPlaying) this.play()\n    },\n\n    onPlayNextShotClicked () {\n      this.rawPlayer.loadNextShot()\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].loadNextShot()\n      }\n      if (this.isPlaying) this.play()\n    },\n\n    onPlayPauseClicked () {\n      if (!this.isPlaying) {\n        this.play()\n      } else {\n        this.pause()\n      }\n    },\n\n    onFullscreenClicked () {\n      if (this.isFullScreen()) {\n        this.exitFullScreen()\n      } else {\n        this.setFullScreen()\n      }\n    },\n\n    onKeyDown (event) {\n      this.displayBars()\n      if (!['INPUT', 'TEXTAREA'].includes(event.target.tagName)) {\n        if (event.keyCode === 46 && this.fabricCanvas) {\n          this.deleteSelection()\n        } else if (event.keyCode === 37) {\n          event.preventDefault()\n          event.stopPropagation()\n          this.goPreviousFrame()\n        } else if (event.keyCode === 39) {\n          event.preventDefault()\n          event.stopPropagation()\n          this.goNextFrame()\n        } else if (event.keyCode === 32) {\n          event.preventDefault()\n          event.stopPropagation()\n          this.onPlayPauseClicked()\n        }\n      }\n    },\n\n    onWindowResize () {\n      const now = (new Date().getTime())\n      this.lastCall = this.lastCall || 0\n      if (now - this.lastCall > 600) {\n        this.lastCall = now\n        this.$nextTick(this.resetHeight)\n      }\n    },\n\n    onFilmClicked () {\n      this.isShotsHidden = !this.isShotsHidden\n      this.$nextTick(() => {\n        this.resetHeight()\n        this.scrollToShot(this.playingShotIndex)\n      })\n    },\n\n    onCommentClicked () {\n      let height = this.$refs['video-container'].offsetHeight\n      this.isCommentsHidden = !this.isCommentsHidden\n      if (!this.isCommentsHidden) {\n        this.$refs['task-info'].$el.style.height = `${height}px`\n      }\n      this.$nextTick(() => {\n        this.$refs['task-info'].focusCommentTextarea()\n        this.resetHeight()\n      })\n    },\n\n    onCompareClicked () {\n      this.isComparing = !this.isComparing\n    },\n\n    onPlayClicked () {\n      if (this.rawPlayer.isPlaying) {\n        this.pause()\n      } else {\n        this.play()\n      }\n    },\n\n    onTimeUpdate () {\n      if (this.rawPlayer.currentPlayer) {\n        this.currentTimeRaw = this.rawPlayer.currentPlayer.currentTime\n      } else {\n        this.currentTimeRaw = 0\n      }\n      this.currentTime = this.formatTime(this.currentTimeRaw)\n      this.updateProgressBar()\n    },\n\n    onMaxDurationUpdate (duration) {\n      this.maxDurationRaw = duration\n      this.maxDuration = this.formatTime(duration)\n      this.progress.setAttribute('max', this.maxDurationRaw)\n    },\n\n    onMouseMove () {\n      const buttonBar = this.$refs['button-bar']\n      if (buttonBar && buttonBar.style.opacity !== 1) {\n        this.displayBars()\n      }\n      let isMovieFullScreen =\n        this.isFullScreen() && this.isShotsHidden && this.isCommentsHidden\n      if (isMovieFullScreen) {\n        if (this.timer) clearTimeout(this.timer)\n        this.timer = setTimeout(() => {\n          let isMovieFullScreen =\n            this.isFullScreen() && this.isShotsHidden && this.isCommentsHidden\n          if (isMovieFullScreen) this.hideBars()\n        }, 2000)\n      }\n    },\n\n    onShotChange (shotIndex) {\n      this.playingShotIndex = shotIndex\n      if (this.rawPlayerComparison) {\n        const comparisonIndex = this.rawPlayerComparison.playingIndex\n        if (comparisonIndex < shotIndex) {\n          this.rawPlayerComparison.playNext()\n        } else {\n          this.rawPlayerComparison.setCurrentTime(0)\n          this.rawPlayerComparison.play()\n        }\n      }\n      if (!this.$options.silent) this.scrollToShot(this.playingShotIndex)\n    },\n\n    onPreviewChanged (shot, previewFileId) {\n      this.$emit('preview-changed', shot, previewFileId)\n    },\n\n    onShotDropped (info) {\n      this.$emit('order-change', info)\n    },\n\n    resetHeight () {\n      this.$nextTick(() => {\n        let height = this.$refs['container'].offsetHeight\n        height -= this.$refs['header'].offsetHeight\n        height -= this.$refs['playlist-progress'].offsetHeight\n        if (this.$refs['button-bar']) {\n          height -= this.$refs['button-bar'].offsetHeight\n        }\n        if (this.$refs['playlisted-shots']) {\n          height -= this.$refs['playlisted-shots'].offsetHeight\n        }\n        if (this.$refs['playlist-annotation']) {\n          height -= this.$refs['playlist-annotation'].$el.offsetHeight\n        }\n        this.$refs['video-container'].style.height = `${height}px`\n        if (!this.isCommentsHidden) {\n          this.$refs['task-info'].$el.style.height = `${height}px`\n        }\n        this.rawPlayer.resetHeight()\n        if (this.isComparing) {\n          this.$refs['raw-player-comparison'].resetHeight()\n        }\n        this.$nextTick(() => {\n          this.resetCanvas()\n          this.updateProgressBar()\n        })\n      })\n    },\n\n    resetCanvas () {\n      this.resetCanvasSize()\n      this.fabricCanvas.renderAll()\n      this.clearCanvas()\n      const annotation = this.getAnnotation(this.currentTimeRaw)\n      if (annotation) this.loadAnnotation(annotation)\n    },\n\n    resetCanvasSize () {\n      if (this.rawPlayer) {\n        const width = this.rawPlayer.$el.offsetWidth\n        const height = this.rawPlayer.$el.offsetHeight\n        this.fabricCanvas.setDimensions({ width, height })\n      }\n    },\n\n    rebuildComparisonOptions () {\n      const shots = Object.values(this.shots)\n      if (shots.length > 0) {\n        let taskTypeIds = Object.keys(shots[0].preview_files)\n        Object.values(this.shots).forEach((shot) => {\n          const shotTaskTypeIds = Object.keys(shot.preview_files)\n          taskTypeIds = taskTypeIds.filter(\n            value => shotTaskTypeIds.includes(value)\n          )\n        })\n        this.taskTypeOptions = taskTypeIds.map((taskTypeId) => {\n          return {\n            label: this.taskTypeMap[taskTypeId].name,\n            value: this.taskTypeMap[taskTypeId].id\n          }\n        })\n        if (this.taskTypeOptions.length > 0) {\n          this.taskTypeToCompare = this.taskTypeOptions[0].value\n        }\n      } else {\n        this.taskTypeOptions = []\n      }\n    },\n\n    rebuildShotListToCompare () {\n      if (this.taskTypeToCompare) {\n        this.shotListToCompare = this.shotList.map((shot) => {\n          const preview = shot.preview_files[this.taskTypeToCompare][0]\n          return ({\n            preview_file_id: preview.id,\n            preview_file_extension: 'mp4'\n          })\n        })\n      } else {\n        this.buildShotListToCompare = []\n      }\n    },\n\n    resetComparison () {\n      this.rebuildShotListToCompare()\n      this.$nextTick(() => {\n        this.pause()\n        const player = this.$refs['raw-player-comparison']\n        player.loadShot(this.playingShotIndex)\n        player.setCurrentTime(this.currentTimeRaw)\n      })\n    },\n\n    clearCanvas () {\n      if (this.fabricCanvas) {\n        this.fabricCanvas.getObjects().forEach((obj) => {\n          this.fabricCanvas.remove(obj)\n        })\n      }\n    },\n\n    clearAnnotations () {\n      if (this.fabricCanvas && this.fabricCanvas.getObjects().length > 0) {\n        this.fabricCanvas.getObjects().forEach((obj) => {\n          if (['rect', 'circle', 'path'].includes(obj.type)) {\n            this.fabricCanvas.remove(obj)\n          }\n        })\n      }\n    },\n\n    onAnnotateClicked () {\n      this.showCanvas()\n      if (this.isDrawing) {\n        this.fabricCanvas.isDrawingMode = false\n        this.isDrawing = false\n      } else {\n        this.fabricCanvas.isDrawingMode = true\n        this.isDrawing = true\n      }\n    },\n\n    showCanvas () {\n      this.canvas.style.display = 'block'\n    },\n\n    hideCanvas () {\n      this.canvas.style.display = 'none'\n    },\n\n    setupCanvas () {\n      this.fabricCanvas = new fabric.Canvas('annotation-canvas', {\n        width: 400,\n        height: 400\n      })\n      this.fabricCanvas.freeDrawingBrush.color = '#ff3860'\n      this.fabricCanvas.freeDrawingBrush.width = 4\n      this.fabricCanvas.on('object:moved', this.saveAnnotations)\n      this.fabricCanvas.on('mouse:up', () => {\n        if (this.isDrawing) this.saveAnnotations()\n      })\n      this.resetCanvas()\n      this.fabricCanvas.renderAll()\n    },\n\n    loadAnnotation (annotation) {\n      this.pause()\n      const currentTime = annotation.time\n      this.rawPlayer.setCurrentTime(currentTime)\n      if (this.isComparing) {\n        this.$refs['raw-player-comparison'].setCurrentTime(currentTime)\n      }\n      this.currentTimeRaw = currentTime\n      this.updateProgressBar()\n\n      this.fabricCanvas.isDrawingMode = false\n      this.isDrawing = false\n      this.clearAnnotations()\n\n      let scaleMultiplierX = 1\n      let scaleMultiplierY = 1\n      if (annotation.width) {\n        scaleMultiplierX = this.fabricCanvas.width / annotation.width\n        scaleMultiplierY = this.fabricCanvas.width / annotation.width\n      }\n      if (annotation.height) {\n        scaleMultiplierY = this.fabricCanvas.height / annotation.height\n      }\n\n      annotation.drawing.objects.forEach((obj) => {\n        const base = {\n          left: obj.left * scaleMultiplierX,\n          top: obj.top * scaleMultiplierY,\n          fill: 'transparent',\n          stroke: '#ff3860',\n          strokeWidth: 4,\n          radius: obj.radius,\n          width: obj.width,\n          height: obj.height,\n          scaleX: obj.scaleX * scaleMultiplierX,\n          scaleY: obj.scaleY * scaleMultiplierY\n        }\n        if (obj.type === 'path') {\n          let strokeMultiplier = 1\n          if (obj.canvasWidth) {\n            strokeMultiplier = obj.canvasWidth / this.fabricCanvas.width\n          }\n          const path = new fabric.Path(\n            obj.path,\n            {\n              ...base,\n              strokeWidth: 3 * strokeMultiplier,\n              canvasWidth: obj.canvasWidth\n            }\n          )\n          path.setControlsVisibility({\n            mt: false,\n            mb: false,\n            ml: false,\n            mr: false,\n            bl: false,\n            br: false,\n            tl: false,\n            tr: false,\n            mtr: false\n          })\n          this.fabricCanvas.add(path)\n        }\n      })\n    },\n\n    saveAnnotations () {\n      const currentTime = roundToFrame(this.currentTimeRaw, this.fps)\n      if (!this.annotations) return\n      const annotation = this.getAnnotation(currentTime)\n\n      this.fabricCanvas.getObjects().forEach((obj) => {\n        if (obj.type === 'path') {\n          if (!obj.canvasWidth) obj.canvasWidth = this.fabricCanvas.width\n          obj.setControlsVisibility({\n            mt: false,\n            mb: false,\n            ml: false,\n            mr: false,\n            bl: false,\n            br: false,\n            tl: false,\n            tr: false,\n            mtr: false\n          })\n        }\n      })\n\n      if (annotation) {\n        annotation.drawing = this.fabricCanvas.toJSON(['canvasWidth'])\n        annotation.width = this.fabricCanvas.width\n        annotation.height = this.fabricCanvas.height\n        if (annotation.drawing && annotation.drawing.objects.length < 1) {\n          const index = this.annotations.findIndex(\n            (annotation) => annotation.time === currentTime\n          )\n          this.annotations.splice(index, 1)\n        }\n      } else {\n        this.annotations.push({\n          time: currentTime,\n          width: this.fabricCanvas.width,\n          height: this.fabricCanvas.height,\n          drawing: this.fabricCanvas.toJSON(['canvasWidth'])\n        })\n        this.annotations = this.annotations.sort((a, b) => {\n          return a.time < b.time\n        }) || []\n      }\n      const annotations = []\n      this.annotations.forEach(a => annotations.push({ ...a }))\n      const shot = this.shotList[this.playingShotIndex]\n      const preview = {\n        id: shot.preview_file_id,\n        task_id: shot.preview_file_task_id,\n        annotations: shot.preview_file_annotations\n      }\n      this.$emit('annotationchanged', {\n        preview: preview,\n        annotations: annotations\n      })\n    },\n\n    onDeleteClicked () {\n      this.deleteSelection()\n    },\n\n    deleteSelection () {\n      this.fabricCanvas.remove(this.fabricCanvas.getActiveObject())\n      this.saveAnnotations()\n    },\n\n    getAnnotation (time) {\n      time = roundToFrame(time, this.fps)\n      if (this.annotations) {\n        return this.annotations.find(\n          (annotation) => annotation.time === time\n        )\n      } else {\n        return null\n      }\n    },\n\n    toggleDlButtons () {\n      this.isDlButtonsHidden = !this.isDlButtonsHidden\n    },\n\n    onBuildClicked () {\n      this.runPlaylistBuild(this.playlist)\n    },\n\n    onRemoveBuildJob (job) {\n      job.playlist_id = this.playlist.id\n      this.removeBuildJob(job)\n    }\n  },\n\n  watch: {\n    playingShotIndex () {\n      this.updateTaskPanel()\n    },\n\n    isComparing () {\n      if (this.isComparing) {\n        this.resetComparison()\n      }\n      this.$nextTick(this.resetCanvas)\n    },\n\n    taskTypeToCompare () {\n      if (this.isComparing) {\n        this.resetComparison()\n      }\n    },\n\n    shots () {\n      this.shotList = Object.values(this.shots)\n      this.playingShotIndex = 0\n      this.pause()\n      this.rawPlayer.setCurrentTime(0)\n      this.updateProgressBar()\n      this.updateTaskPanel()\n      this.rebuildComparisonOptions()\n      this.clearCanvas()\n      this.annotations = []\n      if (this.shotList.length === 0) {\n        this.rawPlayer.clear()\n        if (this.isComparing) {\n          this.$refs['raw-player-comparison'].clear()\n        }\n        this.maxDurationRaw = 0\n        this.maxDuration = '00:00.00'\n      } else {\n        if (\n          this.shotList[0].preview_file_extension !== 'mp4'\n        ) {\n          this.$nextTick(() => {\n            this.rawPlayer.loadNextShot()\n          })\n        }\n      }\n      this.resetHeight()\n    },\n\n    playlist () {\n      this.$nextTick(() => {\n        this.updateProgressBar()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.playlist-player {\n  background: $dark-grey;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .playlist-button {\n    margin: 0;\n    background: $dark-grey-light;\n    border: 0;\n    border-radius: 0;\n    color: $white-grey;\n\n    &:hover {\n      background: $dark-grey-lighter;\n    }\n\n    &.active {\n      color: $green;\n    }\n  }\n}\n\n.playlist-header {\n  color: $white-grey;\n  background: $dark-grey-light;\n\n  .playlist-name {\n    flex: 1;\n    font-size: 1.5em;\n    padding: 10px;\n    padding-left: 1em;\n  }\n\n  .edit-button,\n  .delete-button {\n    height: 50px;\n    width: 50px;\n  }\n}\n\n.playlisted-shots,\n.playlist-progress,\n.playlist-footer {\n  background: $dark-grey-light;\n  color: $white-grey;\n}\n\n.playlisted-shots {\n  border-top: 1px solid $dark-grey-strong;\n  padding: 0.5em;\n  overflow-x: auto;\n  align-items: flex-start;\n  height: 240px;\n  min-height: 240px;\n}\n\n.task-info-column {\n  min-width: 450px;\n  max-width: 450px;\n  overflow-y: auto;\n}\n\n.loading-background {\n  width: 100%;\n  height: 100%;\n  background: black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.spinner {\n  margin: auto;\n}\n\n.icon {\n  margin-top: -4px;\n  height: 20px;\n}\n\n.smaller {\n  height: 16px;\n}\n\n.right {\n  margin-left: auto;\n}\n\n.video-player {\n  display: flex;\n  flex-direction: column;\n  align-content: flex-end;\n  height: 100%;\n}\n\n.video-wrapper {\n  flex: 1;\n  display: flex;\n  background: black;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  margin: auto;\n  width: 100%;\n}\n\n.annotation-movie {\n  margin: auto;\n  width: 100%;\n}\n\n.time-indicator {\n  color: $light-grey;\n  padding-left: 0.8em;\n  margin-right: 0;\n}\n\n.video-container {\n  position: relative;\n}\n\n.canvas-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.buttons {\n  height: 32px;\n}\n\n.comparison-combobox {\n  margin-bottom: 0;\n}\n\n.buttons .comparison-button {\n  margin-left: 1em;\n}\n\nprogress::-moz-progress-bar {\n  background-color: #43B581;\n}\n\nprogress::-webkit-progress-value {\n  background-color: #43B581;\n}\n\nprogress {\n  width: 100%;\n  border-radius: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: $grey;\n  height: 8px;\n  display: block;\n}\n\n.progress  span#progress-bar {\n  width: 100%;\n  border-radius: 0;\n  margin: 0;\n  padding: 0;\n  background-color: #43B581;\n}\n\n.video-progress {\n  cursor: pointer;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: $grey;\n  height: 8px;\n}\n\n.mr1 {\n  margin-right: 1em;\n}\n\n.playlist-progress {\n  width: 100%;\n}\n\n.playlist-header,\n.playlist-progress,\n.playlist-progress {\n  transition: opacity 0.5s ease\n}\n\n.progress-cursor {\n  position: absolute;\n  display: block;\n  background-color: #43B581;\n  border-radius: 50%;\n  width: 14px;\n  height: 14px;\n  z-index: 200;\n  cursor: pointer;\n}\n\n.comparison-list,\n.comparison-list p,\n.comparison-list select {\n  font-size: 0.8em;\n}\n.comparison-list select {\n  height: 2.2em;\n}\n\n.dl-button {\n  background: $dark-grey;\n  border: 1px solid $dark-grey;\n  color: $white;\n  position: absolute;\n  width: 180px;\n  padding: 8px;\n\n  &:hover {\n    background: $dark-grey-light;\n  }\n\n  &.zip-button {\n    left: -110px;\n    top: -200px;\n  }\n\n  &.mp4-button {\n    left: -110px;\n    top: -160px;\n    cursor: pointer;\n  }\n}\n\n.build-list {\n  background: $dark-grey;\n  border: 1px solid $dark-grey;\n  position: absolute;\n  width: 180px;\n  left: -110px;\n  top: -120px;\n  height: 120px;\n  overflow-y: auto;\n  padding: 8px;\n  z-index: 300;\n}\n\n.build-title {\n  margin-bottom: 0.5em;\n}\n\n.delete-job-button {\n  background: transparent;\n  border-radius: 50%;\n  color: $light-grey-light;\n  cursor: pointer;\n  padding: 3px;\n\n  &:hover {\n    background: $dark-grey-light;\n  }\n}\n\n.build-spinner {\n  width: 15px;\n  max-width: 15px;\n}\n\n.spinner {\n  margin-top: 80px;\n  margin-left: 1em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlaylistPlayer.vue?vue&type=template&id=77fbe520&scoped=true&\"\nimport script from \"./PlaylistPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./PlaylistPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlaylistPlayer.vue?vue&type=style&index=0&id=77fbe520&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77fbe520\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"productions page fixed-page\">\n    <div class=\"columns\">\n\n      <div class=\"playlist-list-column column\">\n        <button\n          :class=\"{\n            button: true,\n            'is-loading': loading.addPlaylist\n          }\"\n          @click=\"addPlaylist\"\n          key=\"new-playlist-button\"\n          v-if=\"isCurrentUserManager\"\n        >\n          <plus-icon class=\"icon is-small\" />\n          {{ $t('playlists.new_playlist') }}\n        </button>\n\n        <div\n          class=\"playlists\"\n          v-if=\"!loading.playlists\"\n        >\n          <router-link\n            :key=\"playlist.id\"\n            :to=\"getPlaylistPath(playlist.id)\"\n            :class=\"{\n              'playlist-item': true,\n              selected: playlist.id === currentPlaylist.id\n            }\"\n            v-for=\"playlist in playlists\"\n          >\n            <span>\n            {{ playlist.name }}\n            </span>\n            <span class=\"playlist-date\">\n            {{ formatDate(playlist.created_at)}}\n            </span>\n          </router-link>\n        </div>\n        <spinner\n          class=\"mt2\"\n          v-else\n        />\n        <error-text\n          text=\"$t('playlists.loading_error')\"\n          v-if=\"errors.playlistLoading\"\n        />\n      </div>\n\n      <div class=\"playlist-column column\">\n        <playlist-player\n          ref=\"playlist-player\"\n          :playlist=\"currentPlaylist\"\n          :shots=\"currentShots\"\n          :is-loading=\"loading.playlist\"\n          @preview-changed=\"onPreviewChanged\"\n          @playlist-deleted=\"goFirstPlaylist\"\n          @remove-shot=\"removeShot\"\n          @order-change=\"onOrderChange\"\n          @annotationchanged=\"onAnnotationChanged\"\n        />\n      </div>\n\n      <div\n        class=\"addition-column column\"\n        v-if=\"isCurrentUserManager\"\n      >\n        <spinner\n          class=\"mt2\"\n          key=\"shot-loader\"\n          v-if=\"isShotsLoading\"\n        />\n        <div v-else>\n          <div class=\"addition-header\">\n            <page-subtitle\n              :text=\"$t('playlists.add_shots')\"\n            />\n            <button\n              :class=\"{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addWeekly\n              }\"\n              :disabled=\"isAdditionLoading\"\n              @click=\"addAllPending\"\n            >\n              {{ $t('playlists.build_weekly') }}\n            </button>\n            <button\n              :class=\"{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addDaily\n              }\"\n              :disabled=\"isAdditionLoading\"\n              @click=\"addDailyPending\"\n            >\n              {{ $t('playlists.build_daily') }}\n            </button>\n\n            <div\n              class=\"mt1\"\n              key=\"shot-list-header\"\n              v-if=\"episodes.length > 0 || !isTVShow\"\n            >\n              <div>\n                <combobox\n                  class=\"select-sequence-combobox\"\n                  :label=\"$t('shots.fields.sequence')\"\n                  :options=\"sequenceOptions\"\n                  v-model=\"sequenceId\"\n                  v-if=\"sequenceOptions.length > 0\"\n                />\n                <div v-if=\"sequenceOptions.length === 0\">\n                  {{ $t('playlists.no_sequence_for_episode') }}\n                </div>\n                <button\n                  :class=\"{\n                    button: true,\n                    'add-sequence': true,\n                    'is-loading': this.loading.addSequence\n                  }\"\n                  :disabled=\"isAdditionLoading\"\n                  @click=\"addSequence\"\n                  v-if=\"sequenceOptions.length > 0\"\n                >\n                  {{ $t('playlists.add_sequence') }}\n                </button>\n              </div>\n            </div>\n            <div v-else>\n              {{ $t('playlists.no_shot_for_production') }}\n            </div>\n\n            <div v-if=\"sequenceShots.length === 0 && sequenceId\">\n              {{ $t('playlists.no_shot_for_sequence') }}\n            </div>\n          </div>\n\n          <div\n            :class=\"{\n              'addition-shot': true,\n              playlisted: currentShots[shot.id] !== undefined\n            }\"\n            :key=\"shot.id\"\n            @click.prevent=\"addShotToPlaylist(shot)\"\n            v-for=\"shot in sequenceShots\"\n          >\n            <entity-thumbnail\n              :entity=\"shot\"\n              :empty-width=\"150\"\n              :empty-height=\"100\"\n            />\n            {{ shot.name }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\nimport { PlusIcon } from 'vue-feather-icons'\nimport { formatDate } from '../../lib/time'\nimport {\n  updateModelFromList,\n  removeModelFromList\n} from '../../lib/models'\n\nimport Combobox from '../widgets/Combobox'\nimport EntityThumbnail from '../widgets/EntityThumbnail'\nimport ErrorText from '../widgets/ErrorText'\nimport PageSubtitle from '../widgets/PageSubtitle'\nimport PlaylistPlayer from './playlists/PlaylistPlayer'\nimport Spinner from '../widgets/Spinner'\n\nexport default {\n  name: 'productions',\n\n  components: {\n    Combobox,\n    EntityThumbnail,\n    ErrorText,\n    PageSubtitle,\n    PlaylistPlayer,\n    PlusIcon,\n    Spinner\n  },\n\n  data () {\n    return {\n      currentPlaylist: { name: this.$t('playlists.no_selection') },\n      currentShot: 0,\n      currentShots: {},\n      sequenceId: null,\n      sequenceOptions: [],\n      sequenceShots: [],\n      modals: {\n        isDeleteDisplayed: false,\n        isEditDisplayed: false\n      },\n      loading: {\n        playlist: false,\n        playlists: false,\n        addPlaylist: false,\n        addDaily: false,\n        addSequence: false,\n        addWeekly: false,\n        deletePlaylist: false\n      },\n      errors: {\n        playlistLoading: false,\n        addPlaylist: false,\n        deletePlaylist: false\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'episodes',\n      'isShotsLoading',\n      'isTVShow',\n      'isCurrentUserManager',\n      'playlistMap',\n      'playlists',\n      'playlistsPath',\n      'playlistMap',\n      'sequences',\n      'shotMap',\n      'taskTypeMap'\n    ]),\n\n    isAdditionLoading () {\n      return (\n        this.loading.addSequence ||\n        this.loading.addWeekly ||\n        this.loading.addDaily\n      )\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addNewBuildJob',\n      'addShotPreviewToPlaylist',\n      'changePlaylistOrder',\n      'changePlaylistPreview',\n      'getPending',\n      'loadPlaylist',\n      'loadPlaylists',\n      'loadShotPreviewFiles',\n      'loadShots',\n      'markBuildJobAsDone',\n      'newPlaylist',\n      'refreshPlaylist',\n      'removeShotPreviewFromPlaylist',\n      'removeBuildJobFromList',\n      'updatePreviewAnnotation'\n    ]),\n\n    formatDate (dateString) {\n      return formatDate(dateString)\n    },\n\n    getPlaylistPath (playlistId, section) {\n      let route = {\n        name: section ? `${section}-playlist` : 'playlist',\n        params: {\n          production_id: this.currentProduction.id,\n          playlist_id: playlistId\n        }\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        route.name = `episode-${route.name}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    },\n\n    loadShotsData (callback) {\n      this.loadShots(() => {\n        if (this.episodes.length > 0 || !this.isTVShow) {\n          this.setAdditionSequences()\n        }\n        this.loadPlaylistsData()\n        if (callback) callback()\n      })\n    },\n\n    loadPlaylistsData () {\n      this.loading.playlists = true\n      this.loadPlaylists((err) => {\n        if (err) this.errors.loadPlaylists = true\n        this.loading.playlists = false\n        if (!err) {\n          this.setCurrentPlaylist(() => {\n            if (!this.currentPlaylist || !this.currentPlaylist.id) {\n              this.goFirstPlaylist()\n            }\n          })\n        }\n      })\n    },\n\n    rebuildCurrentShots () {\n      this.currentShots = {}\n      const tmpShots = {}\n      if (this.currentPlaylist && this.currentPlaylist.shots) {\n        this.currentPlaylist.shots.forEach((shotPreview) => {\n          this.addShotToCurrentShots(shotPreview, tmpShots)\n        })\n      }\n      this.currentShots = tmpShots\n    },\n\n    addShotToCurrentShots (shotPreview, playlistShotMap) {\n      const shot = this.shotMap[shotPreview.shot_id]\n      if (shot) {\n        const playlistShot = {\n          id: shotPreview.shot_id,\n          name: shot.name,\n          sequence_name: shot.sequence_name,\n          entity_name: shot.tasks[0].entity_name,\n          preview_files: shotPreview.preview_files,\n          preview_file_id:\n            shotPreview.preview_file_id || shot.preview_file_id,\n          preview_file_extension:\n            shotPreview.extension || shot.preview_file_extension,\n          preview_file_task_id:\n            shotPreview.task_id || shot.preview_file_task_id,\n          preview_file_annotations:\n            shotPreview.annotations || shot.preview_file_annotations\n        }\n        playlistShotMap[shotPreview.shot_id] = playlistShot\n        return playlistShot\n      } else {\n        return null\n      }\n    },\n\n    clearCurrentPlaylist () {\n      this.currentPlaylist = {}\n      this.currentShots = {}\n    },\n\n    resetPlaylist () {\n      this.clearCurrentPlaylist()\n      this.setCurrentPlaylist()\n    },\n\n    addPlaylist () {\n      const newPlaylist = {\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\n        production_id: this.currentProduction.id\n      }\n\n      if (this.isTVShow && this.currentEpisode) {\n        newPlaylist.episode_id = this.currentEpisode.id\n      }\n\n      this.loading.addPlaylist = true\n      this.errors.addPlaylist = false\n      this.newPlaylist({\n        data: newPlaylist,\n        callback: (err, playlist) => {\n          if (err) this.errors.addPlaylist = true\n          this.$router.push(this.getPlaylistPath(playlist.id))\n          this.loading.addPlaylist = false\n        }\n      })\n    },\n\n    setCurrentPlaylist (callback) {\n      const playlistId = this.$route.params.playlist_id\n      const playlist = this.playlistMap[playlistId]\n      this.loading.playlist = true\n      if (playlist) {\n        this.loadPlaylist({\n          playlist,\n          callback: (err, playlist) => {\n            this.loading.playlist = false\n            if (err) console.log(err)\n            this.currentPlaylist = playlist\n            this.rebuildCurrentShots()\n            if (callback) callback()\n          }\n        })\n      } else {\n        this.currentPlaylist = {\n          name: this.$t('playlists.no_selection')\n        }\n        this.currentShots = {}\n      }\n    },\n\n    goFirstPlaylist () {\n      if (this.playlists.length > 0) {\n        this.$router.push({\n          name: 'playlist',\n          params: {\n            production_id: this.currentProduction.id,\n            playlist_id: this.playlists[0].id\n          }\n        })\n      } else {\n        this.$router.push(this.playlistsPath)\n      }\n    },\n\n    clearAdditionColumn () {\n      this.sequenceOptions = []\n      this.sequenceId = null\n    },\n\n    setAdditionSequences () {\n      let sequences = []\n      if (this.isTVShow && this.currentEpisode) {\n        sequences = this.sequences.filter((sequence) => {\n          return sequence.parent_id === this.currentEpisode.id\n        })\n      } else {\n        sequences = this.sequences\n      }\n\n      this.sequenceOptions = sequences.map(\n        (sequence) => ({ label: sequence.name, value: sequence.id })\n      )\n      this.sequenceId = sequences.length > 0 ? sequences[0].id : null\n    },\n\n    setAdditionShots () {\n      this.sequenceShots = Object.values(this.shotMap).filter((shot) => {\n        return shot.sequence_id === this.sequenceId\n      })\n    },\n\n    addShot (shot) {\n      return new Promise((resolve, reject) => {\n        if (this.currentPlaylist.id && !this.currentShots[shot.id]) {\n          this.loadShotPreviewFiles({\n            playlist: this.currentPlaylist,\n            shot,\n            callback: (err, previewFiles) => {\n              if (err) console.log(err)\n              const shotInfo = { ...shot }\n              if (\n                !shotInfo.preview_file_id &&\n                Object.keys(previewFiles).length > 0\n              ) {\n                const previewFile =\n                  previewFiles[Object.keys(previewFiles)[0]][0]\n                shotInfo.preview_file_id = previewFile.id\n                shotInfo.preview_file_task_id = previewFile.task_id\n              }\n              this.addShotPreviewToPlaylist({\n                playlist: this.currentPlaylist,\n                previewFiles: previewFiles,\n                shot: shotInfo,\n                callback: (err, shotPreview) => {\n                  if (err) console.error(err)\n                  const playlistShot =\n                    this.addShotToCurrentShots(shotPreview, this.currentShots)\n                  this.$refs['playlist-player'].shotList.push(playlistShot)\n                  this.$nextTick(() => {\n                    this.$refs['playlist-player'].scrollToRight()\n                    resolve()\n                  })\n                }\n              })\n            }\n          })\n        } else {\n          resolve()\n        }\n      })\n    },\n\n    addShotToPlaylist (shot) {\n      this.$options.silent = true\n      this.addShot(shot)\n        .then(() => {\n          setTimeout(() => {\n            this.$options.silent = false\n          }, 500)\n        })\n    },\n\n    addSequence () {\n      this.$options.silent = true\n      this.loading.addSequence = true\n      const shots = [...this.sequenceShots].reverse()\n      this.addShots(shots, () => {\n        this.loading.addSequence = false\n        this.$options.silent = false\n      })\n    },\n\n    addAllPending () {\n      this.$options.silent = true\n      this.loading.addWeekly = true\n      this.getPending(false)\n        .then((shots) => {\n          this.addShots(shots.reverse(), () => {\n            this.loading.addWeekly = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addDailyPending () {\n      this.loading.addDaily = true\n      this.$options.silent = true\n      this.getPending(true)\n        .then((shots) => {\n          this.addShots(shots.reverse(), () => {\n            this.loading.addDaily = false\n            this.$options.silent = false\n          })\n        })\n    },\n\n    addShots (shots, callback) {\n      if (shots && shots.length > 0) {\n        const shot = shots.pop()\n        this.addShot(shot)\n          .then(() => {\n            this.addShots(shots, callback)\n          })\n      } else {\n        callback()\n      }\n    },\n\n    removeShot (shot) {\n      this.removeShotPreviewFromPlaylist({\n        playlist: this.currentPlaylist,\n        shot,\n        callback: () => {\n          delete this.currentShots[shot.id]\n        }\n      })\n    },\n\n    onPreviewChanged (shot, previewFileId) {\n      this.changePlaylistPreview({\n        playlist: this.currentPlaylist,\n        shot,\n        previewFileId\n      })\n      this.rebuildCurrentShots()\n    },\n\n    onOrderChange (info) {\n      this.changePlaylistOrder({\n        playlist: this.currentPlaylist,\n        info\n      })\n    },\n\n    onAnnotationChanged ({ preview, annotations }) {\n      const taskId = preview.task_id\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\n    }\n  },\n\n  mounted () {\n    setTimeout(() => { // Needed to ensure playlist is loaded after topbar\n      this.loadShotsData(() => {\n        this.setAdditionSequences()\n        this.resetPlaylist()\n      })\n    }, 0)\n  },\n\n  watch: {\n    $route () {\n      this.setCurrentPlaylist()\n    },\n\n    sequenceId () {\n      this.setAdditionShots()\n    },\n\n    currentProduction () {\n      this.loadShotsData(() => {\n        this.setAdditionSequences()\n        this.resetPlaylist()\n      })\n    },\n\n    currentEpisode () {\n      if (this.currentEpisode) {\n        this.loadShotsData(() => {\n          this.setAdditionSequences()\n          this.resetPlaylist()\n        })\n      }\n    }\n  },\n\n  metaInfo () {\n    if (this.isTVShow) {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''} ` +\n               `- ${this.currentEpisode ? this.currentEpisode.name : ''} |` +\n               ` ${this.$t('playlists.title')} - Kitsu`\n      }\n    } else {\n      return {\n        title: `${this.currentProduction ? this.currentProduction.name : ''}` +\n               ` ${this.$t('playlists.title')}` +\n               ` - Kitsu`\n      }\n    }\n  },\n\n  socket: {\n    events: {\n      'playlist:new' (eventData) {\n        if (!this.playlistMap[eventData.playlist_id]) {\n          this.refreshPlaylist(eventData.playlist_id)\n        }\n      },\n\n      'playlist:update' (eventData) {\n        if (\n          this.playlistMap[eventData.playlist_id] &&\n          !this.$options.silent\n        ) {\n          this.refreshPlaylist(eventData.playlist_id)\n            .then((playlist) => {\n              if (this.currentPlaylist.id === playlist.id) {\n                Object.assign(this.currentPlaylist, playlist)\n                this.rebuildCurrentShots()\n              }\n            })\n        }\n      },\n\n      'playlist:delete' (eventData) {\n        this.$store.commit('DELETE_PLAYLIST_END', {\n          id: eventData.playlist_id\n        })\n      },\n\n      'build-job:new' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs = [{\n            id: eventData.build_job_id,\n            created_at: eventData.created_at,\n            status: 'running',\n            playlist_id: this.currentPlaylist.id\n          }].concat(this.currentPlaylist.build_jobs)\n        }\n      },\n\n      'build-job:success' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          updateModelFromList(this.currentPlaylist.build_jobs, {\n            id: eventData.build_job_id,\n            status: 'succeeded'\n          })\n        }\n      },\n\n      'build-job:delete' (eventData) {\n        if (eventData.playlist_id === this.currentPlaylist.id) {\n          this.currentPlaylist.build_jobs =\n            removeModelFromList(this.currentPlaylist.build_jobs, {\n              id: eventData.build_job_id\n            })\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .playlist-item {\n    background: #46494F;\n    box-shadow: 0px 0px 6px #333;\n    border-color: $dark-grey;\n    color: $white-grey;\n  }\n\n  .playlist-list-column {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n    box-shadow: 0px 0px 6px #333;\n  }\n\n  .addition-column {\n    background: $dark-grey-light;\n    border-left: 1px solid $dark-grey;\n    box-shadow: 0px 0px 6px #333;\n  }\n\n  span.thumbnail-picture {\n    box-shadow: 0px 0px 6px #333;\n  }\n}\n\n.page {\n  display: flex;\n  padding-left: 0;\n  padding-right: 0;\n  padding-bottom: 0;\n}\n\n.page .columns {\n  margin-bottom: 0;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.playlist-list-column {\n  max-width: 300px;\n  background: #F4F5F9;\n  overflow-y: auto;\n  padding: 2em 1em 1em 2em;\n  border-right: 1px solid #DDD;\n  box-shadow: 0px 0px 6px #F0F0F0;\n  z-index: 201;\n}\n\n.playlist-item {\n  display: block;\n  background: white;\n  padding: 1em;\n  margin: 0.2em;\n  border: 1px solid $white-grey;\n  box-shadow: 0px 0px 6px #DDD;\n  color: $grey-strong;\n}\n\n.playlist-item.selected {\n  border-right: 3px solid $light-green;\n}\n\n.playlist-list-column .button {\n  width: 100%;\n}\n\n.addition-column {\n  max-width: 200px;\n  margin-right: 12px;\n  padding: 0;\n  background: #F4F5F9;\n  overflow-y: auto;\n  border-left: 1px solid #DDD;\n  box-shadow: 0px 0px 6px #F0F0F0;\n  overflow-y: scroll;\n  z-index: 201;\n}\n\n.addition-shot {\n  padding: 0;\n  cursor: pointer;\n  text-align: center;\n  margin: 0 0 0.5em 0;\n  opacity: 0.5;\n  display: flex;\n  flex-direction: column;\n\n  a {\n    margin: auto;\n  }\n\n  &:hover {\n    opacity: 0.75\n  }\n\n  &.playlisted {\n    opacity: 1\n  }\n}\n\nspan.thumbnail-picture {\n  box-shadow: 0px 0px 6px #DDD;\n  margin-bottom: 2px;\n}\n\n.addition-column .thumbnail-empty {\n  margin-left: 1.5em;\n}\n\n.addition-header {\n  padding: 0 1em;\n\n  .subtitle {\n    margin-top: 1.5em;\n  }\n}\n\n.select-sequence-combobox {\n  margin-bottom: 1em;\n}\n\n.add-sequence {\n  margin-bottom: 0.4em;\n}\n\n.playlist-column {\n  margin-top: 10px;\n  padding: 0;\n  overflow: hidden;\n  flex: 1;\n}\n\n.playlist-date {\n  display: block;\n  color: $grey;\n  font-size: 0.8em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=2d62a6d5&scoped=true&\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=2d62a6d5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d62a6d5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=2d62a6d5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=2d62a6d5&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RawVideoPlayer.vue?vue&type=style&index=0&id=fc2c9bcc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RawVideoPlayer.vue?vue&type=style&index=0&id=fc2c9bcc&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistPlayer.vue?vue&type=style&index=0&id=77fbe520&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistPlayer.vue?vue&type=style&index=0&id=77fbe520&lang=scss&scoped=true&\""],"sourceRoot":""}